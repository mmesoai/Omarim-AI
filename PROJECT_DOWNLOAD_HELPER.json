{
  ".env": "\n",
  "NEXT_STEPS.md": "# Omarim AI: Final Integration Steps\n\nThis document provides the final instructions needed to connect your Omarim AI application to live, third-party services. Follow these steps to transition from a fully-functional prototype to a production-ready powerhouse.\n\n---\n\n## 1. Activate Real Email Outreach (Ready for Keys)\n\nThe application has been fully integrated with the SendGrid SDK. All you need to do is provide your API keys.\n\n**Purpose:** To enable the Autonomous Agent and other outreach features to send real emails to your leads.\n\n**Instructions:**\n\n1.  **Create a SendGrid Account:** If you don't have one, sign up at [sendgrid.com](https://sendgrid.com/).\n2.  **Create a Sender Identity:** In your SendGrid dashboard, you must verify an email address or a domain that you will send emails from. Follow their \"Sender Authentication\" guide.\n3.  **Generate an API Key:** In your SendGrid account, go to \"Settings\" -> \"API Keys\" and create a new API key with \"Full Access\" permissions.\n4.  **Update Your `.env` File:** Open the `.env` file in the root of your project and add the following lines, replacing the placeholders with your actual credentials.\n\n    ```bash\n    # --- SendGrid API Keys ---\n    # Used by the email service to send real outreach emails.\n    SENDGRID_API_KEY=\"YOUR_API_KEY_HERE\"\n    SENDGRID_FROM_EMAIL=\"your.verified.email@example.com\"\n    ```\n\n**Result:** Once these keys are in place, the \"Engage Lead\" and other email-related features will send emails through your SendGrid account.\n\n---\n\n## 2. Activate E-commerce Data Sync (Developer Required)\n\nThe user interface for managing stores and viewing products is complete. The next step is to build the backend logic to fetch data from live stores.\n\n**Purpose:** To automatically sync product listings from your Shopify, WooCommerce, or other e-commerce stores into the \"Product Sourcing\" dashboard.\n\n**Instructions:**\n\n1.  **Obtain API Credentials:** For each store you want to connect (e.g., Shopify), go to its admin panel and create \"Private App\" or \"Custom App\" credentials to get an API Key and API URL.\n2.  **Store Credentials Securely:** Add these credentials to your `.env` file. For example, for a Shopify store:\n\n    ```bash\n    # --- Shopify Integration ---\n    SHOPIFY_STORE_URL=\"https://your-store-name.myshopify.com\"\n    SHOPIFY_API_KEY=\"shpat_xxxxxxxxxxxxxxxxxxxx\"\n    ```\n\n3.  **Build the Service Logic (For a developer):** A developer would need to create a new service file (e.g., `src/services/shopify-service.ts`) that uses these credentials to make API calls to Shopify to fetch product data. This service would then be used to populate the Firestore database, which the UI already reads from.\n\n---\n\n## 3. Activate Social Media Publishing (Developer Required)\n\nThe \"AI Social Publisher\" is fully functional for generating content. The final step is to build the logic to post this content to social media platforms.\n\n**Purpose:** To enable one-click publishing of your AI-generated content to X (Twitter), LinkedIn, Facebook, and other platforms.\n\n**Instructions:**\n\n1.  **Create Developer Apps:** For each platform (e.g., X, LinkedIn), you will need to apply for a developer account and create a new \"app\".\n2.  **Implement OAuth 2.0 Flow (For a developer):** Social media integrations require a secure authentication process called OAuth 2.0. A developer would need to build the UI flow (pop-ups, redirects) that allows a user to grant Omarim AI permission to post on their behalf.\n3.  **Build the API Service (For a developer):** After authentication, a developer would write the code in a new service file (e.g., `src/services/twitter-service.ts`) to take the generated content and use the platform's API to publish it as a new post.\n\n---\n\n## 4. Automate YouTube Live Reposting (Developer Required)\n\nThis is the most advanced feature and requires a dedicated backend service.\n\n**Purpose:** To automatically generate social media posts about a YouTube live stream moments after it has finished.\n\n**Instructions:**\n\n1.  **Set Up a Google Cloud Function:** This task is best handled by a serverless function that can run independently.\n2.  **Use the YouTube Data API:** A developer would write code inside this Cloud Function to \"watch\" a specific YouTube channel. It would periodically check if a live stream is active and detect when it transitions from \"live\" to \"completed\".\n3.  **Trigger the Omarim AI Flow:** Once the stream has ended, the Cloud Function would make a secure API call to your Omarim AI application, triggering the existing `generateMultipleSocialPosts` flow with the YouTube video URL.\n4.  **Publish Posts:** If you have completed Step 3 (Social Media Publishing), these generated posts could then be published automatically.\n",
  "OMARIM_AI_SYSTEM_ARCHITECTURE.md": "\n# Omarim AI: System Architecture & Feature Overview\n\nThis document provides a comprehensive overview of the Omarim AI platform's architecture, features, and capabilities. It serves as a blueprint for the entire system, from user interaction channels to the underlying AI engine.\n\n---\n\n## 1. Core Concept & Mission\n\n**Mission:** To act as an autonomous business development partner, automating tasks like lead generation, e-commerce sourcing, and content creation to help users grow their business with minimal human intervention.\n\nThe platform is divided into three main operational layers:\n- **Inbound Channels:** How the user gives commands to the AI.\n- **Outbound Channels:** How the AI proactively works for the user.\n- **Dashboard Modules:** The user interface for managing the AI and viewing results.\n\n---\n\n## 2. Inbound Channels (User-to-AI Communication)\n\nThese are the primary ways a user can interact with and command Omarim AI.\n\n### a. Conversational Chat (`/dashboard/chat`)\n- **Function:** A real-time chat interface where users can issue natural language commands.\n- **Underlying AI:** Uses the `interpretCommand` flow to understand the user's intent and route it to the correct action (e.g., generate content, navigate to a page, execute a campaign).\n- **Outputs:** Can display simple text answers, structured results (like a generated social post), or trigger navigation to other parts of the app.\n\n### b. Voice Command Center (`/dashboard/voice`)\n- **Function:** Allows the user to speak commands directly to the AI.\n- **Underlying AI:**\n    - `convertSpeechToText`: Transcribes the user's spoken audio into text.\n    - `interpretCommand`: Understands the transcribed command.\n    - `convertTextToSpeech`: The AI can respond or read text aloud using a generated voice.\n- **Outputs:** Executes commands and can provide an audible response.\n\n### c. Quick Action Button (Global)\n- **Function:** A floating action button on the dashboard that allows users to quickly issue a command from anywhere in the app.\n- **Underlying AI:** Captures the command and forwards it to the main chat interface for interpretation and execution.\n\n---\n\n## 3. Outbound Channels (AI-to-World Autonomous Actions)\n\nThese are the proactive, autonomous engines where Omarim AI works on behalf of the user.\n\n### a. Autonomous Business Agent (`/dashboard/agent`)\n- **Function:** Finds and qualifies new business leads based on a high-level objective (e.g., \"Find 5 local businesses that need a new website\").\n- **Underlying AI:**\n    - `autonomousLeadGen`: Interprets the objective and uses the `findAndQualifyLeads` tool.\n    - `findAndQualifyLeads`: Generates plausible, fictional leads and provides a reason for qualification.\n    - `initiateOutreach`: Saves the qualified lead to the database, generates a personalized email, and simulates sending it.\n- **Outputs:** A list of qualified leads, which can be engaged with a single click.\n\n### b. Automated Digital Product Funnel (`/dashboard/digital-products`)\n- **Function:** A fully automated weekly or on-demand workflow that finds, creates, and markets a new digital product.\n- **Underlying AI:**\n    - `automatedDigitalProductFunnel`: The master flow that orchestrates the entire process.\n    - `findTrendingDigitalProduct`: Identifies a trending digital product idea.\n    - `generateDigitalProduct`: Creates the actual content for the product (e.g., writes an e-book).\n    - `generateLandingPage`: Generates the HTML for a dedicated product landing page.\n    - `generateMultipleSocialPosts`: Creates a social media campaign to market the product.\n- **Outputs:** A new product, a landing page, and a multi-platform marketing campaign, all generated autonomously.\n\n### c. E-commerce Product Sourcing (`/dashboard/stores`)\n- **Function:** The AI analyzes product categories to identify trending physical products and generate marketing campaigns.\n- **Underlying AI:**\n    - `findTrendingProducts`: Finds a single trending product, a potential (fictional) supplier, and a marketing angle.\n    - `generateProductCampaign`: Takes product details and generates a full marketing campaign, including social posts, an AI-generated image, and a video concept.\n- **Outputs:** A complete marketing campaign for a new product, ready for review and launch.\n\n---\n\n## 4. Dashboard Modules & UI Components\n\n### a. Main Dashboard (`/dashboard`)\n- **Function:** A central hub providing a high-level overview of all business activities.\n- **Components:**\n    - **KPI Cards:** Show key metrics like Total Leads, Synced Products, and Active Campaigns.\n    - **Outbound Engine:** A unified card representing the AI's autonomous lead and product sourcing capabilities.\n    - **AI Approval Request:** A card that appears when the AI needs human confirmation to proceed with an action (e.g., launching a campaign).\n    - **Revenue Overview & Recent Activity:** Charts and feeds that visualize financial data and recent system actions.\n    - **Lead Intelligence Chart:** A pie chart showing the status distribution of the lead pipeline.\n\n### b. Lead Intelligence (`/dashboard/leads`)\n- **Function:** A real-time table displaying all leads from the Firestore database.\n- **Features:** Shows lead name, company, email, and status. Allows users to initiate outreach to a lead, which updates their status and triggers an AI-generated email.\n\n### c. Outreach Engine (`/dashboard/outreach`)\n- **Function:** Manage and create automated email outreach sequences.\n- **Features:** Users can create new multi-step email campaigns. The UI displays key performance metrics like open rate and reply rate for each sequence.\n\n### d. AI Social Publisher (`/dashboard/publisher`)\n- **Function:** A tool to generate social media content for multiple platforms from a single input (text, topic, or YouTube URL).\n- **Features:** Creates tailored posts for Twitter, LinkedIn, and Facebook, complete with relevant hashtags.\n\n### e. App Builder (`/dashboard/app-builder`)\n- **Function:** An AI-powered tool to generate a professional technical blueprint for a new application idea.\n- **Features:** Takes a user's app description and outputs a full specification, including core features, data models, user personas, and a recommended tech stack.\n\n### f. Inbox (`/dashboard/inbox`)\n- **Function:** A mock email client to view and analyze inbound replies.\n- **Underlying AI:** `classifyInboundReply` flow analyzes each email to determine its sentiment, category, and relevant tags, which are displayed to the user.\n\n### g. Settings (`/dashboard/settings`)\n- **Function:** A page for managing user profile, billing information, and third-party integrations.\n- **Features:** Allows users to connect e-commerce stores (Shopify, WooCommerce, etc.) and other services like SendGrid.\n\n---\n\n## 5. AI Engine & Core Flows (`src/ai/`)\n\nThis is the \"brain\" of Omarim AI, containing all the Genkit flows and tools that power the platform's features.\n\n- **`autonomousLeadGen`:** Finds and qualifies leads.\n- **`initiateOutreach`:** Saves a lead and sends the first email.\n- **`automatedDigitalProductFunnel`:** The complete A-to-Z digital product creation and marketing flow.\n- **`generateProductCampaign`:** Creates a full marketing campaign for a product.\n- **`findTrendingProducts`:** Identifies trending physical products.\n- **`generateProductIdeas`:** Brainstorms new product ideas from a topic.\n- **`interpretCommand`:** The core NLU engine for the chat and voice interfaces.\n- **`generateMultipleSocialPosts`:** Repurposes content for different social platforms.\n- **`generateAppBlueprint`:** Creates a technical spec from an idea.\n- **`classifyInboundReply`:** Analyzes inbound emails for sentiment and category.\n- **`convertSpeechToText` & `convertTextToSpeech`:** The core voice interaction tools.\n- **`getOmarimAiCapabilities`:** A tool that allows the AI to be self-aware of its own features, which it uses to answer questions about itself.\n",
  "README.md": "# Firebase Studio\n\nThis is a NextJS starter in Firebase Studio.\n\nTo get started, take a look at src/app/page.tsx.\n",
  "apphosting.yaml": "# Settings to manage and configure a Firebase App Hosting backend.\n# https://firebase.google.com/docs/app-hosting/configure\n\nrunConfig:\n  # Increase this value if you'd like to automatically spin up\n  # more instances in response to increased traffic.\n  maxInstances: 100\n",
  "components.json": "{\n  \"$schema\": \"https://ui.shadcn.com/schema.json\",\n  \"style\": \"default\",\n  \"rsc\": true,\n  \"tsx\": true,\n  \"tailwind\": {\n    \"config\": \"tailwind.config.ts\",\n    \"css\": \"src/app/globals.css\",\n    \"baseColor\": \"neutral\",\n    \"cssVariables\": true,\n    \"prefix\": \"\"\n  },\n  \"aliases\": {\n    \"components\": \"@/components\",\n    \"utils\": \"@/lib/utils\",\n    \"ui\": \"@/components/ui\",\n    \"lib\": \"@/lib\",\n    \"hooks\": \"@/hooks\"\n  },\n  \"iconLibrary\": \"lucide\"\n}",
  "docs/backend.json": "\n{\n  \"entities\": {\n    \"Lead\": {\n      \"$schema\": \"http://json-schema.org/draft-07/schema#\",\n      \"title\": \"Lead\",\n      \"type\": \"object\",\n      \"description\": \"Represents a lead scraped from various sources.\",\n      \"properties\": {\n        \"email\": {\n          \"type\": \"string\",\n          \"description\": \"Email address of the lead.\",\n          \"format\": \"email\"\n        },\n        \"firstName\": {\n          \"type\": \"string\",\n          \"description\": \"First name of the lead.\"\n        },\n        \"lastName\": {\n          \"type\": \"string\",\n          \"description\": \"Last name of the lead.\"\n        },\n        \"company\": {\n          \"type\": \"string\",\n          \"description\": \"Company name of the lead.\"\n        },\n        \"domain\": {\n          \"type\": \"string\",\n          \"description\": \"Domain name of the lead's company.\"\n        },\n        \"status\": {\n          \"type\": \"string\",\n          \"description\": \"The current status of the lead (e.g., New, Contacted, Interested).\"\n        }\n      },\n      \"required\": [\n        \"email\",\n        \"firstName\",\n        \"lastName\",\n        \"company\",\n        \"domain\",\n        \"status\"\n      ]\n    },\n    \"NotionPage\": {\n      \"$schema\": \"http://json-schema.org/draft-07/schema#\",\n      \"title\": \"NotionPage\",\n      \"type\": \"object\",\n      \"description\": \"Represents a Notion page where lead data is stored.\",\n      \"properties\": {\n        \"id\": {\n          \"type\": \"string\",\n          \"description\": \"Unique identifier for the NotionPage entity.\"\n        },\n        \"pageUrl\": {\n          \"type\": \"string\",\n          \"description\": \"URL of the Notion page.\"\n        },\n        \"databaseId\": {\n          \"type\": \"string\",\n          \"description\": \"ID of the Notion database.\"\n        }\n      },\n      \"required\": [\n        \"id\",\n        \"pageUrl\",\n        \"databaseId\"\n      ]\n    },\n    \"OutreachSequence\": {\n      \"$schema\": \"http://json-schema.org/draft-07/schema#\",\n      \"title\": \"OutreachSequence\",\n      \"type\": \"object\",\n      \"description\": \"Represents an email outreach sequence.\",\n      \"properties\": {\n        \"id\": {\n          \"type\": \"string\",\n          \"description\": \"Unique identifier for the OutreachSequence entity.\"\n        },\n        \"name\": {\n          \"type\": \"string\",\n          \"description\": \"Name of the outreach sequence.\"\n        },\n        \"description\": {\n          \"type\": \"string\",\n          \"description\": \"Description of the outreach sequence.\"\n        },\n        \"leadIds\": {\n          \"type\": \"array\",\n          \"description\": \"References to Leads. (Relationship: OutreachSequence N:N Lead)\",\n          \"items\": {\n            \"type\": \"string\"\n          }\n        }\n      },\n      \"required\": [\n        \"id\",\n        \"name\",\n        \"description\",\n        \"leadIds\"\n      ]\n    },\n    \"Email\": {\n      \"$schema\": \"http://json-schema.org/draft-07/schema#\",\n      \"title\": \"Email\",\n      \"type\": \"object\",\n      \"description\": \"Represents an email sent as part of an outreach sequence.\",\n      \"properties\": {\n        \"id\": {\n          \"type\": \"string\",\n          \"description\": \"Unique identifier for the Email entity.\"\n        },\n        \"outreachSequenceId\": {\n          \"type\": \"string\",\n          \"description\": \"Reference to OutreachSequence. (Relationship: OutreachSequence 1:N Email)\"\n        },\n        \"leadId\": {\n          \"type\": \"string\",\n          \"description\": \"Reference to Lead. (Relationship: Lead 1:N Email)\"\n        },\n        \"subject\": {\n          \"type\": \"string\",\n          \"description\": \"Subject line of the email.\"\n        },\n        \"body\": {\n          \"type\": \"string\",\n          \"description\": \"Body of the email.\"\n        },\n        \"sentAt\": {\n          \"type\": \"string\",\n          \"description\": \"Timestamp when the email was sent.\",\n          \"format\": \"date-time\"\n        }\n      },\n      \"required\": [\n        \"id\",\n        \"outreachSequenceId\",\n        \"leadId\",\n        \"subject\",\n        \"body\",\n        \"sentAt\"\n      ]\n    },\n    \"InboundReply\": {\n      \"$schema\": \"http://json-schema.org/draft-07/schema#\",\n      \"title\": \"InboundReply\",\n      \"type\": \"object\",\n      \"description\": \"Represents an inbound email reply.\",\n      \"properties\": {\n        \"id\": {\n          \"type\": \"string\",\n          \"description\": \"Unique identifier for the InboundReply entity.\"\n        },\n        \"emailId\": {\n          \"type\": \"string\",\n          \"description\": \"Reference to Email. (Relationship: Email 1:N InboundReply)\"\n        },\n        \"receivedAt\": {\n          \"type\": \"string\",\n          \"description\": \"Timestamp when the reply was received.\",\n          \"format\": \"date-time\"\n        },\n        \"body\": {\n          \"type\": \"string\",\n          \"description\": \"Body of the reply email.\"\n        },\n        \"sentiment\": {\n          \"type\": \"string\",\n          \"description\": \"Sentiment of the reply (e.g., positive, negative, neutral).\"\n        },\n        \"tags\": {\n          \"type\": \"array\",\n          \"description\": \"Tags associated with the reply.\",\n          \"items\": {\n            \"type\": \"string\"\n          }\n        }\n      },\n      \"required\": [\n        \"id\",\n        \"emailId\",\n        \"receivedAt\",\n        \"body\",\n        \"sentiment\",\n        \"tags\"\n      ]\n    },\n    \"DomainCheck\": {\n      \"$schema\": \"http://json-schema.org/draft-07/schema#\",\n      \"title\": \"DomainCheck\",\n      \"type\": \"object\",\n      \"description\": \"Represents the result of a domain check.\",\n      \"properties\": {\n        \"id\": {\n          \"type\": \"string\",\n          \"description\": \"Unique identifier for the DomainCheck entity.\"\n        },\n        \"domain\": {\n          \"type\": \"string\",\n          \"description\": \"The domain being checked.\"\n        },\n        \"status\": {\n          \"type\": \"string\",\n          \"description\": \"Status of the domain (e.g., available, registered).\"\n        },\n        \"options\": {\n          \"type\": \"array\",\n          \"description\": \"Alternative domain options.\",\n          \"items\": {\n            \"type\": \"string\"\n          }\n        }\n      },\n      \"required\": [\n        \"id\",\n        \"domain\",\n        \"status\",\n        \"options\"\n      ]\n    },\n    \"Payment\": {\n      \"$schema\": \"http://json-schema.org/draft-07/schema#\",\n      \"title\": \"Payment\",\n      \"type\": \"object\",\n      \"description\": \"Represents a payment transaction.\",\n      \"properties\": {\n        \"id\": {\n          \"type\": \"string\",\n          \"description\": \"Unique identifier for the Payment entity.\"\n        },\n        \"userId\": {\n          \"type\": \"string\",\n          \"description\": \"Reference to User. (Relationship: User 1:N Payment)\"\n        },\n        \"amount\": {\n          \"type\": \"number\",\n          \"description\": \"Amount of the payment.\"\n        },\n        \"currency\": {\n          \"type\": \"string\",\n          \"description\": \"Currency of the payment.\"\n        },\n        \"paymentMethod\": {\n          \"type\": \"string\",\n          \"description\": \"Payment method used (e.g., Stripe, PayPal).\"\n        },\n        \"transactionId\": {\n          \"type\": \"string\",\n          \"description\": \"Transaction ID from the payment gateway.\"\n        },\n        \"status\": {\n          \"type\": \"string\",\n          \"description\": \"Status of the payment (e.g., pending, completed, failed).\"\n        },\n        \"createdAt\": {\n          \"type\": \"string\",\n          \"description\": \"Timestamp when the payment was created.\",\n          \"format\": \"date-time\"\n        }\n      },\n      \"required\": [\n        \"id\",\n        \"userId\",\n        \"amount\",\n        \"currency\",\n        \"paymentMethod\",\n        \"transactionId\",\n        \"status\",\n        \"createdAt\"\n      ]\n    },\n    \"Provisioning\": {\n      \"$schema\": \"http://json-schema.org/draft-07/schema#\",\n      \"title\": \"Provisioning\",\n      \"type\": \"object\",\n      \"description\": \"Represents the provisioning of a service after payment.\",\n      \"properties\": {\n        \"id\": {\n          \"type\": \"string\",\n          \"description\": \"Unique identifier for the Provisioning entity.\"\n        },\n        \"paymentId\": {\n          \"type\": \"string\",\n          \"description\": \"Reference to Payment. (Relationship: Payment 1:N Provisioning)\"\n        },\n        \"serviceType\": {\n          \"type\": \"string\",\n          \"description\": \"Type of service being provisioned.\"\n        },\n        \"status\": {\n          \"type\": \"string\",\n          \"description\": \"Status of the provisioning (e.g., pending, completed, failed).\"\n        },\n        \"details\": {\n          \"type\": \"string\",\n          \"description\": \"Details about the provisioning process.\"\n        },\n        \"createdAt\": {\n          \"type\": \"string\",\n          \"description\": \"Timestamp when the provisioning was created.\",\n          \"format\": \"date-time\"\n        }\n      },\n      \"required\": [\n        \"id\",\n        \"paymentId\",\n        \"serviceType\",\n        \"status\",\n        \"details\",\n        \"createdAt\"\n      ]\n    },\n    \"Product\": {\n      \"$schema\": \"http://json-schema.org/draft-07/schema#\",\n      \"title\": \"Product\",\n      \"type\": \"object\",\n      \"description\": \"Represents a product listed on a store.\",\n      \"properties\": {\n        \"name\": {\n          \"type\": \"string\",\n          \"description\": \"Name of the product.\"\n        },\n        \"description\": {\n          \"type\": \"string\",\n          \"description\": \"Description of the product.\"\n        },\n        \"price\": {\n          \"type\": \"number\",\n          \"description\": \"Price of the product.\"\n        },\n        \"quantity\": {\n          \"type\": \"number\",\n          \"description\": \"Available quantity of the product.\"\n        },\n        \"imageId\": {\n          \"type\": \"string\",\n          \"description\": \"ID of the product image from the placeholder library.\"\n        },\n        \"source\": {\n            \"type\": \"string\",\n            \"description\": \"The e-commerce platform this product is from (e.g., Shopify, WooCommerce).\"\n        }\n      },\n      \"required\": [\n        \"name\",\n        \"description\",\n        \"price\",\n        \"quantity\",\n        \"imageId\",\n        \"source\"\n      ]\n    },\n    \"User\": {\n      \"$schema\": \"http://json-schema.org/draft-07/schema#\",\n      \"title\": \"User\",\n      \"type\": \"object\",\n      \"description\": \"Represents a user of the application.\",\n      \"properties\": {\n        \"email\": {\n          \"type\": \"string\",\n          \"description\": \"Email address of the user.\",\n          \"format\": \"email\"\n        },\n        \"firstName\": {\n          \"type\": \"string\",\n          \"description\": \"First name of the user.\"\n        },\n        \"lastName\": {\n          \"type\": \"string\",\n          \"description\": \"Last name of the user.\"\n        }\n      },\n      \"required\": [\n        \"email\",\n        \"firstName\",\n        \"lastName\"\n      ]\n    },\n    \"Store\": {\n      \"$schema\": \"http://json-schema.org/draft-07/schema#\",\n      \"title\": \"Store\",\n      \"type\": \"object\",\n      \"description\": \"Represents a store integrated with the application.\",\n      \"properties\": {\n        \"name\": {\n          \"type\": \"string\",\n          \"description\": \"Name of the store.\"\n        },\n        \"type\": {\n          \"type\": \"string\",\n          \"description\": \"Type of store (e.g., Shopify, WooCommerce, Amazon, eBay).\"\n        },\n        \"apiUrl\": {\n          \"type\": \"string\",\n          \"description\": \"API URL of the store.\"\n        },\n        \"apiKey\": {\n          \"type\": \"string\",\n          \"description\": \"API Key for the store.\"\n        }\n      },\n      \"required\": [\n        \"name\",\n        \"type\",\n        \"apiUrl\",\n        \"apiKey\"\n      ]\n    }\n  },\n  \"auth\": {\n    \"providers\": [\n      \"password\",\n      \"anonymous\"\n    ]\n  },\n  \"firestore\": {\n    \"/users/{userId}\": {\n      \"schema\": {\n        \"$ref\": \"#/entities/User\"\n      },\n      \"description\": \"Collection of user profiles.\"\n    },\n    \"/users/{userId}/leads/{leadId}\": {\n      \"schema\": {\n        \"$ref\": \"#/entities/Lead\"\n      },\n      \"description\": \"Collection of leads owned by a user.\"\n    },\n    \"/users/{userId}/products/{productId}\": {\n      \"schema\": {\n        \"$ref\": \"#/entities/Product\"\n      },\n      \"description\": \"Collection of products owned by a user.\"\n    },\n    \"/users/{userId}/outreachSequences/{outreachSequenceId}\": {\n      \"schema\": {\n        \"$ref\": \"#/entities/OutreachSequence\"\n      },\n      \"description\": \"Collection of outreach sequences created by a user.\"\n    },\n    \"/users/{userId}/outreachSequences/{outreachSequenceId}/emails/{emailId}\": {\n      \"schema\": {\n        \"$ref\": \"#/entities/Email\"\n      },\n      \"description\": \"Collection of emails associated with an outreach sequence.\"\n    },\n    \"/users/{userId}/stores/{storeId}\": {\n      \"schema\": {\n        \"$ref\": \"#/entities/Store\"\n      },\n      \"description\": \"Collection of stores integrated by a user.\"\n    }\n  }\n}\n",
  "next.config.ts": "\nimport type {NextConfig} from 'next';\n\nconst nextConfig: NextConfig = {\n  /* config options here */\n  typescript: {\n    ignoreBuildErrors: true,\n  },\n  eslint: {\n    ignoreDuringBuilds: true,\n  },\n  images: {\n    remotePatterns: [\n      {\n        protocol: 'https',\n        hostname: 'placehold.co',\n        port: '',\n        pathname: '/**',\n      },\n      {\n        protocol: 'https',\n        hostname: 'images.unsplash.com',\n        port: '',\n        pathname: '/**',\n      },\n      {\n        protocol: 'https',\n        hostname: 'picsum.photos',\n        port: '',\n        pathname: '/**',\n      },\n    ],\n  },\n};\n\nexport default nextConfig;\n",
  "package.json": "\n{\n  \"name\": \"nextn\",\n  \"version\": \"0.1.0\",\n  \"private\": true,\n  \"scripts\": {\n    \"dev\": \"next dev\",\n    \"genkit:dev\": \"genkit start -- tsx src/ai/dev.ts\",\n    \"genkit:watch\": \"genkit start -- tsx --watch src/ai/dev.ts\",\n    \"build\": \"NODE_ENV=production next build\",\n    \"start\": \"next start\",\n    \"lint\": \"next lint\",\n    \"typecheck\": \"tsc --noEmit\"\n  },\n  \"dependencies\": {\n    \"@genkit-ai/google-genai\": \"^1.20.0\",\n    \"@genkit-ai/next\": \"^1.20.0\",\n    \"@hookform/resolvers\": \"^4.1.3\",\n    \"@radix-ui/react-accordion\": \"^1.2.3\",\n    \"@radix-ui/react-alert-dialog\": \"^1.1.6\",\n    \"@radix-ui/react-avatar\": \"^1.1.3\",\n    \"@radix-ui/react-checkbox\": \"^1.1.4\",\n    \"@radix-ui/react-collapsible\": \"^1.1.11\",\n    \"@radix-ui/react-dialog\": \"^1.1.6\",\n    \"@radix-ui/react-dropdown-menu\": \"^2.1.6\",\n    \"@radix-ui/react-label\": \"^2.1.2\",\n    \"@radix-ui/react-menubar\": \"^1.1.6\",\n    \"@radix-ui/react-popover\": \"^1.1.6\",\n    \"@radix-ui/react-progress\": \"^1.1.2\",\n    \"@radix-ui/react-radio-group\": \"^1.2.3\",\n    \"@radix-ui/react-scroll-area\": \"^1.2.3\",\n    \"@radix-ui/react-select\": \"^2.1.6\",\n    \"@radix-ui/react-separator\": \"^1.1.2\",\n    \"@radix-ui/react-slider\": \"^1.2.3\",\n    \"@radix-ui/react-slot\": \"^1.2.3\",\n    \"@radix-ui/react-switch\": \"^1.1.3\",\n    \"@radix-ui/react-tabs\": \"^1.1.3\",\n    \"@radix-ui/react-toast\": \"^1.2.6\",\n    \"@radix-ui/react-tooltip\": \"^1.1.8\",\n    \"@sendgrid/mail\": \"^8.1.3\",\n    \"class-variance-authority\": \"^0.7.1\",\n    \"clsx\": \"^2.1.1\",\n    \"date-fns\": \"^3.6.0\",\n    \"dotenv\": \"^16.5.0\",\n    \"embla-carousel-react\": \"^8.6.0\",\n    \"firebase\": \"^11.9.1\",\n    \"firebase-admin\": \"^12.3.0\",\n    \"genkit\": \"^1.20.0\",\n    \"lucide-react\": \"^0.475.0\",\n    \"next\": \"15.3.3\",\n    \"patch-package\": \"^8.0.0\",\n    \"react\": \"^18.3.1\",\n    \"react-day-picker\": \"^8.10.1\",\n    \"react-dom\": \"^18.3.1\",\n    \"react-hook-form\": \"^7.54.2\",\n    \"recharts\": \"^2.12.7\",\n    \"tailwind-merge\": \"^3.0.1\",\n    \"tailwindcss-animate\": \"^1.0.7\",\n    \"zod\": \"^3.24.2\",\n    \"wav\": \"^1.0.2\"\n  },\n  \"devDependencies\": {\n    \"@types/node\": \"^20\",\n    \"@types/react\": \"^18\",\n    \"@types/react-dom\": \"^18\",\n    \"genkit-cli\": \"^1.20.0\",\n    \"postcss\": \"^8\",\n    \"tailwindcss\": \"^3.4.1\",\n    \"typescript\": \"^5\",\n    \"@types/recharts\": \"^1.8.29\",\n    \"@types/wav\": \"^1.0.3\"\n  }\n}\n",
  "src/ai/dev.ts": "\n'use server';\nimport { config } from 'dotenv';\nconfig();\n\nimport '@/ai/flows/classify-inbound-replies.ts';\nimport '@/ai/flows/convert-speech-to-text.ts';\nimport '@/ai/flows/convert-text-to-speech.ts';\nimport '@/ai/flows/generate-outreach-email.ts';\nimport '@/ai/flows/generate-social-post.ts';\nimport '@/ai/flows/interpret-command.ts';\nimport '@/ai/flows/execute-campaign-action.ts';\nimport '@/ai/flows/autonomous-lead-gen-flow.ts';\nimport '@/ai/flows/initiate-outreach-flow.ts';\nimport '@/ai/flows/answer-self-knowledge-question.ts';\nimport '@/ai/flows/generate-product-ideas.ts';\nimport '@/ai/flows/generate-multiple-social-posts.ts';\nimport '@/ai/flows/generate-app-blueprint.ts';\nimport '@/ai/flows/generate-product-campaign.ts';\nimport '@/ai/flows/automated-digital-product-funnel.ts';\nimport '@/ai/tools/send-email';\nimport '@/ai/tools/get-omarim-ai-capabilities';\nimport '@/ai/tools/find-trending-products';\nimport '@/ai/tools/find-trending-digital-product';\nimport '@/ai/tools/generate-digital-product';\n\n",
  "src/ai/flows/answer-self-knowledge-question.ts": "\n'use server';\n/**\n * @fileOverview A flow that allows Omarim AI to answer questions about its own capabilities.\n */\n\nimport { ai } from '@/ai/genkit';\nimport { z } from 'genkit';\nimport { getOmarimAiCapabilities } from '@/ai/tools/get-omarim-ai-capabilities';\nimport { googleAI } from '@genkit-ai/google-genai';\n\nconst AnswerSelfKnowledgeInputSchema = z.object({\n  question: z.string().describe(\"The user's question about Omarim AI.\"),\n});\nexport type AnswerSelfKnowledgeInput = z.infer<typeof AnswerSelfKnowledgeInputSchema>;\n\nconst AnswerSelfKnowledgeOutputSchema = z.object({\n  answer: z.string().describe(\"The AI's answer to the user's question.\"),\n});\nexport type AnswerSelfKnowledgeOutput = z.infer<typeof AnswerSelfKnowledgeOutputSchema>;\n\nexport async function answerSelfKnowledgeQuestion(input: AnswerSelfKnowledgeInput): Promise<AnswerSelfKnowledgeOutput> {\n  return answerSelfKnowledgeQuestionFlow(input);\n}\n\nconst answerSelfKnowledgePrompt = ai.definePrompt({\n  name: 'answerSelfKnowledgePrompt',\n  input: { schema: AnswerSelfKnowledgeInputSchema },\n  output: { schema: AnswerSelfKnowledgeOutputSchema },\n  tools: [getOmarimAiCapabilities],\n  model: googleAI('gemini-pro'),\n  system: `You are Omarim AI, a helpful assistant.\nYour task is to answer the user's question about your capabilities.\nTo do this, you MUST first call the \\`getOmarimAiCapabilities\\` tool to get a structured overview of all your features.\nThen, use the information returned from the tool to formulate a clear, concise, and helpful answer to the user's question.\nBase your answer ONLY on the information provided by the tool.\nDo not make up features you do not have. Do not discuss capabilities beyond what is explicitly listed in the tool's output.\n\nUser's Question: {{{question}}}\n`,\n});\n\nconst answerSelfKnowledgeQuestionFlow = ai.defineFlow(\n  {\n    name: 'answerSelfKnowledgeQuestionFlow',\n    inputSchema: AnswerSelfKnowledgeInputSchema,\n    outputSchema: AnswerSelfKnowledgeOutputSchema,\n  },\n  async (input) => {\n    const { output } = await answerSelfKnowledgePrompt(input);\n    return output!;\n  }\n);\n",
  "src/ai/flows/automated-digital-product-funnel.ts": "\n'use server';\n/**\n * @fileOverview An autonomous AI agent flow for creating and marketing a digital product.\n */\n\nimport { ai } from '@/ai/genkit';\nimport { z } from 'genkit';\nimport { findTrendingDigitalProduct } from '@/ai/tools/find-trending-digital-product';\nimport { generateDigitalProduct } from '@/ai/tools/generate-digital-product';\nimport { generateMultipleSocialPosts } from '@/ai/flows/generate-multiple-social-posts';\nimport type { GenerateMultipleSocialPostsOutput } from '@/ai/flows/generate-multiple-social-posts';\nimport type { TrendingDigitalProduct } from '@/ai/tools/find-trending-digital-product';\n\nconst LandingPageSchema = z.object({\n  html: z.string().describe(\"The full HTML content for a product landing page, including Tailwind CSS classes for styling. It should feature a hero section with a call-to-action, feature descriptions, and a purchase section.\"),\n});\n\nconst generateLandingPagePrompt = ai.definePrompt({\n    name: 'generateLandingPagePrompt',\n    input: { schema: z.object({ \n        productIdea: z.custom<TrendingDigitalProduct>(),\n        generatedContent: z.custom<Awaited<ReturnType<typeof generateDigitalProduct>>>()\n    })},\n    output: { schema: LandingPageSchema },\n    prompt: `You are an expert web designer and copywriter. Your task is to generate the complete HTML for a high-converting landing page for a new digital product. Use Tailwind CSS for styling.\n\nProduct Details:\n- Name: {{{productIdea.productName}}}\n- Type: {{{productIdea.productType}}}\n- Description: {{{productIdea.description}}}\n- Target Audience: {{{productIdea.targetAudience}}}\n\nThe page should include:\n1.  A compelling hero section with a catchy headline and a strong call-to-action (CTA) button.\n2.  A section detailing the key features and benefits of the product.\n3.  A final section prompting the user to purchase, with a clear price display.\n\nGenerate the full HTML for the page.\n`,\n});\n\n\nconst AutomatedDigitalProductFunnelOutputSchema = z.object({\n  productIdea: findTrendingDigitalProduct.outputSchema,\n  generatedContent: generateDigitalProduct.outputSchema,\n  marketingCampaign: generateMultipleSocialPosts.outputSchema,\n  landingPageHtml: LandingPageSchema.shape.html,\n  summary: z.string().describe('A summary of the entire automated funnel process and what was created.'),\n});\nexport type AutomatedDigitalProductFunnelOutput = z.infer<typeof AutomatedDigitalProductFunnelOutputSchema>;\n\nexport async function automatedDigitalProductFunnel(): Promise<AutomatedDigitalProductFunnelOutput> {\n  return automatedDigitalProductFunnelFlow();\n}\n\nconst automatedDigitalProductFunnelFlow = ai.defineFlow(\n  {\n    name: 'automatedDigitalProductFunnelFlow',\n    inputSchema: z.undefined(),\n    outputSchema: AutomatedDigitalProductFunnelOutputSchema,\n  },\n  async () => {\n    // Step 1: Find a trending digital product idea.\n    const productIdea = await findTrendingDigitalProduct();\n\n    // Step 2: Generate the actual content for the product.\n    const generatedContent = await generateDigitalProduct({ productIdea });\n\n    // Step 3: Generate a dedicated landing page for the new product.\n    const { output: landingPage } = await generateLandingPagePrompt({ productIdea, generatedContent });\n     if (!landingPage) {\n        throw new Error(\"Failed to generate landing page content.\");\n    }\n\n    // Step 4: Generate social media posts to market the new product.\n    const marketingCampaign = await generateMultipleSocialPosts({\n        topicOrContent: `Announcing our new digital product: \"${productIdea.productName}\". ${productIdea.description}`,\n    });\n\n    // Step 5: Assemble the final output and generate a summary.\n    const summary = `Successfully executed the weekly automated digital product funnel. A new trending product, \"${productIdea.productName},\" a ${productIdea.productType}, has been generated targeting ${productIdea.targetAudience}. A dedicated landing page and a multi-platform social media campaign have also been created to drive initial sales. The product is now ready for deployment.`;\n\n    return {\n      productIdea,\n      generatedContent,\n      marketingCampaign,\n      landingPageHtml: landingPage.html,\n      summary,\n    };\n  }\n);\n",
  "src/ai/flows/autonomous-lead-gen-flow.ts": "'use server';\n/**\n * @fileOverview An autonomous AI agent flow for lead generation and qualification.\n */\n\nimport { ai } from '@/ai/genkit';\nimport { z } from 'genkit';\nimport { findAndQualifyLeads } from '@/ai/tools/find-and-qualify-leads';\nimport type { QualifiedLead } from '@/ai/tools/find-and-qualify-leads';\nimport { googleAI } from '@genkit-ai/google-genai';\n\nconst AutonomousLeadGenInputSchema = z.object({\n  objective: z.string().describe('The high-level objective for the lead generation task. e.g., \"Find 5 local businesses that need a new website.\"'),\n});\nexport type AutonomousLeadGenInput = z.infer<typeof AutonomousLeadGenInputSchema>;\n\nconst AutonomousLeadGenOutputSchema = z.object({\n  qualifiedLeads: z.array(findAndQualifyLeads.outputSchema).describe('A list of qualified leads that match the objective.'),\n  summary: z.string().describe('A summary of the actions taken and the results.'),\n});\nexport type AutonomousLeadGenOutput = z.infer<typeof AutonomousLeadGenOutputSchema>;\n\nexport async function autonomousLeadGen(input: AutonomousLeadGenInput): Promise<AutonomousLeadGenOutput> {\n  return autonomousLeadGenFlow(input);\n}\n\nconst autonomousLeadGenPrompt = ai.definePrompt({\n  name: 'autonomousLeadGenPrompt',\n  input: { schema: AutonomousLeadGenInputSchema },\n  output: { schema: z.object({ qualifiedLeads: z.array(findAndQualifyLeads.inputSchema) }) },\n  tools: [findAndQualifyLeads],\n  model: googleAI('gemini-pro'),\n  system: `You are an autonomous business development agent.\nYour goal is to find and qualify leads based on a high-level objective.\nUse the findAndQualifyLeads tool to achieve this.\nThe tool will return a list of qualified leads.\nYour final output should be the result from the tool call.\n\nObjective: {{{objective}}}\n`,\n});\n\nconst autonomousLeadGenFlow = ai.defineFlow(\n  {\n    name: 'autonomousLeadGenFlow',\n    inputSchema: AutonomousLeadGenInputSchema,\n    outputSchema: AutonomousLeadGenOutputSchema,\n  },\n  async (input) => {\n    const llmResponse = await autonomousLeadGenPrompt(input);\n    const toolResponse = llmResponse.toolRequest?.tool.toString();\n\n    // Note: In a real scenario, you'd execute the tool call here.\n    // For now, we are assuming the LLM's conceptual tool call is the result.\n    // This is a conceptual leap for demonstration. In a production system,\n    // you would execute the tool and then process its actual output.\n    const leads = (llmResponse.output?.qualifiedLeads || []) as QualifiedLead[];\n    \n    return {\n      qualifiedLeads: leads,\n      summary: `I have analyzed the request and identified ${leads.length} potential leads. Each has been qualified based on their role and the potential need for AI-powered web services.`,\n    };\n  }\n);\n",
  "src/ai/flows/classify-inbound-replies.ts": "'use server';\n/**\n * @fileOverview Classifies inbound email replies based on their content using GenAI.\n *\n * - classifyInboundReply - A function that classifies inbound email replies.\n * - ClassifyInboundReplyInput - The input type for the classifyInboundReply function.\n * - ClassifyInboundReplyOutput - The return type for the classifyInboundReply function.\n */\n\nimport {ai} from '@/ai/genkit';\nimport {z} from 'genkit';\nimport { googleAI } from '@genkit-ai/google-genai';\n\nconst ClassifyInboundReplyInputSchema = z.object({\n  emailBody: z.string().describe('The body of the inbound email reply.'),\n});\nexport type ClassifyInboundReplyInput = z.infer<typeof ClassifyInboundReplyInputSchema>;\n\nconst ClassifyInboundReplyOutputSchema = z.object({\n  sentiment: z.string().describe('The sentiment of the email (e.g., positive, negative, neutral).'),\n  category: z.string().describe('The category of the email (e.g., question, complaint, feedback).'),\n  tags: z.array(z.string()).describe('Relevant tags for the email (e.g., urgent, billing, support).'),\n});\nexport type ClassifyInboundReplyOutput = z.infer<typeof ClassifyInboundReplyOutputSchema>;\n\nexport async function classifyInboundReply(input: ClassifyInboundReplyInput): Promise<ClassifyInboundReplyOutput> {\n  return classifyInboundReplyFlow(input);\n}\n\nconst classifyInboundReplyPrompt = ai.definePrompt({\n  name: 'classifyInboundReplyPrompt',\n  input: {schema: ClassifyInboundReplyInputSchema},\n  output: {schema: ClassifyInboundReplyOutputSchema},\n  model: googleAI('gemini-pro'),\n  prompt: `You are an AI assistant that classifies inbound email replies based on their content.\\n\\nAnalyze the following email body and determine its sentiment, category, and relevant tags.\\n\\nEmail Body: {{{emailBody}}}\\n\\nSentiment (positive, negative, neutral):\\nCategory (question, complaint, feedback, etc.):\\nTags (urgent, billing, support, etc.):\\n\\nRespond in a JSON format.`,\n});\n\nconst classifyInboundReplyFlow = ai.defineFlow(\n  {\n    name: 'classifyInboundReplyFlow',\n    inputSchema: ClassifyInboundReplyInputSchema,\n    outputSchema: ClassifyInboundReplyOutputSchema,\n  },\n  async input => {\n    const {output} = await classifyInboundReplyPrompt(input);\n    return output!;\n  }\n);\n",
  "src/ai/flows/convert-speech-to-text.ts": "'use server';\n\n/**\n * @fileOverview Converts speech to text using the Whisper API.\n *\n * - convertSpeechToText - A function that handles the speech-to-text conversion.\n * - ConvertSpeechToTextInput - The input type for the convertSpeechToText function, expects a data URI.\n * - ConvertSpeechToTextOutput - The return type for the convertSpeechToText function.\n */\n\nimport {ai} from '@/ai/genkit';\nimport {z} from 'genkit';\nimport { googleAI } from '@genkit-ai/google-genai';\n\nconst ConvertSpeechToTextInputSchema = z.object({\n  audioDataUri: z\n    .string()\n    .describe(\n      'The audio data as a data URI that must include a MIME type and use Base64 encoding. Expected format: \\'data:<mimetype>;base64,<encoded_data>\\'.'\n    ),\n});\nexport type ConvertSpeechToTextInput = z.infer<typeof ConvertSpeechToTextInputSchema>;\n\nconst ConvertSpeechToTextOutputSchema = z.object({\n  transcription: z.string().describe('The transcribed text from the audio.'),\n});\nexport type ConvertSpeechToTextOutput = z.infer<typeof ConvertSpeechToTextOutputSchema>;\n\nexport async function convertSpeechToText(input: ConvertSpeechToTextInput): Promise<ConvertSpeechToTextOutput> {\n  return convertSpeechToTextFlow(input);\n}\n\nconst convertSpeechToTextPrompt = ai.definePrompt({\n  name: 'convertSpeechToTextPrompt',\n  input: {schema: ConvertSpeechToTextInputSchema},\n  output: {schema: ConvertSpeechToTextOutputSchema},\n  model: googleAI('gemini-pro'),\n  prompt: `Transcribe the following audio: {{media url=audioDataUri}}`,\n});\n\nconst convertSpeechToTextFlow = ai.defineFlow(\n  {\n    name: 'convertSpeechToTextFlow',\n    inputSchema: ConvertSpeechToTextInputSchema,\n    outputSchema: ConvertSpeechToTextOutputSchema,\n  },\n  async input => {\n    const {output} = await convertSpeechToTextPrompt(input);\n    return output!;\n  }\n);\n",
  "src/ai/flows/convert-text-to-speech.ts": "'use server';\n\n/**\n * @fileOverview Converts text to speech using a Genkit flow.\n *\n * - convertTextToSpeech - A function that handles the text-to-speech conversion.\n * - ConvertTextToSpeechInput - The input type for the convertTextToSpeech function.\n * - ConvertTextToSpeechOutput - The return type for the convertTextToSpeech function.\n */\n\nimport { ai } from '@/ai/genkit';\nimport { z } from 'genkit';\nimport wav from 'wav';\nimport { googleAI } from '@genkit-ai/google-genai';\n\nconst ConvertTextToSpeechInputSchema = z.object({\n  text: z.string().describe('The text to be converted to speech.'),\n});\nexport type ConvertTextToSpeechInput = z.infer<\n  typeof ConvertTextToSpeechInputSchema\n>;\n\nconst ConvertTextToSpeechOutputSchema = z.object({\n  audioDataUri: z\n    .string()\n    .describe(\n      \"The audio data as a data URI that must include a MIME type and use Base64 encoding. Expected format: 'data:audio/wav;base64,<encoded_data>'.\"\n    ),\n});\nexport type ConvertTextToSpeechOutput = z.infer<\n  typeof ConvertTextToSpeechOutputSchema\n>;\n\nexport async function convertTextToSpeech(\n  input: ConvertTextToSpeechInput\n): Promise<ConvertTextToSpeechOutput> {\n  return convertTextToSpeechFlow(input);\n}\n\nasync function toWav(\n  pcmData: Buffer,\n  channels = 1,\n  rate = 24000,\n  sampleWidth = 2\n): Promise<string> {\n  return new Promise((resolve, reject) => {\n    const writer = new wav.Writer({\n      channels,\n      sampleRate: rate,\n      bitDepth: sampleWidth * 8,\n    });\n\n    const bufs: any[] = [];\n    writer.on('error', reject);\n    writer.on('data', function (d) {\n      bufs.push(d);\n    });\n    writer.on('end', function () {\n      resolve(Buffer.concat(bufs).toString('base64'));\n    });\n\n    writer.write(pcmData);\n    writer.end();\n  });\n}\n\nconst convertTextToSpeechFlow = ai.defineFlow(\n  {\n    name: 'convertTextToSpeechFlow',\n    inputSchema: ConvertTextToSpeechInputSchema,\n    outputSchema: ConvertTextToSpeechOutputSchema,\n  },\n  async (input) => {\n    const { media } = await ai.generate({\n      model: googleAI.model('gemini-2.5-flash-preview-tts'),\n      config: {\n        responseModalities: ['AUDIO'],\n        speechConfig: {\n          voiceConfig: {\n            prebuiltVoiceConfig: { voiceName: 'Algenib' },\n          },\n        },\n      },\n      prompt: input.text,\n    });\n\n    if (!media) {\n      throw new Error('No media returned from TTS model.');\n    }\n\n    const audioBuffer = Buffer.from(\n      media.url.substring(media.url.indexOf(',') + 1),\n      'base64'\n    );\n    const wavBase64 = await toWav(audioBuffer);\n\n    return {\n      audioDataUri: `data:audio/wav;base64,${wavBase64}`,\n    };\n  }\n);\n",
  "src/ai/flows/execute-campaign-action.ts": "'use server';\n/**\n * @fileOverview Executes a campaign action using natural language commands.\n * This flow interprets a command, uses tools to interact with the database,\n * and performs actions like adding leads to an outreach sequence.\n */\n\nimport { ai } from '@/ai/genkit';\nimport { z } from 'genkit';\nimport { manageOutreachSequence } from '@/ai/tools/manage-outreach-sequence';\nimport { googleAI } from '@genkit-ai/google-genai';\n\nconst ExecuteCampaignActionInputSchema = z.object({\n  command: z.string().describe('The natural language command for the campaign action, e.g., \"Add new leads to the welcome sequence.\"'),\n  userId: z.string().describe('The ID of the user performing the action.'),\n});\nexport type ExecuteCampaignActionInput = z.infer<typeof ExecuteCampaignActionInputSchema>;\n\nconst ExecuteCampaignActionOutputSchema = z.object({\n  result: z.string().describe('A summary of the result of the campaign action.'),\n});\nexport type ExecuteCampaignActionOutput = z.infer<typeof ExecuteCampaignActionOutputSchema>;\n\nexport async function executeCampaignAction(input: ExecuteCampaignActionInput): Promise<ExecuteCampaignActionOutput> {\n  return executeCampaignActionFlow(input);\n}\n\nconst executeCampaignActionPrompt = ai.definePrompt({\n  name: 'executeCampaignActionPrompt',\n  input: { schema: ExecuteCampaignActionInputSchema },\n  output: { schema: ExecuteCampaignActionOutputSchema },\n  tools: [manageOutreachSequence],\n  model: googleAI('gemini-pro'),\n  system: `You are an AI assistant that manages marketing campaigns.\nYou will be given a command from a user and a userId.\nYour task is to use the available tools to execute the command.\nThe userId is required for all tool calls.\nBased on the result of the tool call, formulate a concise summary to return to the user.\n\nUser Command: {{{command}}}\nUser ID: {{{userId}}}\n\nAnalyze the command, call the appropriate tool with the correct parameters (including the userId), and then summarize the outcome.`,\n});\n\n\nconst executeCampaignActionFlow = ai.defineFlow(\n  {\n    name: 'executeCampaignActionFlow',\n    inputSchema: ExecuteCampaignActionInputSchema,\n    outputSchema: ExecuteCampaignActionOutputSchema,\n  },\n  async (input) => {\n    const { output } = await executeCampaignActionPrompt(input);\n    return output!;\n  }\n);\n",
  "src/ai/flows/generate-app-blueprint.ts": "\n'use server';\n/**\n * @fileOverview A Genkit flow to generate a technical blueprint for a new application idea.\n */\n\nimport { ai } from '@/ai/genkit';\nimport { z } from 'genkit';\nimport { googleAI } from '@genkit-ai/google-genai';\n\nconst GenerateAppBlueprintInputSchema = z.object({\n  appDescription: z.string().describe('A description of the application idea, including its purpose and primary goal.'),\n});\nexport type GenerateAppBlueprintInput = z.infer<typeof GenerateAppBlueprintInputSchema>;\n\n\nconst DataModelSchema = z.object({\n  name: z.string().describe('The name of the data model/entity (e.g., \"User\", \"Post\").'),\n  properties: z.array(z.string()).describe('A list of key properties for the model (e.g., \"email\", \"content\", \"createdAt\").'),\n});\n\nconst FeatureSchema = z.object({\n  name: z.string().describe('The name of the core feature.'),\n  description: z.string().describe('A short description of what the feature does.'),\n  userBenefit: z.string().describe('The primary benefit of this feature to the end-user.'),\n});\n\nconst UserPersonaSchema = z.object({\n    name: z.string().describe('A fictional name for the user persona.'),\n    description: z.string().describe('A description of this type of user and their goals.'),\n});\n\nconst GenerateAppBlueprintOutputSchema = z.object({\n  appName: z.string().describe('A creative and marketable name for the application.'),\n  tagline: z.string().describe('A short, catchy tagline for the app.'),\n  coreFeatures: z.array(FeatureSchema).describe('A list of the 3-5 most critical features for the Minimum Viable Product (MVP).'),\n  dataModels: z.array(DataModelSchema).describe('A list of the primary data models needed to support the features.'),\n  userPersonas: z.array(UserPersonaSchema).describe('A description of 2-3 target user personas.'),\n  techStack: z.object({\n    frontend: z.string().describe('The recommended frontend framework.'),\n    backend: z.string().describe('The recommended backend services/framework.'),\n    database: z.string().describe('The recommended database.'),\n    ai: z.string().describe('The recommended AI/ML toolkit.'),\n  }).describe('The recommended technology stack.'),\n});\nexport type GenerateAppBlueprintOutput = z.infer<typeof GenerateAppBlueprintOutputSchema>;\n\n\nexport async function generateAppBlueprint(input: GenerateAppBlueprintInput): Promise<GenerateAppBlueprintOutput> {\n  return generateAppBlueprintFlow(input);\n}\n\n\nconst generateAppBlueprintPrompt = ai.definePrompt({\n    name: 'generateAppBlueprintPrompt',\n    input: { schema: GenerateAppBlueprintInputSchema },\n    output: { schema: GenerateAppBlueprintOutputSchema },\n    model: googleAI('gemini-pro'),\n    system: `You are an expert software architect and product strategist.\nYour task is to take a user's app idea and generate a comprehensive technical blueprint.\nBased on the user's description, you must generate a creative app name and tagline.\nYou must then define the core features, data models, and user personas.\nFinally, you must recommend a modern, scalable technology stack.\n\nThe technology stack should always be:\n- Frontend: Next.js & React\n- Backend: Genkit & Firebase Functions\n- Database: Firestore\n- AI: Genkit\n\nUser's App Idea:\n\"{{{appDescription}}}\"\n\nGenerate the complete blueprint in the specified JSON format.\n`,\n});\n\nconst generateAppBlueprintFlow = ai.defineFlow(\n  {\n    name: 'generateAppBlueprintFlow',\n    inputSchema: GenerateAppBlueprintInputSchema,\n    outputSchema: GenerateAppBlueprintOutputSchema,\n  },\n  async (input) => {\n    const { output } = await generateAppBlueprintPrompt(input);\n    return output!;\n  }\n);\n",
  "src/ai/flows/generate-multiple-social-posts.ts": "\n'use server';\n/**\n * @fileOverview A Genkit flow to generate multiple social media posts from a single topic, piece of content, or YouTube URL.\n *\n * - generateMultipleSocialPosts - A function that generates a list of social media posts for various platforms.\n * - GenerateMultipleSocialPostsInput - The input type for the generateMultipleSocialPosts function.\n * - GenerateMultipleSocialPostsOutput - The return type for the generateMultipleSocialPosts function.\n */\n\nimport { ai } from '@/ai/genkit';\nimport { z } from 'genkit';\nimport { googleAI } from '@genkit-ai/google-genai';\n\nconst GenerateMultipleSocialPostsInputSchema = z.object({\n  topicOrContent: z.string().describe('The topic or long-form content to be repurposed into social media posts.'),\n  youtubeUrl: z.string().url().optional().describe('An optional YouTube URL to create promotional posts for.'),\n});\nexport type GenerateMultipleSocialPostsInput = z.infer<typeof GenerateMultipleSocialPostsInputSchema>;\n\nconst SocialPostSchema = z.object({\n    platform: z.enum(['Twitter', 'LinkedIn', 'Facebook']).describe('The target social media platform.'),\n    content: z.string().describe('The generated content for the social media post, tailored to the platform.'),\n    hashtags: z.array(z.string()).describe('A list of relevant hashtags for the post.'),\n});\n\nconst GenerateMultipleSocialPostsOutputSchema = z.object({\n  posts: z.array(SocialPostSchema).describe('A list of generated social media posts for different platforms.'),\n});\nexport type GenerateMultipleSocialPostsOutput = z.infer<typeof GenerateMultipleSocialPostsOutputSchema>;\n\n\nexport async function generateMultipleSocialPosts(input: GenerateMultipleSocialPostsInput): Promise<GenerateMultipleSocialPostsOutput> {\n  return generateMultipleSocialPostsFlow(input);\n}\n\n\nconst generateMultipleSocialPostsPrompt = ai.definePrompt({\n    name: 'generateMultipleSocialPostsPrompt',\n    input: { schema: GenerateMultipleSocialPostsInputSchema },\n    output: { schema: GenerateMultipleSocialPostsOutputSchema },\n    model: googleAI('gemini-pro'),\n    prompt: `You are an expert social media strategist. Your task is to take the following input and repurpose it into three distinct social media posts, one for each of the following platforms: Twitter, LinkedIn, and Facebook.\n\nThe input may be a general topic, a piece of content, a YouTube URL, or a combination.\n\n{{#if youtubeUrl}}\nThe primary source is this YouTube video: {{{youtubeUrl}}}\nAssume you have watched the video. Your main goal is to drive traffic to this video. Create posts that are engaging, summarize a key point or a question from the video, and strongly encourage users to watch it.\n{{/if}}\n\n{{#if topicOrContent}}\nThe provided topic/content is: \"{{{topicOrContent}}}\"\n{{#if youtubeUrl}}\nUse this content to add context to the YouTube video promotion.\n{{else}}\nUse this as the primary source for generating the posts.\n{{/if}}\n{{/if}}\n\nFor each platform, you must:\n1.  **Tailor the Content:** Adapt the tone, length, and style to fit the platform's audience and best practices.\n    - **Twitter:** Keep it concise, punchy, and engaging. Use questions or bold statements.\n    - **LinkedIn:** Make it professional, insightful, and focused on business value or career development.\n    - **Facebook:** Make it friendly, community-oriented, and encouraging of discussion.\n2.  **Generate Hashtags:** Create a list of 3-5 relevant hashtags for each post.\n\nGenerate one post for Twitter, one for LinkedIn, and one for Facebook.\n`,\n});\n\nconst generateMultipleSocialPostsFlow = ai.defineFlow(\n  {\n    name: 'generateMultipleSocialPostsFlow',\n    inputSchema: GenerateMultipleSocialPostsInputSchema,\n    outputSchema: GenerateMultipleSocialPostsOutputSchema,\n  },\n  async (input) => {\n    const { output } = await generateMultipleSocialPostsPrompt(input);\n    return output!;\n  }\n);\n",
  "src/ai/flows/generate-outreach-email.ts": "'use server';\n/**\n * @fileOverview Generates a personalized outreach email based on a LinkedIn profile.\n *\n * - generateOutreachEmail - A function that scrapes a LinkedIn profile and generates an email.\n * - GenerateOutreachEmailInput - The input type for the generateOutreachEmail function.\n * - GenerateOutreachEmailOutput - The return type for the generateOutreachEmail function.\n */\n\nimport { ai } from '@/ai/genkit';\nimport { z } from 'genkit';\nimport { googleAI } from '@genkit-ai/google-genai';\n\nconst GenerateOutreachEmailInputSchema = z.object({\n  linkedInUrl: z.string().url().describe('The URL of the LinkedIn profile to scrape.'),\n});\nexport type GenerateOutreachEmailInput = z.infer<typeof GenerateOutreachEmailInputSchema>;\n\nconst GenerateOutreachEmailOutputSchema = z.object({\n  subject: z.string().describe('The subject line of the generated email.'),\n  body: z.string().describe('The body of the generated email.'),\n});\nexport type GenerateOutreachEmailOutput = z.infer<typeof GenerateOutreachEmailOutputSchema>;\n\nexport async function generateOutreachEmail(input: GenerateOutreachEmailInput): Promise<GenerateOutreachEmailOutput> {\n  return generateOutreachEmailFlow(input);\n}\n\nconst generateOutreachEmailPrompt = ai.definePrompt({\n  name: 'generateOutreachEmailPrompt',\n  input: { schema: GenerateOutreachEmailInputSchema },\n  output: { schema: GenerateOutreachEmailOutputSchema },\n  model: googleAI('gemini-pro'),\n  prompt: `You are an expert sales development representative.\nYou will be given a LinkedIn profile URL. Your task is to generate a compelling and personalized outreach email to pitch Omarim AI's services.\n\nHere is the LinkedIn URL: {{{linkedInUrl}}}\n\nAssume you have already scraped the profile and have the following (hypothetical) information:\n- Name: [Assume a name from the profile]\n- Role: [Assume a role from the profile]\n- Company: [Assume a company from the profile]\n- Recent Activity: [Assume some recent activity or posts]\n\nBased on this information, write a personalized email. The email should be concise, professional, and highlight how Omarim AI can solve a potential problem for their company.\nStart the email by addressing the person by their assumed name.\nReference their role, company, or recent activity to show you've done your research.\nEnd with a clear call to action.\n\nGenerate a subject line and a body for the email.`,\n});\n\nconst generateOutreachEmailFlow = ai.defineFlow(\n  {\n    name: 'generateOutreachEmailFlow',\n    inputSchema: GenerateOutreachEmailInputSchema,\n    outputSchema: GenerateOutreachEmailOutputSchema,\n  },\n  async (input) => {\n    const { output } = await generateOutreachEmailPrompt(input);\n    return output!;\n  }\n);\n",
  "src/ai/flows/generate-product-campaign.ts": "\n'use server';\n/**\n * @fileOverview A Genkit flow to generate a full marketing campaign for a new product.\n *\n * - generateProductCampaign - A function that generates marketing assets for a product.\n * - GenerateProductCampaignInput - The input type for the generateProductCampaign function.\n * - GenerateProductCampaignOutput - The return type for the generateProductCampaign function.\n */\n\nimport { ai } from '@/ai/genkit';\nimport { z } from 'zod';\nimport { \n  GenerateProductCampaignInputSchema,\n  type GenerateProductCampaignInput,\n} from '@/app/schemas';\nimport { googleAI } from '@genkit-ai/google-genai';\n\n\nconst SocialPostSchema = z.object({\n    platform: z.enum(['Twitter', 'LinkedIn', 'Facebook']).describe('The target social media platform.'),\n    content: z.string().describe('The generated content for the social media post, tailored to the platform.'),\n    hashtags: z.array(z.string()).describe('A list of relevant hashtags for the post.'),\n});\n\nconst GenerateProductCampaignOutputSchema = z.object({\n  socialPosts: z.array(SocialPostSchema).describe('A list of generated social media posts.'),\n  marketingImage: z.object({\n    prompt: z.string().describe('The prompt used to generate the marketing image.'),\n    imageUrl: z.string().url().describe('The data URI of the generated marketing image.'),\n  }),\n  videoConcept: z.object({\n    title: z.string().describe('A catchy title for a short promotional video (e.g., for TikTok or YouTube Shorts).'),\n    sceneDescription: z.string().describe('A brief description of the scenes and actions in the video.'),\n  }),\n});\nexport type GenerateProductCampaignOutput = z.infer<typeof GenerateProductCampaignOutputSchema>;\n\n\nexport async function generateProductCampaign(input: GenerateProductCampaignInput): Promise<GenerateProductCampaignOutput> {\n  return generateProductCampaignFlow(input);\n}\n\n\nconst generateProductCampaignPrompt = ai.definePrompt({\n    name: 'generateProductCampaignPrompt',\n    input: { schema: GenerateProductCampaignInputSchema },\n    output: { schema: GenerateProductCampaignOutputSchema },\n    model: googleAI('gemini-pro'),\n    prompt: `You are a world-class marketing director for a cutting-edge e-commerce brand.\nYour task is to generate a complete set of marketing assets for a new, trending product.\n\nProduct Details:\n- Name: {{{productName}}}\n- Description: {{{description}}}\n- Target Audience: {{{targetAudience}}}\n- Marketing Angle: {{{marketingAngle}}}\n\nYou must generate the following assets:\n\n1.  **Marketing Image**: Create a prompt for an AI image generator to produce a stunning, eye-catching marketing image for this product. The prompt should be descriptive and evoke a powerful emotion or desire related to the product and its marketing angle. The image itself will be generated by a separate tool based on your prompt. For the imageUrl field, you must return the placeholder \"data:image/png;base64,IMAGE_DATA_WILL_BE_INSERTED_HERE\".\n\n2.  **Promotional Video Concept**: Dream up a short, engaging video concept (5-10 seconds) perfect for platforms like TikTok or Instagram Reels. Provide a title and a scene-by-scene description.\n\n3.  **Social Media Posts**: Generate three distinct social media posts to promote the product, one for each of the following platforms: Twitter, LinkedIn, and Facebook. Tailor the content and tone for each platform and include relevant hashtags.\n\nReturn the complete set of assets in the specified JSON format.\n`,\n});\n\nconst generateImageFlow = ai.defineFlow(\n  {\n    name: 'generateProductImage',\n    inputSchema: z.string(), // The prompt for the image\n    outputSchema: z.string().url(), // The data URI of the image\n  },\n  async (prompt) => {\n    const { media } = await ai.generate({\n      model: 'googleai/imagen-4.0-fast-generate-001',\n      prompt: `${prompt}, commercial product photography, vibrant, high-end`,\n    });\n    if (!media.url) {\n      throw new Error('Image generation failed.');\n    }\n    return media.url;\n  }\n)\n\nconst generateProductCampaignFlow = ai.defineFlow(\n  {\n    name: 'generateProductCampaignFlow',\n    inputSchema: GenerateProductCampaignInputSchema,\n    outputSchema: GenerateProductCampaignOutputSchema,\n  },\n  async (input) => {\n    // First, generate the campaign concepts (text, video idea, image prompt)\n    const { output: campaignIdeas } = await generateProductCampaignPrompt(input);\n    if (!campaignIdeas) {\n        throw new Error(\"Failed to generate campaign ideas.\");\n    }\n    \n    // Now, generate the actual image using the prompt from the first step\n    const imageUrl = await generateImageFlow(campaignIdeas.marketingImage.prompt);\n\n    // Combine the results\n    return {\n        ...campaignIdeas,\n        marketingImage: {\n            ...campaignIdeas.marketingImage,\n            imageUrl: imageUrl, // Replace the placeholder with the real image URL\n        }\n    };\n  }\n);\n",
  "src/ai/flows/generate-product-ideas.ts": "\n'use server';\n/**\n * @fileOverview A Genkit flow to generate new product ideas based on a given topic.\n *\n * - generateProductIdeas - A function that generates a list of product ideas.\n * - GenerateProductIdeasInput - The input type for the generateProductIdeas function.\n * - GenerateProductIdeasOutput - The return type for the generateProductIdeas function.\n */\n\nimport { ai } from '@/ai/genkit';\nimport { z } from 'genkit';\nimport { PlaceHolderImages } from '@/lib/placeholder-images';\nimport { googleAI } from '@genkit-ai/google-genai';\n\nconst GenerateProductIdeasInputSchema = z.object({\n  topic: z.string().describe('The topic or category for which to generate product ideas.'),\n});\nexport type GenerateProductIdeasInput = z.infer<typeof GenerateProductIdeasInputSchema>;\n\nconst ProductIdeaSchema = z.object({\n    name: z.string().describe('The name of the product.'),\n    description: z.string().describe('A brief, compelling, and creative description of the product that highlights its unique value.'),\n    price: z.number().describe('A suggested retail price for the product.'),\n    imageId: z.string().describe(`The ID of a suitable placeholder image from the provided list. Must be one of: ${PlaceHolderImages.map(p => p.id).join(', ')}`),\n});\n\nconst GenerateProductIdeasOutputSchema = z.object({\n  products: z.array(ProductIdeaSchema).describe('A list of generated product ideas.'),\n});\nexport type GenerateProductIdeasOutput = z.infer<typeof GenerateProductIdeasOutputSchema>;\n\n\nexport async function generateProductIdeas(input: GenerateProductIdeasInput): Promise<GenerateProductIdeasOutput> {\n  return generateProductIdeasFlow(input);\n}\n\n\nconst generateProductIdeasPrompt = ai.definePrompt({\n    name: 'generateProductIdeasPrompt',\n    input: { schema: GenerateProductIdeasInputSchema },\n    output: { schema: GenerateProductIdeasOutputSchema },\n    model: googleAI('gemini-pro'),\n    prompt: `You are an expert product manager and e-commerce strategist.\nYour task is to generate 4 creative and plausible product ideas based on a given topic.\nFor each product idea, you must provide a name, a short, creative description that stands out, a suggested price, and select the most fitting image ID from the provided list.\n\nAvailable Image IDs:\n${PlaceHolderImages.map(p => `- ${p.id}: ${p.description}`).join('\\n')}\n\nTopic: {{{topic}}}\n\nGenerate 4 product ideas.\n`,\n});\n\nconst generateProductIdeasFlow = ai.defineFlow(\n  {\n    name: 'generateProductIdeasFlow',\n    inputSchema: GenerateProductIdeasInputSchema,\n    outputSchema: GenerateProductIdeasOutputSchema,\n  },\n  async (input) => {\n    const { output } = await generateProductIdeasPrompt(input);\n    return output!;\n  }\n);\n",
  "src/ai/flows/generate-social-post.ts": "'use server';\n/**\n * @fileOverview Generates a social media post based on a given topic.\n *\n * - generateSocialMediaPost - Generates a social media post.\n * - GenerateSocialMediaPostInput - The input type for the generateSocialMediaPost function.\n * - GenerateSocialMediaPostOutput - The return type for the generateSocialMediaPost function.\n */\n\nimport { ai } from '@/ai/genkit';\nimport { z } from 'genkit';\nimport { googleAI } from '@genkit-ai/google-genai';\n\nconst GenerateSocialMediaPostInputSchema = z.object({\n  topic: z.string().describe('The topic or product to generate a social media post about.'),\n});\nexport type GenerateSocialMediaPostInput = z.infer<typeof GenerateSocialMediaPostInputSchema>;\n\nconst GenerateSocialMediaPostOutputSchema = z.object({\n  postContent: z.string().describe('The generated social media post content.'),\n  hashtags: z.array(z.string()).describe('A list of relevant hashtags for the post.'),\n});\nexport type GenerateSocialMediaPostOutput = z.infer<typeof GenerateSocialMediaPostOutputSchema>;\n\nexport async function generateSocialMediaPost(input: GenerateSocialMediaPostInput): Promise<GenerateSocialMediaPostOutput> {\n  return generateSocialMediaPostFlow(input);\n}\n\nconst generateSocialMediaPostPrompt = ai.definePrompt({\n  name: 'generateSocialMediaPostPrompt',\n  input: { schema: GenerateSocialMediaPostInputSchema },\n  output: { schema: GenerateSocialMediaPostOutputSchema },\n  model: googleAI('gemini-pro'),\n  prompt: `You are an expert social media manager.\nYour task is to generate a short, engaging, and unique awareness post for social media platforms based on the provided topic.\n\nThe post should be attention-grabbing and aim to build brand awareness.\nAlso, provide a list of relevant hashtags.\n\nTopic: {{{topic}}}\n\nGenerate the post content and a list of hashtags.`,\n});\n\nconst generateSocialMediaPostFlow = ai.defineFlow(\n  {\n    name: 'generateSocialMediaPostFlow',\n    inputSchema: GenerateSocialMediaPostInputSchema,\n    outputSchema: GenerateSocialMediaPostOutputSchema,\n  },\n  async (input) => {\n    const { output } = await generateSocialMediaPostPrompt(input);\n    return output!;\n  }\n);\n",
  "src/ai/flows/initiate-outreach-flow.ts": "'use server';\n/**\n * @fileOverview An autonomous AI agent flow for initiating outreach to a qualified lead.\n */\n\nimport { ai } from '@/ai/genkit';\nimport { z } from 'genkit';\nimport { findAndQualifyLeads } from '@/ai/tools/find-and-qualify-leads';\nimport { saveLead } from '@/services/firestore-service';\nimport { sendEmail } from '@/ai/tools/send-email';\nimport { googleAI } from '@genkit-ai/google-genai';\n\nconst InitiateOutreachInputSchema = z.object({\n  lead: findAndQualifyLeads.outputSchema.element, // A single qualified lead\n  userId: z.string().describe('The ID of the user initiating the outreach.'),\n});\nexport type InitiateOutreachInput = z.infer<typeof InitiateOutreachInputSchema>;\n\nconst InitiateOutreachOutputSchema = z.object({\n  leadId: z.string().describe('The ID of the newly saved lead in Firestore.'),\n  emailSent: z.boolean().describe('Whether the email was successfully sent.'),\n  message: z.string().describe('A summary of the action taken.'),\n});\nexport type InitiateOutreachOutput = z.infer<\n  typeof InitiateOutreachOutputSchema\n>;\n\nexport async function initiateOutreach(\n  input: InitiateOutreachInput\n): Promise<InitiateOutreachOutput> {\n  return initiateOutreachFlow(input);\n}\n\nconst generateEmailPrompt = ai.definePrompt({\n  name: 'generateAutonomousEmailPrompt',\n  input: {\n    schema: z.object({\n      lead: findAndQualifyLeads.outputSchema.element,\n    }),\n  },\n  output: {\n    schema: z.object({\n      subject: z.string(),\n      body: z.string(),\n    }),\n  },\n  model: googleAI('gemini-pro'),\n  prompt: `You are an expert sales development representative for a company called Omarim AI.\nYour task is to generate a compelling and personalized outreach email to a qualified lead.\n\nThe lead has been qualified for the following reason:\n\"{{{lead.qualificationReason}}}\"\n\nLead Details:\n- Name: {{{lead.name}}}\n- Title: {{{lead.title}}}\n- Company: {{{lead.company}}}\n- Industry: {{{lead.industry}}}\n\nBased on this information, write a personalized email. The email should be concise, professional, and directly address the qualification reason.\nHighlight how Omarim AI's services (like building AI-powered websites or applications) can solve a specific problem for their company.\nStart the email by addressing the person by their first name.\nEnd with a clear call to action, like suggesting a brief meeting.\n\nGenerate a subject line and a body for the email.`,\n});\n\nconst initiateOutreachFlow = ai.defineFlow(\n  {\n    name: 'initiateOutreachFlow',\n    inputSchema: InitiateOutreachInputSchema,\n    outputSchema: InitiateOutreachOutputSchema,\n  },\n  async ({ lead, userId }) => {\n    // Step 1: Save the lead to the database\n    const { leadId } = await saveLead({\n      userId,\n      leadData: {\n        firstName: lead.name.split(' ')[0] || '',\n        lastName: lead.name.split(' ').slice(1).join(' ') || '',\n        company: lead.company,\n        domain: lead.hasWebsite ? new URL(`http://${lead.company.toLowerCase().replace(/ /g, '')}.com`).hostname : 'unknown.com', // Simulate domain\n        email: lead.email,\n        status: 'New', // Start with New status\n      },\n    });\n\n    // Step 2: Generate the personalized email using an AI prompt\n    const { output: emailContent } = await generateEmailPrompt({ lead });\n\n    if (!emailContent) {\n      throw new Error('Failed to generate email content.');\n    }\n\n    // Step 3: Send the email using the sendEmail tool\n    let sendResult = { success: false, message: 'Failed to send email.' };\n    if (emailContent.subject && emailContent.body) {\n      sendResult = await sendEmail({\n        to: lead.email,\n        subject: emailContent.subject,\n        body: emailContent.body,\n      });\n    }\n    \n    // Step 4: If email was sent successfully, update the lead status to 'Contacted' in Firestore\n    if (sendResult.success) {\n      await saveLead({\n        userId,\n        leadId: leadId, // Pass leadId to update the existing document\n        leadData: { status: 'Contacted' },\n      });\n    }\n\n\n    return {\n      leadId,\n      emailSent: sendResult.success,\n      message: sendResult.success \n        ? `Successfully engaged ${lead.name} and sent an introductory email.`\n        : `Saved ${lead.name} as a lead, but failed to send email.`,\n    };\n  }\n);\n",
  "src/ai/flows/interpret-command.ts": "'use server';\n/**\n * @fileOverview Interprets a user's natural language command and maps it to a specific action and parameters.\n *\n * - interpretCommand - A function that interprets user commands.\n * - InterpretCommandInput - The input type for the interpretCommand function.\n * - InterpretCommandOutput - The return type for the interpretCommand function.\n */\n\nimport { ai } from '@/ai/genkit';\nimport { z } from 'genkit';\nimport { googleAI } from '@genkit-ai/google-genai';\n\nconst InterpretCommandInputSchema = z.object({\n  command: z.string().describe('The natural language command from the user.'),\n});\nexport type InterpretCommandInput = z.infer<typeof InterpretCommandInputSchema>;\n\nconst InterpretCommandOutputSchema = z.object({\n  action: z\n    .enum(['generate_social_post', 'run_autonomous_agent', 'add_store', 'manage_campaign', 'answer_self_knowledge_question', 'unrecognized'])\n    .describe('The specific action the user wants to perform.'),\n  prompt: z.string().describe('The subject or prompt for the action. For autonomous agent, this is the objective. For social posts, this is the topic. For adding a store, this could be the type of store (e.g., Shopify). For campaign management, this is the original user command. For self-knowledge questions, this is the original question.'),\n});\nexport type InterpretCommandOutput = z.infer<typeof InterpretCommandOutputSchema>;\n\nexport async function interpretCommand(\n  input: InterpretCommandInput\n): Promise<InterpretCommandOutput> {\n  return interpretCommandFlow(input);\n}\n\nconst interpretCommandPrompt = ai.definePrompt({\n  name: 'interpretCommandPrompt',\n  input: { schema: InterpretCommandInputSchema },\n  output: { schema: InterpretCommandOutputSchema },\n  model: googleAI('gemini-pro'),\n  prompt: `You are an AI assistant that interprets user commands for the Omarim AI platform.\nYour task is to understand the user's command and determine the appropriate action and the prompt/subject for that action.\n\nThe available actions are:\n- 'generate_social_post': For when the user wants to create a social media post about a topic.\n- 'run_autonomous_agent': For when a user gives a high-level objective to find leads or businesses, like \"Find me 5 local businesses...\"\n- 'add_store': For when the user wants to connect a new e-commerce store, like Shopify or WooCommerce.\n- 'manage_campaign': For commands related to managing outreach sequences, such as adding leads to a campaign.\n- 'answer_self_knowledge_question': For when the user asks a question about you (Omarim AI), your features, or what you can do.\n- 'unrecognized': If the command does not match any of the above actions.\n\nAnalyze the following command and determine the action and the prompt.\n- For 'generate_social_post', the prompt is the topic.\n- For 'run_autonomous_agent', the prompt is the user's full high-level objective.\n- For 'add_store', the prompt should be the platform type if mentioned (e.g., \"Shopify\", \"WooCommerce\"). If not mentioned, the prompt can be empty.\n- For 'manage_campaign', the prompt should be the user's original command text.\n- For 'answer_self_knowledge_question', the prompt should be the user's original question.\n\nCommand: {{{command}}}\n\nRespond in a JSON format.`,\n});\n\nconst interpretCommandFlow = ai.defineFlow(\n  {\n    name: 'interpretCommandFlow',\n    inputSchema: InterpretCommandInputSchema,\n    outputSchema: InterpretCommandOutputSchema,\n  },\n  async (input) => {\n    const { output } = await interpretCommandPrompt(input);\n    return output!;\n  }\n);\n",
  "src/ai/genkit.ts": "\nimport {genkit} from 'genkit';\nimport {googleAI} from '@genkit-ai/google-genai';\n\nexport const ai = genkit({\n  plugins: [googleAI()],\n});\n",
  "src/ai/tools/find-and-qualify-leads.ts": "\n/**\n * @fileOverview A Genkit tool for finding and qualifying leads from various sources.\n * This tool uses a generative model to create plausible, fictional leads in real-time.\n */\n\nimport { ai } from '@/ai/genkit';\nimport { z } from 'genkit';\nimport { googleAI } from '@genkit-ai/google-genai';\n\nconst QualifiedLeadSchema = z.object({\n    company: z.string().describe(\"The name of the lead's company.\"),\n    name: z.string().describe(\"The full name of the lead.\"),\n    title: z.string().describe(\"The job title of the lead (e.g., CEO, Founder, Director).\"),\n    industry: z.string().describe(\"The industry the company operates in.\"),\n    email: z.string().email().describe(\"The plausible fictional email address of the lead.\"),\n    qualificationReason: z.string().describe(\"The reason this lead is a good prospect, specifically why they would need an AI-powered website or application.\"),\n    hasWebsite: z.boolean().describe(\"Whether the company currently has a website.\"),\n});\n\nexport type QualifiedLead = z.infer<typeof QualifiedLeadSchema>;\n\nconst LeadGenerationInputSchema = z.object({\n  count: z.number().describe('The desired number of qualified leads to find.'),\n  leadQuery: z.string().describe('A query describing the type of leads to look for, e.g., \"local businesses\", \"tech startups\".'),\n});\n\nconst leadGenerationPrompt = ai.definePrompt({\n  name: 'leadGenerationPrompt',\n  input: { schema: LeadGenerationInputSchema },\n  output: { schema: z.object({ leads: z.array(QualifiedLeadSchema) }) },\n  model: googleAI('gemini-pro'),\n  prompt: `You are an expert business development researcher. Your task is to generate a list of {{{count}}} plausible, yet fictional, business leads that match the following query: \"{{{leadQuery}}}\".\n\nFor each lead, you must:\n1.  Identify a decision-maker (e.g., CEO, Founder, Owner, Director).\n2.  Determine if the fictional company likely has a website or not. For smaller, local businesses (e.g., landscapers, bakeries), it's more plausible they might not have one. For tech companies, it's almost certain they do.\n3.  Based on their industry and website status, provide a compelling \"qualificationReason\" explaining why they would be a good prospect for an AI-powered website or application.\n    - If they have no website, the reason should focus on establishing an online presence.\n    - If they have a website, the reason should focus on upgrading it with AI features like chatbots, personalization, or automation to gain a competitive edge.\n4.  Generate a plausible, fictional email address for the lead.\n\nReturn the list of leads in the specified JSON format.\n`,\n});\n\n\nexport const findAndQualifyLeads = ai.defineTool(\n  {\n    name: 'findAndQualifyLeads',\n    description: 'Finds and qualifies new business leads based on a given objective. It uses AI to generate plausible, fictional leads and assesses their need for AI-powered web services.',\n    inputSchema: LeadGenerationInputSchema,\n    outputSchema: z.array(QualifiedLeadSchema),\n  },\n  async (input) => {\n    const { output } = await leadGenerationPrompt(input);\n    \n    if (!output?.leads) {\n      return [];\n    }\n\n    return output.leads;\n  }\n);\n",
  "src/ai/tools/find-trending-digital-product.ts": "\n'use server';\n/**\n * @fileOverview A Genkit tool for identifying a trending digital product idea.\n */\n\nimport { ai } from '@/ai/genkit';\nimport { z } from 'genkit';\nimport { googleAI } from '@genkit-ai/google-genai';\n\nexport const TrendingDigitalProductSchema = z.object({\n  productName: z.string().describe(\"The name of the trending digital product.\"),\n  productType: z.enum([\"eBook\", \"Notion Template\", \"Video Course\", \"Software Tool\"]).describe(\"The type of digital product.\"),\n  description: z.string().describe(\"A brief description of the product and why it's a good trend to capitalize on.\"),\n  targetAudience: z.string().describe(\"The specific target audience for this digital product.\"),\n  marketingAngle: z.string().describe(\"A creative marketing angle to promote this product.\"),\n});\nexport type TrendingDigitalProduct = z.infer<typeof TrendingDigitalProductSchema>;\n\nconst trendingDigitalProductPrompt = ai.definePrompt({\n  name: 'trendingDigitalProductPrompt',\n  input: { schema: z.undefined() },\n  output: { schema: TrendingDigitalProductSchema },\n  model: googleAI('gemini-pro'),\n  prompt: `You are a digital marketing expert and trend analyst. Your task is to identify a single, highly plausible, trending digital product idea that could be created and sold online.\n\nThe product should be one of the following types: eBook, Notion Template, Video Course, or a simple Software Tool.\n\nFor this product idea, you must:\n1.  Come up with a compelling name and type.\n2.  Provide a description explaining why it's a valuable trend.\n3.  Define the specific target audience that would be interested in this product.\n4.  Create a unique and engaging marketing angle for a launch campaign.\n\nFocus on topics that are currently popular, such as AI, productivity, content creation, or niche hobbies.\n\nReturn the single best idea in the specified JSON format.\n`,\n});\n\nexport const findTrendingDigitalProduct = ai.defineTool(\n  {\n    name: 'findTrendingDigitalProduct',\n    description: 'Analyzes the market to identify a single, trending digital product idea and a strategy for it.',\n    inputSchema: z.undefined(),\n    outputSchema: TrendingDigitalProductSchema,\n  },\n  async () => {\n    const { output } = await trendingDigitalProductPrompt();\n    if (!output) {\n      throw new Error(\"Failed to generate trending digital product information.\");\n    }\n    return output;\n  }\n);\n",
  "src/ai/tools/find-trending-products.ts": "\n\n/**\n * @fileOverview A Genkit tool for identifying trending products and potential suppliers.\n * This tool uses a generative model to create a plausible, fictional product opportunity.\n */\n\nimport { ai } from '@/ai/genkit';\nimport { z } from 'genkit';\nimport { googleAI } from '@genkit-ai/google-genai';\n\nconst TrendingProductSchema = z.object({\n    productName: z.string().describe(\"The name of the trending product.\"),\n    description: z.string().describe(\"A brief description of the product and why it's trending.\"),\n    targetAudience: z.string().describe(\"The primary target audience for this product.\"),\n    estimatedSalePrice: z.number().describe(\"The estimated retail price for the product.\"),\n    supplier: z.object({\n        name: z.string().describe(\"The name of a plausible, fictional supplier for this product.\"),\n        contactEmail: z.string().email().describe(\"A plausible fictional email address for the supplier.\"),\n    }).describe(\"Information about a potential supplier.\"),\n    marketingAngle: z.string().describe(\"A creative marketing angle to promote this product, suitable for a social media or email campaign.\"),\n});\n\nexport type TrendingProduct = z.infer<typeof TrendingProductSchema>;\n\nconst TrendingProductInputSchema = z.object({\n  category: z.string().describe('The product category to analyze for trends (e.g., \"kitchen gadgets\", \"pet accessories\").'),\n});\n\nconst trendingProductPrompt = ai.definePrompt({\n  name: 'trendingProductPrompt',\n  input: { schema: TrendingProductInputSchema },\n  output: { schema: TrendingProductSchema },\n  model: googleAI('gemini-pro'),\n  prompt: `You are an expert e-commerce analyst with a keen eye for viral products.\nYour task is to identify a single, plausible, trending product within the given category: \"{{{category}}}\".\n\nFor this product, you must:\n1.  Provide a compelling description explaining why it's currently popular.\n2.  Define the specific target audience.\n3.  Estimate a reasonable sale price.\n4.  Invent a plausible, fictional supplier for the product, including a name and contact email.\n5.  Create a unique and engaging marketing angle to kickstart a promotional campaign.\n\nReturn the result in the specified JSON format.\n`,\n});\n\n\nexport const findTrendingProductsTool = ai.defineTool(\n  {\n    name: 'findTrendingProductsTool',\n    description: 'Analyzes a product category to identify a single trending product, a potential supplier, and a marketing strategy.',\n    inputSchema: TrendingProductInputSchema,\n    outputSchema: TrendingProductSchema,\n  },\n  async (input) => {\n    const { output } = await trendingProductPrompt(input);\n    \n    if (!output) {\n      throw new Error(\"Failed to generate trending product information.\");\n    }\n\n    return output;\n  }\n);\n\nexport const findTrendingProductsFlow = ai.defineFlow(\n  {\n    name: 'findTrendingProductsFlow',\n    inputSchema: TrendingProductInputSchema,\n    outputSchema: TrendingProductSchema,\n  },\n  async (input) => {\n    return await findTrendingProductsTool(input);\n  }\n);\n",
  "src/ai/tools/generate-digital-product.ts": "\n'use server';\n/**\n * @fileOverview A Genkit tool for generating the content of a digital product.\n */\n\nimport { ai } from '@/ai/genkit';\nimport { z } from 'genkit';\nimport type { TrendingDigitalProduct } from './find-trending-digital-product';\nimport { googleAI } from '@genkit-ai/google-genai';\n\nexport const GeneratedProductContentSchema = z.object({\n    title: z.string().describe(\"The final title of the digital product.\"),\n    content: z.string().describe(\"The main content of the digital product. If it's an eBook, this is the full text. If it's a course, this is the detailed outline and key scripts. If it's a template, this is the descriptive guide on how to use it.\"),\n});\nexport type GeneratedProductContent = z.infer<typeof GeneratedProductContentSchema>;\n\nconst GenerateDigitalProductInputSchema = z.object({\n    productIdea: z.custom<TrendingDigitalProduct>(),\n});\n\nconst generateDigitalProductPrompt = ai.definePrompt({\n  name: 'generateDigitalProductPrompt',\n  input: { schema: GenerateDigitalProductInputSchema },\n  output: { schema: GeneratedProductContentSchema },\n  model: googleAI('gemini-pro'),\n  prompt: `You are an expert content creator and product developer.\nYour task is to generate the actual content for the following digital product idea.\n\nProduct Idea Details:\n- Name: {{{productIdea.productName}}}\n- Type: {{{productIdea.productType}}}\n- Description: {{{productIdea.description}}}\n- Target Audience: {{{productIdea.targetAudience}}}\n\nBased on the product type, generate the complete content:\n- If it's an eBook: Write a comprehensive, well-structured book of at least 1,000 words with a title, introduction, several chapters, and a conclusion.\n- If it's a Video Course: Create a detailed curriculum with modules, lesson titles, and a script for the introduction video.\n- If it's a Notion Template: Describe the template's structure in detail and write a comprehensive guide on how to use it effectively.\n- If it's a Software Tool: Write the high-level feature specification and a compelling landing page copy.\n\nThe output must be a complete, ready-to-use piece of content.\n\nReturn the result in the specified JSON format.\n`,\n});\n\nexport const generateDigitalProduct = ai.defineTool(\n  {\n    name: 'generateDigitalProduct',\n    description: 'Generates the full content for a given digital product idea (e.g., writes an eBook, creates a course outline).',\n    inputSchema: GenerateDigitalProductInputSchema,\n    outputSchema: GeneratedProductContentSchema,\n  },\n  async ({ productIdea }) => {\n    const { output } = await generateDigitalProductPrompt({ productIdea });\n    \n    if (!output) {\n      throw new Error(\"Failed to generate the digital product content.\");\n    }\n\n    return output;\n  }\n);\n",
  "src/ai/tools/get-omarim-ai-capabilities.ts": "\n/**\n * @fileOverview A Genkit tool that provides a structured overview of the Omarim AI platform's capabilities.\n */\n\nimport { ai } from '@/ai/genkit';\nimport { z } from 'genkit';\n\nconst OmarimFeatureSchema = z.object({\n  featureName: z.string().describe('The name of the feature.'),\n  description: z.string().describe('A detailed description of what the feature does and its value to the user.'),\n  relatedTools: z.array(z.string()).optional().describe('Any specific AI tools or flows associated with this feature.'),\n});\n\nconst CapabilitiesSchema = z.object({\n  platformName: z.string().describe('The name of the AI platform.'),\n  coreMission: z.string().describe('The primary mission or goal of the platform.'),\n  features: z.array(OmarimFeatureSchema).describe('A list of the core features of the platform.'),\n});\n\nexport const getOmarimAiCapabilities = ai.defineTool(\n  {\n    name: 'getOmarimAiCapabilities',\n    description: 'Retrieves a structured list of all capabilities and features of the Omarim AI platform. Use this to answer questions about what the AI can do.',\n    inputSchema: z.undefined(), // No input needed\n    outputSchema: CapabilitiesSchema,\n  },\n  async () => {\n    // This is the single source of truth for the AI's capabilities.\n    // As we add features to the app, we update this object to keep the AI's self-knowledge current.\n    return {\n      platformName: 'Omarim AI',\n      coreMission: 'To act as an autonomous business development partner, automating tasks like lead generation, outreach, and content creation to help users grow their business.',\n      features: [\n        {\n          featureName: 'Autonomous Business Agent',\n          description: 'Users can provide a high-level objective (e.g., \"Find me 5 local businesses that need a new website\"), and the agent will autonomously find, qualify, and even initiate contact with potential leads. It uses AI to generate plausible leads in real-time, identify decision-makers, and determine if a company could benefit from AI-powered web services.',\n          relatedTools: ['autonomousLeadGen', 'initiateOutreach', 'findAndQualifyLeads'],\n        },\n        {\n          featureName: 'Automated Digital Product Funnel',\n          description: 'A fully automated channel that identifies trending digital products, generates the product content (like an e-book or course outline), creates a marketing campaign, and simulates placing it for sale. This represents a complete, hands-off business funnel.',\n          relatedTools: ['automatedDigitalProductFunnel', 'findTrendingDigitalProduct', 'generateDigitalProduct'],\n        },\n        {\n          featureName: 'E-commerce Product Sourcing',\n          description: \"The AI can analyze product categories to identify trending items, generate marketing campaigns, and find potential (fictional) suppliers. This allows it to autonomously propose new product opportunities and initiate contact with suppliers, representing a key outbound channel.\",\n          relatedTools: ['findTrendingProducts', 'generateProductCampaign', 'generateProductIdeas'],\n        },\n        {\n          featureName: 'Conversational Chat Interface',\n          description: 'A chat interface where users can issue natural language commands to the AI. The AI interprets these commands and executes the appropriate action, such as generating content, managing marketing campaigns, or navigating the user to other parts of the application.',\n          relatedTools: ['interpretCommand'],\n        },\n        {\n          featureName: 'AI-Powered Content Generation',\n          description: \"The AI can generate various types of content on demand. This includes personalized outreach emails based on a lead's profile and engaging social media posts on a given topic.\",\n          relatedTools: ['generateOutreachEmail', 'generateSocialMediaPost'],\n        },\n        {\n          featureName: 'Voice Interaction Tools',\n          description: 'The platform includes a Voice Command Center that can transcribe spoken audio into text commands and execute them. It also features text-to-speech capabilities to read text aloud in a natural-sounding AI voice.',\n          relatedTools: ['convertSpeechToText', 'convertTextToSpeech'],\n        },\n        {\n          featureName: 'Data Management & Integration',\n          description: 'Omarim AI manages data in a Firestore database, including leads, outreach sequences, and products. The platform is designed for integration with third-party services like e-commerce platforms (Shopify, WooCommerce) and email providers (SendGrid).',\n          relatedTools: ['manageOutreachSequence'],\n        },\n        {\n          featureName: 'Email Inbox Analysis',\n          description: 'The AI can analyze inbound email replies to determine their sentiment, categorize them (e.g., as a question or complaint), and suggest relevant tags. This helps users prioritize and manage their inbox more efficiently.',\n          relatedTools: ['classifyInboundReply'],\n        }\n      ],\n    };\n  }\n);\n\n",
  "src/ai/tools/manage-outreach-sequence.ts": "\n/**\n * @fileOverview A Genkit tool for managing outreach sequences in Firestore.\n */\n\nimport { ai } from '@/ai/genkit';\nimport { z } from 'genkit';\nimport { addLeadsToSequence } from '@/services/firestore-service';\n\nexport const manageOutreachSequence = ai.defineTool(\n  {\n    name: 'manageOutreachSequence',\n    description: 'Manages outreach sequences. Use this to add leads with a specific status to a named outreach sequence.',\n    inputSchema: z.object({\n      userId: z.string().describe('The ID of the user for whom the action is being performed.'),\n      sequenceName: z.string().describe('The name of the outreach sequence to modify.'),\n      leadStatus: z.string().describe(\"The status of the leads to be added to the sequence (e.g., 'New').\"),\n    }),\n    outputSchema: z.object({\n      success: z.boolean(),\n      message: z.string().describe('A summary of the result, e.g., \"Added 5 leads to the sequence.\" or \"Sequence not found.\"'),\n      leadsAdded: z.number().optional().describe('The number of leads that were added.'),\n    }),\n  },\n  async (input) => {\n    try {\n      const result = await addLeadsToSequence({\n        userId: input.userId,\n        sequenceName: input.sequenceName,\n        leadStatus: input.leadStatus,\n      });\n\n      if (!result.success) {\n        return { success: false, message: result.message };\n      }\n\n      return {\n        success: true,\n        message: `Successfully added ${result.leadsAdded} leads to the '${input.sequenceName}' sequence.`,\n        leadsAdded: result.leadsAdded,\n      };\n    } catch (error: any) {\n      console.error('Error in manageOutreachSequence tool:', error);\n      return {\n        success: false,\n        message: `An error occurred: ${error.message || 'Unknown error'}`,\n      };\n    }\n  }\n);\n",
  "src/ai/tools/send-email.ts": "\n/**\n * @fileOverview A Genkit tool for sending emails.\n * This is a simulation and does not actually send emails.\n */\n\nimport { ai } from '@/ai/genkit';\nimport { z } from 'genkit';\nimport { sendEmail as sendEmailService } from '@/services/email-service';\n\nconst SendEmailInputSchema = z.object({\n  to: z.string().email().describe('The email address of the recipient.'),\n  subject: z.string().describe('The subject line of the email.'),\n  body: z.string().describe('The HTML or text content of the email body.'),\n});\n\nconst SendEmailOutputSchema = z.object({\n  success: z.boolean(),\n  message: z.string(),\n});\n\nexport const sendEmail = ai.defineTool(\n  {\n    name: 'sendEmail',\n    description: 'Sends an email to a specified recipient. This is a crucial step for outreach.',\n    inputSchema: SendEmailInputSchema,\n    outputSchema: SendEmailOutputSchema,\n  },\n  async (input) => {\n    try {\n      // In a real application, this would use a service like SendGrid, AWS SES, etc.\n      // We are using a simulated service for this example.\n      const result = await sendEmailService(input);\n      return result;\n    } catch (error: any) {\n      console.error('Error in sendEmail tool:', error);\n      return {\n        success: false,\n        message: `An error occurred while sending the email: ${error.message || 'Unknown error'}`,\n      };\n    }\n  }\n);\n",
  "src/app/actions.ts": "\n'use server';\n\nimport { z } from \"zod\";\nimport { findTrendingProductsFlow } from \"@/ai/tools/find-trending-products\";\nimport { generateProductCampaign as generateProductCampaignFlow, type GenerateProductCampaignOutput } from \"@/ai/flows/generate-product-campaign\";\nimport { \n    GenerateProductCampaignInputSchema, \n    type GenerateProductCampaignInput\n} from \"@/app/schemas\";\n\nexport type TrendingProduct = GenerateProductCampaignInput;\n\n\nexport async function findTrendingProducts(category: string): Promise<TrendingProduct> {\n    return await findTrendingProductsFlow({ category });\n}\n\nexport async function generateProductCampaign(input: GenerateProductCampaignInput): Promise<GenerateProductCampaignOutput> {\n    // We need to validate the input here before passing it to the flow\n    const validatedInput = GenerateProductCampaignInputSchema.parse(input);\n    return await generateProductCampaignFlow(validatedInput);\n}\n",
  "src/app/dashboard/agent/page.tsx": "'use client';\n\nimport { useState } from 'react';\nimport { useForm } from 'react-hook-form';\nimport { zodResolver } from '@hookform/resolvers/zod';\nimport * as z from 'zod';\nimport {\n  Bot,\n  Loader2,\n  User,\n  Sparkles,\n  Building,\n  Briefcase,\n  ChevronRight,\n  XCircle,\n  CheckCircle2,\n  AlertTriangle,\n} from 'lucide-react';\nimport {\n  autonomousLeadGen,\n  type AutonomousLeadGenOutput,\n} from '@/ai/flows/autonomous-lead-gen-flow';\nimport { initiateOutreach } from '@/ai/flows/initiate-outreach-flow';\nimport type { QualifiedLead } from '@/ai/tools/find-and-qualify-leads';\nimport { useUser } from '@/firebase';\nimport { useToast } from '@/hooks/use-toast';\n\nimport { Button } from '@/components/ui/button';\nimport {\n  Card,\n  CardContent,\n  CardDescription,\n  CardFooter,\n  CardHeader,\n  CardTitle,\n} from '@/components/ui/card';\nimport {\n  Form,\n  FormControl,\n  FormField,\n  FormItem,\n  FormMessage,\n} from '@/components/ui/form';\nimport { Input } from '@/components/ui/input';\nimport { Badge } from '@/components/ui/badge';\nimport { Separator } from '@/components/ui/separator';\nimport {\n  AlertDialog,\n  AlertDialogAction,\n  AlertDialogCancel,\n  AlertDialogContent,\n  AlertDialogDescription,\n  AlertDialogFooter,\n  AlertDialogHeader,\n  AlertDialogTitle,\n  AlertDialogTrigger,\n} from '@/components/ui/alert-dialog';\n\nconst agentFormSchema = z.object({\n  objective: z\n    .string()\n    .min(10, { message: 'Objective must be at least 10 characters.' }),\n});\n\nexport default function AgentPage() {\n  const [isLoading, setIsLoading] = useState(false);\n  const [outreachState, setOutreachState] = useState<{ [key: string]: 'loading' | 'done' }>({});\n  const [agentResponse, setAgentResponse] =\n    useState<AutonomousLeadGenOutput | null>(null);\n  \n  const [leadForConfirmation, setLeadForConfirmation] = useState<{lead: QualifiedLead, index: number} | null>(null);\n\n  const { user } = useUser();\n  const { toast } = useToast();\n\n  const form = useForm<z.infer<typeof agentFormSchema>>({\n    resolver: zodResolver(agentFormSchema),\n    defaultValues: {\n      objective:\n        'Find me 5 local businesses that need a new AI-powered website.',\n    },\n  });\n\n  async function onSubmit(values: z.infer<typeof agentFormSchema>) {\n    setIsLoading(true);\n    setAgentResponse(null);\n    try {\n      const response = await autonomousLeadGen({ objective: values.objective });\n      setAgentResponse(response);\n    } catch (error) {\n      console.error('Autonomous Agent failed:', error);\n      toast({\n        variant: 'destructive',\n        title: 'Agent Failed',\n        description: 'The autonomous agent encountered an error.',\n      });\n    } finally {\n      setIsLoading(false);\n    }\n  }\n\n  const handleInitiateOutreach = async () => {\n    if (!leadForConfirmation) return;\n\n    const { lead, index } = leadForConfirmation;\n\n    if (!user) {\n      toast({\n        variant: 'destructive',\n        title: 'Not Authenticated',\n        description: 'You must be logged in to initiate outreach.',\n      });\n      return;\n    }\n    \n    setOutreachState(prev => ({...prev, [index]: 'loading'}));\n    setLeadForConfirmation(null); // Close dialog\n    \n    try {\n      const result = await initiateOutreach({ lead, userId: user.uid });\n      toast({\n        title: result.emailSent ? 'Engagement Successful' : 'Engagement Partially Failed',\n        description: result.message,\n        variant: result.emailSent ? 'default' : 'destructive',\n      });\n      setOutreachState(prev => ({...prev, [index]: 'done'}));\n    } catch (error) {\n      console.error('Outreach failed:', error);\n      toast({\n        variant: 'destructive',\n        title: 'Engagement Failed',\n        description: 'Could not complete the engagement for this lead.',\n      });\n      setOutreachState(prev => ({...prev, [index]: 'done'})); // Reset even on error\n    }\n  };\n\n\n  const LeadCard = ({ lead, index }: { lead: QualifiedLead; index: number }) => {\n    const isProcessing = outreachState[index] === 'loading';\n    const isDone = outreachState[index] === 'done';\n\n    return (\n    <Card className=\"bg-card/50 transition-all hover:bg-card/80 hover:shadow-md\">\n      <CardHeader>\n        <div className=\"flex items-start justify-between\">\n          <div>\n            <CardTitle className=\"text-lg\">{lead.name}</CardTitle>\n            <CardDescription>{lead.company}</CardDescription>\n          </div>\n          <Badge variant=\"secondary\">{lead.title}</Badge>\n        </div>\n      </CardHeader>\n      <CardContent className=\"space-y-4\">\n        <div className=\"flex items-center text-sm text-muted-foreground\">\n          <Building className=\"mr-2 h-4 w-4\" />\n          <span>{lead.industry}</span>\n        </div>\n        <div className=\"flex items-center text-sm text-muted-foreground\">\n          {lead.hasWebsite ? (\n            <CheckCircle2 className=\"mr-2 h-4 w-4 text-green-500\" />\n          ) : (\n            <XCircle className=\"mr-2 h-4 w-4 text-red-500\" />\n          )}\n          <span>{lead.hasWebsite ? 'Has Website' : 'No Website'}</span>\n        </div>\n        <div className=\"flex items-start text-sm\">\n          <Sparkles className=\"mr-2 mt-1 h-4 w-4 flex-shrink-0 text-primary\" />\n          <p>{lead.qualificationReason}</p>\n        </div>\n      </CardContent>\n      <CardFooter>\n        <Button\n          className=\"w-full\"\n          onClick={() => setLeadForConfirmation({ lead, index })}\n          disabled={isProcessing || isDone}\n        >\n          {isProcessing ? (\n             <Loader2 className=\"mr-2 h-4 w-4 animate-spin\" />\n          ) : (\n             <Briefcase className=\"mr-2 h-4 w-4\" />\n          )}\n         {isDone ? 'Engagement Complete' : 'Engage Lead'}\n        </Button>\n      </CardFooter>\n    </Card>\n  )};\n\n  return (\n    <>\n    <div className=\"container mx-auto max-w-5xl space-y-8 py-8\">\n      <div className=\"text-center\">\n        <h1 className=\"font-headline text-3xl font-bold md:text-4xl\">\n          Autonomous Business Agent\n        </h1>\n        <p className=\"mt-2 text-lg text-muted-foreground\">\n          Delegate high-level objectives and watch your AI agent execute them.\n        </p>\n      </div>\n\n      <Card className=\"shadow-lg\">\n        <CardHeader>\n          <div className=\"flex items-center gap-4\">\n            <User className=\"h-6 w-6\" />\n            <CardTitle>Your Objective</CardTitle>\n          </div>\n          <CardDescription>\n            Provide a clear, high-level goal for the AI agent to accomplish.\n          </CardDescription>\n        </CardHeader>\n        <Form {...form}>\n          <form onSubmit={form.handleSubmit(onSubmit)}>\n            <CardContent>\n              <FormField\n                control={form.control}\n                name=\"objective\"\n                render={({ field }) => (\n                  <FormItem>\n                    <FormControl>\n                      <Input\n                        placeholder=\"e.g., 'Find 10 tech startups in San Francisco that recently received funding.'\"\n                        {...field}\n                        disabled={isLoading}\n                      />\n                    </FormControl>\n                    <FormMessage />\n                  </FormItem>\n                )}\n              />\n            </CardContent>\n            <CardFooter>\n              <Button type=\"submit\" disabled={isLoading} size=\"lg\">\n                {isLoading ? (\n                  <Loader2 className=\"mr-2 h-5 w-5 animate-spin\" />\n                ) : (\n                  <ChevronRight className=\"mr-2 h-5 w-5\" />\n                )}\n                Execute\n              </Button>\n            </CardFooter>\n          </form>\n        </Form>\n      </Card>\n\n      {isLoading && (\n        <div className=\"flex justify-center py-10\">\n          <Loader2 className=\"h-8 w-8 animate-spin\" />\n        </div>\n      )}\n\n      {agentResponse && (\n        <Card className=\"border-none bg-transparent shadow-none\">\n          <CardHeader>\n            <div className=\"flex items-center gap-4\">\n              <Bot className=\"h-6 w-6 text-primary\" />\n              <CardTitle>Agent Response</CardTitle>\n            </div>\n            <CardDescription className=\"pt-2\">\n              {agentResponse.summary}\n            </CardDescription>\n          </CardHeader>\n          <CardContent>\n            <Separator className=\"my-4\" />\n            <div className=\"grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-3\">\n              {agentResponse.qualifiedLeads.map((lead, index) => (\n                <LeadCard key={index} lead={lead as QualifiedLead} index={index}/>\n              ))}\n            </div>\n          </CardContent>\n        </Card>\n      )}\n    </div>\n    \n      <AlertDialog open={!!leadForConfirmation} onOpenChange={(open) => !open && setLeadForConfirmation(null)}>\n        <AlertDialogContent>\n          <AlertDialogHeader>\n            <AlertDialogTitle className=\"flex items-center gap-2\">\n                <AlertTriangle className=\"text-yellow-400\" />\n                Confirm Action\n            </AlertDialogTitle>\n            <AlertDialogDescription>\n              Are you sure you want to engage this lead? This will save the lead to your database and send a personalized outreach email drafted by Omarim AI. This action cannot be undone.\n            </AlertDialogDescription>\n          </AlertDialogHeader>\n          {leadForConfirmation && (\n             <div className=\"text-sm rounded-md border bg-muted p-4\">\n                 <p className=\"font-bold\">{leadForConfirmation.lead.name}</p>\n                 <p className=\"text-muted-foreground\">{leadForConfirmation.lead.company}</p>\n             </div>\n          )}\n          <AlertDialogFooter>\n            <AlertDialogCancel>No, cancel</AlertDialogCancel>\n            <AlertDialogAction onClick={handleInitiateOutreach}>\n              Yes, engage lead\n            </AlertDialogAction>\n          </AlertDialogFooter>\n        </AlertDialogContent>\n      </AlertDialog>\n    </>\n  );\n}\n",
  "src/app/dashboard/app-builder/page.tsx": "\n'use client';\n\nimport { useState } from 'react';\nimport { useForm } from 'react-hook-form';\nimport { zodResolver } from '@hookform/resolvers/zod';\nimport * as z from 'zod';\nimport {\n  Bot,\n  Loader2,\n  Sparkles,\n  Package,\n  User,\n  List,\n  Database,\n  Users,\n  Layers,\n} from 'lucide-react';\nimport {\n  generateAppBlueprint,\n  type GenerateAppBlueprintOutput,\n} from '@/ai/flows/generate-app-blueprint';\n\nimport { Button } from '@/components/ui/button';\nimport {\n  Card,\n  CardContent,\n  CardDescription,\n  CardFooter,\n  CardHeader,\n  CardTitle,\n} from '@/components/ui/card';\nimport {\n  Form,\n  FormControl,\n  FormField,\n  FormItem,\n  FormLabel,\n  FormMessage,\n} from '@/components/ui/form';\nimport { Textarea } from '@/components/ui/textarea';\nimport { useToast } from '@/hooks/use-toast';\nimport { Separator } from '@/components/ui/separator';\nimport { Badge } from '@/components/ui/badge';\n\nconst builderFormSchema = z.object({\n  appDescription: z.string().min(20, {\n    message: 'Please describe your app idea in at least 20 characters.',\n  }),\n});\n\nexport default function AppBuilderPage() {\n  const [isLoading, setIsLoading] = useState(false);\n  const [blueprint, setBlueprint] =\n    useState<GenerateAppBlueprintOutput | null>(null);\n  const { toast } = useToast();\n\n  const form = useForm<z.infer<typeof builderFormSchema>>({\n    resolver: zodResolver(builderFormSchema),\n    defaultValues: {\n      appDescription: '',\n    },\n  });\n\n  async function onSubmit(values: z.infer<typeof builderFormSchema>) {\n    setIsLoading(true);\n    setBlueprint(null);\n    try {\n      const response = await generateAppBlueprint({\n        appDescription: values.appDescription,\n      });\n      setBlueprint(response);\n    } catch (error) {\n      console.error('App Blueprint generation failed:', error);\n      toast({\n        variant: 'destructive',\n        title: 'Generation Failed',\n        description: 'The AI architect encountered an error.',\n      });\n    } finally {\n      setIsLoading(false);\n    }\n  }\n\n  const Section = ({ icon: Icon, title, children }: { icon: React.ElementType, title: string, children: React.ReactNode }) => (\n    <div className=\"space-y-4 rounded-lg border bg-card/50 p-6\">\n        <div className=\"flex items-center gap-3\">\n            <Icon className=\"h-6 w-6 text-primary\" />\n            <h3 className=\"text-xl font-semibold font-headline\">{title}</h3>\n        </div>\n        <div className=\"pl-9\">{children}</div>\n    </div>\n  );\n\n  return (\n    <div className=\"container mx-auto max-w-6xl space-y-8 py-8\">\n      <div className=\"text-center\">\n        <h1 className=\"font-headline text-3xl font-bold md:text-4xl\">\n          AI App Blueprint Generator\n        </h1>\n        <p className=\"mt-2 text-lg text-muted-foreground\">\n          Transform your idea into a professional technical specification in\n          seconds.\n        </p>\n      </div>\n\n      <Card className=\"shadow-lg\">\n        <CardHeader>\n          <div className=\"flex items-center gap-4\">\n            <User className=\"h-6 w-6\" />\n            <CardTitle>Your App Idea</CardTitle>\n          </div>\n          <CardDescription>\n            Describe your application. What does it do? Who is it for? What is\n            the main goal?\n          </CardDescription>\n        </CardHeader>\n        <Form {...form}>\n          <form onSubmit={form.handleSubmit(onSubmit)}>\n            <CardContent>\n              <FormField\n                control={form.control}\n                name=\"appDescription\"\n                render={({ field }) => (\n                  <FormItem>\n                    <FormControl>\n                      <Textarea\n                        placeholder=\"e.g., 'An app that lets users track their reading habits, create book lists, and get recommendations from friends.'\"\n                        {...field}\n                        disabled={isLoading}\n                        className=\"min-h-[120px]\"\n                      />\n                    </FormControl>\n                    <FormMessage />\n                  </FormItem>\n                )}\n              />\n            </CardContent>\n            <CardFooter>\n              <Button type=\"submit\" disabled={isLoading} size=\"lg\">\n                {isLoading ? (\n                  <Loader2 className=\"mr-2 h-5 w-5 animate-spin\" />\n                ) : (\n                  <Sparkles className=\"mr-2 h-5 w-5\" />\n                )}\n                Generate Blueprint\n              </Button>\n            </CardFooter>\n          </form>\n        </Form>\n      </Card>\n\n      {isLoading && (\n        <div className=\"flex justify-center py-10\">\n          <Loader2 className=\"h-8 w-8 animate-spin\" />\n        </div>\n      )}\n\n      {blueprint && (\n        <Card className=\"border-none bg-transparent shadow-none\">\n          <CardHeader className=\"text-center\">\n            <div className=\"flex items-center justify-center gap-4\">\n              <Bot className=\"h-8 w-8 text-primary\" />\n              <div>\n                <CardTitle className=\"text-3xl\">{blueprint.appName}</CardTitle>\n                <CardDescription className=\"text-lg\">\n                  {blueprint.tagline}\n                </CardDescription>\n              </div>\n            </div>\n          </CardHeader>\n          <CardContent className=\"mt-6 space-y-6\">\n            <Section icon={List} title=\"Core Features (MVP)\">\n                <ul className=\"space-y-3 list-disc list-inside\">\n                    {blueprint.coreFeatures.map((feature, i) => (\n                        <li key={i}>\n                            <span className=\"font-semibold\">{feature.name}:</span> <span className=\"text-muted-foreground\">{feature.description}</span>\n                        </li>\n                    ))}\n                </ul>\n            </Section>\n            \n            <div className=\"grid grid-cols-1 gap-6 lg:grid-cols-2\">\n                <Section icon={Database} title=\"Data Models\">\n                     <div className=\"space-y-3\">\n                        {blueprint.dataModels.map((model, i) => (\n                            <div key={i}>\n                                <h4 className=\"font-semibold\">{model.name}</h4>\n                                <p className=\"text-sm text-muted-foreground\">{model.properties.join(', ')}</p>\n                            </div>\n                        ))}\n                    </div>\n                </Section>\n                <Section icon={Users} title=\"User Personas\">\n                     <div className=\"space-y-3\">\n                        {blueprint.userPersonas.map((persona, i) => (\n                            <div key={i}>\n                                <h4 className=\"font-semibold\">{persona.name}</h4>\n                                <p className=\"text-sm text-muted-foreground\">{persona.description}</p>\n                            </div>\n                        ))}\n                    </div>\n                </Section>\n            </div>\n\n            <Section icon={Layers} title=\"Technology Stack\">\n                <div className=\"grid grid-cols-2 gap-4 sm:grid-cols-4\">\n                    <div className=\"text-center\">\n                        <p className=\"font-semibold\">Frontend</p>\n                        <p className=\"text-sm text-muted-foreground\">{blueprint.techStack.frontend}</p>\n                    </div>\n                    <div className=\"text-center\">\n                        <p className=\"font-semibold\">Backend</p>\n                        <p className=\"text-sm text-muted-foreground\">{blueprint.techStack.backend}</p>\n                    </div>\n                     <div className=\"text-center\">\n                        <p className=\"font-semibold\">Database</p>\n                        <p className=\"text-sm text-muted-foreground\">{blueprint.techStack.database}</p>\n                    </div>\n                     <div className=\"text-center\">\n                        <p className=\"font-semibold\">AI/ML</p>\n                        <p className=\"text-sm text-muted-foreground\">{blueprint.techStack.ai}</p>\n                    </div>\n                </div>\n            </Section>\n          </CardContent>\n        </Card>\n      )}\n    </div>\n  );\n}\n",
  "src/app/dashboard/chat/page.tsx": "\n\"use client\";\n\nimport { useState, useRef, useEffect } from \"react\";\nimport { useForm } from \"react-hook-form\";\nimport { zodResolver } from \"@hookform/resolvers/zod\";\nimport * as z from \"zod\";\nimport { useRouter } from \"next/navigation\";\n\nimport { Avatar, AvatarFallback } from \"@/components/ui/avatar\";\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport {\n  Card,\n  CardContent,\n  CardDescription,\n  CardHeader,\n  CardTitle,\n} from \"@/components/ui/card\";\nimport {\n  Form,\n  FormControl,\n  FormField,\n  FormItem,\n  FormMessage,\n} from \"@/components/ui/form\";\nimport { ScrollArea } from \"@/components/ui/scroll-area\";\nimport { Icons } from \"@/components/icons\";\nimport { Bot, User } from \"lucide-react\";\nimport { interpretCommand } from \"@/ai/flows/interpret-command\";\nimport { useUser, useFirestore, useDoc, useMemoFirebase } from \"@/firebase\";\nimport { doc } from \"firebase/firestore\";\n\nimport { generateSocialMediaPost, type GenerateSocialMediaPostOutput } from \"@/ai/flows/generate-social-post\";\nimport { executeCampaignAction, type ExecuteCampaignActionOutput } from \"@/ai/flows/execute-campaign-action\";\nimport { answerSelfKnowledgeQuestion, type AnswerSelfKnowledgeOutput } from \"@/ai/flows/answer-self-knowledge-question\";\nimport { Label } from \"@/components/ui/label\";\nimport { Textarea } from \"@/components/ui/textarea\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { useToast } from \"@/hooks/use-toast\";\n\n\nconst chatFormSchema = z.object({\n  message: z.string().min(1, { message: \"Message cannot be empty.\" }),\n});\n\ntype AgentResult = \n  | { type: 'social'; data: GenerateSocialMediaPostOutput }\n  | { type: 'campaign'; data: ExecuteCampaignActionOutput };\n\ntype Message = {\n  id: string;\n  role: \"user\" | \"assistant\";\n  content: string;\n  result?: AgentResult;\n};\n\nexport default function ChatPage() {\n  const [messages, setMessages] = useState<Message[]>([]);\n  const [isThinking, setIsThinking] = useState(false);\n  const scrollAreaRef = useRef<HTMLDivElement>(null);\n  const router = useRouter();\n  const { toast } = useToast();\n\n  const { user } = useUser();\n  const firestore = useFirestore();\n\n  const userDocRef = useMemoFirebase(() => {\n    if (!user || !firestore) return null;\n    return doc(firestore, \"users\", user.uid);\n  }, [user, firestore]);\n\n  const { data: userData } = useDoc(userDocRef);\n  const userName = userData ? userData.firstName : \"User\";\n\n  const form = useForm<z.infer<typeof chatFormSchema>>({\n    resolver: zodResolver(chatFormSchema),\n    defaultValues: { message: \"\" },\n  });\n\n  useEffect(() => {\n    if (scrollAreaRef.current) {\n        const viewport = scrollAreaRef.current.querySelector('div[data-radix-scroll-area-viewport]');\n        if (viewport) {\n            viewport.scrollTop = viewport.scrollHeight;\n        }\n    }\n  }, [messages]);\n\n  useEffect(() => {\n    setMessages([\n      {\n        id: \"init\",\n        role: \"assistant\",\n        content: `Hello ${userName}, I am Omarim AI. How can I help you today? You can ask me to generate content or manage your integrations.`,\n      },\n    ]);\n  }, [userName]);\n\n  const handleAiResponse = async (action: string, prompt: string, command: string) => {\n     let responseText = \"\";\n     let agentResult: AgentResult | undefined = undefined;\n\n     try {\n        switch (action) {\n            case \"generate_social_post\":\n                responseText = `Understood. Here is a draft for a social media post about \"${prompt}\".`;\n                const socialOutput = await generateSocialMediaPost({ topic: prompt });\n                agentResult = { type: 'social', data: socialOutput };\n                break;\n            case \"run_autonomous_agent\":\n                responseText = `Got it. I'll get to work on that objective. I'm navigating you to the Autonomous Agent page where you can see the results.`;\n                setTimeout(() => router.push(`/dashboard/agent?objective=${encodeURIComponent(prompt)}`), 1500);\n                break;\n            case \"add_store\":\n                responseText = `Perfect. Let's connect your ${prompt || 'new'} store. I'll take you to the right place.`;\n                 setTimeout(() => router.push(`/dashboard/settings?tab=integrations&action=addStore&storeType=${prompt || ''}`), 1500);\n                 break;\n            case \"manage_campaign\":\n                if (!user) {\n                  responseText = \"I'm sorry, I can't manage campaigns without knowing who you are. Please ensure you are logged in.\";\n                  break;\n                }\n                responseText = `Right away. I will execute the command: \"${command}\".`;\n                const campaignOutput = await executeCampaignAction({ command, userId: user.uid });\n                agentResult = { type: 'campaign', data: campaignOutput };\n                // Overwrite the initial response with the actual result from the tool\n                responseText = campaignOutput.result; \n                break;\n            case \"answer_self_knowledge_question\":\n                const selfKnowledgeOutput = await answerSelfKnowledgeQuestion({ question: prompt });\n                responseText = selfKnowledgeOutput.answer;\n                break;\n            default:\n                responseText = \"I'm sorry, I'm not sure how to help with that. I can help generate social media posts, run the autonomous agent to find leads, or connect new stores.\";\n                break;\n        }\n     } catch (error) {\n        console.error(\"AI action failed:\", error);\n        responseText = \"I'm sorry, I encountered an error while trying to complete that task. Please try again.\";\n        toast({\n            variant: \"destructive\",\n            title: \"AI Action Failed\",\n            description: \"There was a problem executing the AI-powered action.\",\n        });\n     }\n\n     setMessages((prev) => [\n        ...prev,\n        { id: String(Date.now()), role: \"assistant\", content: responseText, result: agentResult },\n     ]);\n  }\n\n  async function onSubmit(values: z.infer<typeof chatFormSchema>) {\n    const userMessage: Message = {\n      id: String(Date.now()),\n      role: \"user\",\n      content: values.message,\n    };\n    setMessages((prev) => [...prev, userMessage]);\n    form.reset();\n    setIsThinking(true);\n\n    try {\n      const result = await interpretCommand({ command: values.message });\n      await handleAiResponse(result.action, result.prompt, values.message);\n    } catch (error) {\n      console.error(\"AI interpretation failed:\", error);\n      const errorMessage: Message = {\n        id: String(Date.now() + 1),\n        role: \"assistant\",\n        content: \"Sorry, I had trouble understanding that. Please try rephrasing your command.\",\n      };\n      setMessages((prev) => [...prev, errorMessage]);\n    } finally {\n      setIsThinking(false);\n    }\n  }\n\n  return (\n    <div className=\"flex h-[calc(100vh-8rem)] flex-col\">\n      <Card className=\"flex flex-1 flex-col\">\n        <CardHeader className=\"border-b\">\n          <CardTitle>Chat with Omarim AI</CardTitle>\n          <CardDescription>Your personal AI assistant for managing your business.</CardDescription>\n        </CardHeader>\n        <CardContent className=\"flex-1 overflow-hidden p-0\">\n            <ScrollArea className=\"h-full\" ref={scrollAreaRef}>\n                <div className=\"p-6 space-y-6\">\n                {messages.map((message) => (\n                    <div key={message.id}>\n                        <div\n                        className={`flex items-start gap-4 ${\n                            message.role === \"user\" ? \"justify-end\" : \"\"\n                        }`}\n                        >\n                        {message.role === \"assistant\" && (\n                            <Avatar className=\"h-9 w-9 border\">\n                            <div className=\"flex h-full w-full items-center justify-center bg-primary/10\">\n                                <Icons.logo className=\"h-5 w-5 text-primary\" />\n                            </div>\n                            </Avatar>\n                        )}\n                        <div\n                            className={`max-w-xl rounded-lg px-4 py-3 text-sm ${\n                            message.role === \"user\"\n                                ? \"bg-primary text-primary-foreground\"\n                                : \"bg-muted\"\n                            }`}\n                        >\n                            <p className=\"whitespace-pre-wrap\">{message.content}</p>\n                        </div>\n                        {message.role === \"user\" && (\n                            <Avatar className=\"h-9 w-9 border\">\n                            <AvatarFallback>\n                                <User className=\"h-5 w-5\" />\n                            </AvatarFallback>\n                            </Avatar>\n                        )}\n                        </div>\n                        {message.result && ! (message.result.type === 'campaign') && (\n                             <div className=\"mt-4 pl-12\">\n                                <Card className=\"max-w-xl\">\n                                    <CardContent className=\"p-4 space-y-4\">\n                                        {message.result.type === 'social' && (\n                                            <div className=\"space-y-4\">\n                                                <div className=\"space-y-2\">\n                                                    <Label htmlFor={`post-content-${message.id}`}>Post Content</Label>\n                                                    <Textarea\n                                                        id={`post-content-${message.id}`}\n                                                        readOnly\n                                                        value={message.result.data.postContent}\n                                                        className=\"h-32\"\n                                                    />\n                                                </div>\n                                                <div className=\"space-y-2\">\n                                                    <Label>Hashtags</Label>\n                                                    <div className=\"flex flex-wrap gap-2\">\n                                                    {message.result.data.hashtags.map((tag, index) => (\n                                                        <Badge key={index} variant=\"secondary\">{tag}</Badge>\n                                                    ))}\n                                                    </div>\n                                                </div>\n                                            </div>\n                                        )}\n                                    </CardContent>\n                                </Card>\n                            </div>\n                        )}\n                    </div>\n                ))}\n                 {isThinking && (\n                    <div className=\"flex items-start gap-4\">\n                        <Avatar className=\"h-9 w-9 border\">\n                            <div className=\"flex h-full w-full items-center justify-center bg-primary/10\">\n                                <Icons.logo className=\"h-5 w-5 text-primary\" />\n                            </div>\n                        </Avatar>\n                        <div className=\"max-w-md rounded-lg px-4 py-3 bg-muted flex items-center gap-2\">\n                           <span className=\"h-2 w-2 bg-primary rounded-full animate-pulse delay-0\" />\n                           <span className=\"h-2 w-2 bg-primary rounded-full animate-pulse delay-150\" />\n                           <span className=\"h-2 w-2 bg-primary rounded-full animate-pulse delay-300\" />\n                        </div>\n                    </div>\n                 )}\n                </div>\n            </ScrollArea>\n        </CardContent>\n        <div className=\"border-t p-4\">\n          <Form {...form}>\n            <form\n              onSubmit={form.handleSubmit(onSubmit)}\n              className=\"flex items-center gap-2\"\n            >\n              <FormField\n                control={form.control}\n                name=\"message\"\n                render={({ field }) => (\n                  <FormItem className=\"flex-1\">\n                    <FormControl>\n                      <Input\n                        placeholder=\"e.g., 'What can you do?'\"\n                        autoComplete=\"off\"\n                        {...field}\n                        disabled={isThinking}\n                      />\n                    </FormControl>\n                    <FormMessage />\n                  </FormItem>\n                )}\n              />\n              <Button type=\"submit\" size=\"icon\" disabled={isThinking}>\n                <Icons.logo className=\"h-4 w-4\" />\n                <span className=\"sr-only\">Send</span>\n              </Button>\n            </form>\n          </Form>\n        </div>\n      </Card>\n    </div>\n  );\n}\n",
  "src/app/dashboard/components/lead-intelligence-chart.tsx": "\n\"use client\";\n\nimport { useMemo, useState, useEffect } from 'react';\nimport { PieChart, Pie, Cell, Tooltip, Legend, ResponsiveContainer } from 'recharts';\nimport { Users, Loader2 } from 'lucide-react';\n\nconst leadStatusColors: { [key: string]: string } = {\n  New: 'hsl(var(--chart-1))',\n  Contacted: 'hsl(var(--chart-2))',\n  Interested: 'hsl(var(--chart-3))',\n  Replied: 'hsl(var(--chart-4))',\n  'Not Interested': 'hsl(var(--chart-5))',\n  default: 'hsl(var(--muted-foreground))',\n};\n\nexport function LeadIntelligenceChart({ leads }: { leads: any[] | null }) {\n    const [isClient, setIsClient] = useState(false);\n    useEffect(() => {\n        setIsClient(true);\n    }, []);\n\n    const leadStatusData = useMemo(() => {\n        if (!leads) return [];\n        const statusCounts = leads.reduce((acc, lead) => {\n          const status = lead.status || 'Unknown';\n          acc[status] = (acc[status] || 0) + 1;\n          return acc;\n        }, {} as { [key: string]: number });\n    \n        return Object.entries(statusCounts).map(([name, value]) => ({ \n            name, \n            value,\n            fill: leadStatusColors[name as keyof typeof leadStatusColors] || leadStatusColors.default\n        }));\n    }, [leads]);\n    \n    // First, gate the rendering to only happen on the client\n    if (!isClient) {\n        return <div className=\"h-full w-full flex items-center justify-center\"><Loader2 className=\"h-8 w-8 animate-spin text-muted-foreground\" /></div>;\n    }\n\n    // After confirming we are on the client, check for data\n    if (!leads || leads.length === 0) {\n        return (\n            <div className=\"flex flex-col items-center justify-center text-center bg-muted/50 rounded-lg p-4 h-full\">\n                <Users className=\"h-8 w-8 text-muted-foreground\" />\n                <p className=\"mt-2 text-sm font-semibold\">No Lead Data</p>\n                <p className=\"text-xs text-muted-foreground\">Your pipeline will appear here.</p>\n            </div>\n        )\n    }\n\n    // Only render the chart if we are on the client AND have data\n    return (\n        <ResponsiveContainer width=\"100%\" height=\"100%\">\n            <PieChart>\n            <Pie\n                data={leadStatusData}\n                cx=\"50%\"\n                cy=\"50%\"\n                labelLine={false}\n                outerRadius={60}\n                innerRadius={30}\n                fill=\"#8884d8\"\n                dataKey=\"value\"\n            >\n                {leadStatusData.map((entry, index) => (\n                    <Cell key={`cell-${index}`} fill={entry.fill} stroke={entry.fill} />\n                ))}\n            </Pie>\n            <Tooltip \n                cursor={{fill: 'hsla(var(--muted), 0.5)'}}\n                contentStyle={{ \n                backgroundColor: 'hsl(var(--background))',\n                borderColor: 'hsl(var(--border))',\n                borderRadius: 'var(--radius)',\n                fontSize: '0.8rem',\n            }}/>\n             <Legend \n                iconSize={8}\n                wrapperStyle={{fontSize: '0.7rem', marginLeft: '10px'}}\n                payload={leadStatusData.map(item => ({ value: item.name, type: 'square', color: item.fill }))}\n             />\n            </PieChart>\n        </ResponsiveContainer>\n    );\n}\n",
  "src/app/dashboard/components/revenue-overview.tsx": "\n\"use client\";\n\nimport { BarChart, Bar, XAxis, YAxis, CartesianGrid, Tooltip, Legend, ResponsiveContainer } from 'recharts';\nimport {\n  Card,\n  CardContent,\n  CardDescription,\n  CardHeader,\n  CardTitle,\n} from '@/components/ui/card';\nimport { useState, useEffect } from 'react';\nimport { Loader2 } from 'lucide-react';\n\nexport function RevenueOverview() {\n    const [isClient, setIsClient] = useState(false);\n    useEffect(() => {\n        setIsClient(true);\n    }, []);\n\n    const revenueData = [\n        { name: 'Jan', \"Website Sales\": 4000, \"E-Commerce\": 2400, \"Lead Gen\": 1200 },\n        { name: 'Feb', \"Website Sales\": 3000, \"E-Commerce\": 1398, \"Lead Gen\": 1100 },\n        { name: 'Mar', \"Website Sales\": 5000, \"E-Commerce\": 6800, \"Lead Gen\": 1500 },\n        { name: 'Apr', \"Website Sales\": 4780, \"E-Commerce\": 3908, \"Lead Gen\": 1800 },\n        { name: 'May', \"Website Sales\": 6900, \"E-Commerce\": 4800, \"Lead Gen\": 2100 },\n        { name: 'Jun', \"Website Sales\": 7390, \"E-Commerce\": 3800, \"Lead Gen\": 2500 },\n    ];\n\n    if (!isClient) {\n        return (\n            <Card className=\"lg:col-span-3\">\n                <CardHeader>\n                    <CardTitle>Revenue Overview</CardTitle>\n                    <CardDescription>Monthly performance across all business units.</CardDescription>\n                </CardHeader>\n                <CardContent>\n                    <div className=\"h-[350px] w-full flex items-center justify-center\">\n                        <Loader2 className=\"h-8 w-8 animate-spin\" />\n                    </div>\n                </CardContent>\n            </Card>\n        );\n    }\n    \n    return (\n        <Card className=\"lg:col-span-3\">\n          <CardHeader>\n            <CardTitle>Revenue Overview</CardTitle>\n            <CardDescription>Monthly performance across all business units.</CardDescription>\n          </CardHeader>\n          <CardContent>\n            <div className=\"h-[350px] w-full\">\n              <ResponsiveContainer width=\"100%\" height=\"100%\">\n                <BarChart data={revenueData} barSize={20}>\n                  <CartesianGrid strokeDasharray=\"3 3\" vertical={false} stroke=\"hsl(var(--border) / 0.5)\" />\n                  <XAxis dataKey=\"name\" tick={{ fill: 'hsl(var(--muted-foreground))', fontSize: 12 }} tickLine={false} axisLine={{ stroke: 'hsl(var(--border))' }} />\n                  <YAxis tick={{ fill: 'hsl(var(--muted-foreground))', fontSize: 12 }} tickLine={false} axisLine={false} />\n                  <Tooltip\n                    cursor={{ fill: 'hsla(var(--muted))' }}\n                    contentStyle={{\n                      backgroundColor: 'hsl(var(--background))',\n                      borderColor: 'hsl(var(--border))',\n                      borderRadius: 'var(--radius)',\n                    }}\n                  />\n                  <Legend iconSize={10} wrapperStyle={{fontSize: '0.8rem'}}/>\n                  <Bar dataKey=\"Website Sales\" fill=\"hsl(var(--chart-3))\" radius={[4, 4, 0, 0]} />\n                  <Bar dataKey=\"E-Commerce\" fill=\"hsl(var(--chart-2))\" radius={[4, 4, 0, 0]} />\n                  <Bar dataKey=\"Lead Gen\" fill=\"hsl(var(--chart-1))\" radius={[4, 4, 0, 0]} />\n                </BarChart>\n              </ResponsiveContainer>\n            </div>\n          </CardContent>\n        </Card>\n    )\n}\n\n    ",
  "src/app/dashboard/digital-products/page.tsx": "\n'use client';\n\nimport { useState } from 'react';\nimport {\n  Bot,\n  Loader2,\n  CheckCircle,\n  FileText,\n  Video,\n  Lightbulb,\n  Sparkles,\n  BookOpen,\n  Send,\n  Twitter,\n  Linkedin,\n  Facebook,\n} from 'lucide-react';\nimport {\n  automatedDigitalProductFunnel,\n  type AutomatedDigitalProductFunnelOutput,\n} from '@/ai/flows/automated-digital-product-funnel';\nimport { useToast } from '@/hooks/use-toast';\nimport { Button } from '@/components/ui/button';\nimport {\n  Card,\n  CardContent,\n  CardDescription,\n  CardFooter,\n  CardHeader,\n  CardTitle,\n} from '@/components/ui/card';\nimport { Badge } from '@/components/ui/badge';\nimport { Separator } from '@/components/ui/separator';\n\nconst ProductTypeIcon = ({ type }: { type: string }) => {\n  switch (type) {\n    case 'eBook':\n      return <BookOpen className=\"h-5 w-5\" />;\n    case 'Notion Template':\n      return <FileText className=\"h-5 w-5\" />;\n    case 'Video Course':\n      return <Video className=\"h-5 w-5\" />;\n    default:\n      return <Lightbulb className=\"h-5 w-5\" />;\n  }\n};\n\nconst PlatformIcon = ({ platform }: { platform: string }) => {\n  switch (platform.toLowerCase()) {\n    case 'twitter': return <Twitter className=\"h-5 w-5 text-sky-500\" />;\n    case 'linkedin': return <Linkedin className=\"h-5 w-5 text-blue-700\" />;\n    case 'facebook': return <Facebook className=\"h-5 w-5 text-blue-800\" />;\n    default: return <Bot className=\"h-5 w-5\" />;\n  }\n};\n\nexport default function DigitalProductsPage() {\n  const [isLoading, setIsLoading] = useState(false);\n  const [funnelResponse, setFunnelResponse] =\n    useState<AutomatedDigitalProductFunnelOutput | null>(null);\n  const { toast } = useToast();\n\n  async function handleRunFunnel() {\n    setIsLoading(true);\n    setFunnelResponse(null);\n    toast({\n      title: 'Autonomous Funnel Activated',\n      description: 'The AI is analyzing trends, generating a product, and creating a marketing campaign...',\n    });\n    try {\n      const response = await automatedDigitalProductFunnel();\n      setFunnelResponse(response);\n      toast({\n        title: 'Funnel Complete!',\n        description: response.summary,\n      });\n    } catch (error) {\n      console.error('Automated funnel failed:', error);\n      toast({\n        variant: 'destructive',\n        title: 'Funnel Failed',\n        description: 'The autonomous funnel encountered an error.',\n      });\n    } finally {\n      setIsLoading(false);\n    }\n  }\n\n  return (\n    <div className=\"container mx-auto max-w-6xl space-y-8 py-8\">\n      <div className=\"text-center\">\n        <h1 className=\"font-headline text-3xl font-bold md:text-4xl\">\n          Automated Digital Product Funnel\n        </h1>\n        <p className=\"mt-2 text-lg text-muted-foreground\">\n          A fully autonomous channel to find, create, and market digital products.\n        </p>\n      </div>\n\n      <Card className=\"shadow-lg\">\n        <CardHeader>\n          <div className=\"flex items-center gap-4\">\n            <Bot className=\"h-6 w-6\" />\n            <CardTitle>Launch New Funnel</CardTitle>\n          </div>\n          <CardDescription>\n            Click the button to activate the AI. It will run a fully automated workflow: find a trending digital product idea, generate the product content, and create a multi-channel marketing campaign.\n          </CardDescription>\n        </CardHeader>\n        <CardFooter>\n          <Button onClick={handleRunFunnel} disabled={isLoading} size=\"lg\">\n            {isLoading ? (\n              <Loader2 className=\"mr-2 h-5 w-5 animate-spin\" />\n            ) : (\n              <Sparkles className=\"mr-2 h-5 w-5\" />\n            )}\n            {isLoading ? 'AI is Working...' : 'Activate Autonomous Funnel'}\n          </Button>\n        </CardFooter>\n      </Card>\n\n      {isLoading && !funnelResponse && (\n        <div className=\"flex flex-col items-center justify-center gap-4 py-20 text-muted-foreground\">\n          <Loader2 className=\"h-8 w-8 animate-spin\" />\n          <p>Analyzing trends, generating product, creating campaign...</p>\n        </div>\n      )}\n\n      {funnelResponse && (\n        <div className=\"space-y-8\">\n            <Card>\n                <CardHeader>\n                    <div className=\"flex items-center gap-3\">\n                        <CheckCircle className=\"h-6 w-6 text-green-500\" />\n                        <CardTitle>Funnel Complete: Product Generated</CardTitle>\n                    </div>\n                     <CardDescription>{funnelResponse.summary}</CardDescription>\n                </CardHeader>\n            </Card>\n\n            <div className=\"grid grid-cols-1 gap-8 lg:grid-cols-2\">\n                {/* Product Details */}\n                <Card className=\"flex flex-col\">\n                    <CardHeader>\n                        <div className=\"flex items-center gap-3\">\n                           <ProductTypeIcon type={funnelResponse.productIdea.productType} />\n                           <CardTitle>{funnelResponse.productIdea.productName}</CardTitle>\n                        </div>\n                        <CardDescription>Target Audience: {funnelResponse.productIdea.targetAudience}</CardDescription>\n                    </CardHeader>\n                    <CardContent className=\"flex-grow space-y-4\">\n                       <div>\n                           <h4 className=\"font-semibold text-sm\">Marketing Angle</h4>\n                           <p className=\"text-sm text-muted-foreground\">{funnelResponse.productIdea.marketingAngle}</p>\n                       </div>\n                       <Separator />\n                       <div>\n                           <h4 className=\"font-semibold text-sm\">Generated Content</h4>\n                            <p className=\"text-sm text-muted-foreground line-clamp-4 mt-1\">{funnelResponse.generatedContent.content}</p>\n                       </div>\n                    </CardContent>\n                    <CardFooter>\n                         <Button variant=\"outline\" className=\"w-full\"><FileText className=\"mr-2 h-4 w-4\"/> View Full Content</Button>\n                    </CardFooter>\n                </Card>\n\n                {/* Marketing Campaign */}\n                <div className=\"space-y-4\">\n                    <h3 className=\"font-headline text-xl font-bold\">Marketing Campaign</h3>\n                     {funnelResponse.marketingCampaign.posts.map((post, index) => (\n                        <Card key={index} className=\"bg-card/50\">\n                            <CardHeader className=\"flex flex-row items-center justify-between pb-2\">\n                                 <CardTitle className=\"text-base flex items-center gap-2\">\n                                    <PlatformIcon platform={post.platform} />\n                                    {post.platform}\n                                 </CardTitle>\n                            </CardHeader>\n                            <CardContent>\n                                <p className=\"text-sm whitespace-pre-wrap\">{post.content}</p>\n                                <div className=\"flex flex-wrap gap-1 mt-2\">\n                                    {post.hashtags.map(tag => <Badge key={tag} variant=\"secondary\" className=\"text-xs\">#{tag}</Badge>)}\n                                </div>\n                            </CardContent>\n                            <CardFooter>\n                                <Button className=\"w-full\"><Send className=\"mr-2 h-4 w-4\"/> Publish Post</Button>\n                            </CardFooter>\n                        </Card>\n                    ))}\n                </div>\n            </div>\n        </div>\n      )}\n    </div>\n  );\n}\n",
  "src/app/dashboard/inbox/components/mail-display.tsx": "\n\"use client\"\n\nimport { useEffect, useState } from \"react\"\nimport { format } from \"date-fns\"\nimport {\n  Archive,\n  ArchiveX,\n  Clock,\n  Forward,\n  MoreVertical,\n  Reply,\n  ReplyAll,\n  Trash2,\n} from \"lucide-react\"\n\nimport type { Mail } from \"@/app/dashboard/inbox/data\"\nimport {\n  classifyInboundReply,\n  type ClassifyInboundReplyOutput,\n} from \"@/ai/flows/classify-inbound-replies\"\nimport { Avatar, AvatarFallback, AvatarImage } from \"@/components/ui/avatar\"\nimport { Badge } from \"@/components/ui/badge\"\nimport { Button } from \"@/components/ui/button\"\nimport {\n  DropdownMenu,\n  DropdownMenuContent,\n  DropdownMenuItem,\n  DropdownMenuTrigger,\n} from \"@/components/ui/dropdown-menu\"\nimport { Label } from \"@/components/ui/label\"\nimport { Separator } from \"@/components/ui/separator\"\nimport { Skeleton } from \"@/components/ui/skeleton\"\nimport { Textarea } from \"@/components/ui/textarea\"\nimport { useToast } from \"@/hooks/use-toast\"\n\ninterface MailDisplayProps {\n  mail: Mail | null\n}\n\nexport function MailDisplay({ mail }: MailDisplayProps) {\n  const [aiAnalysis, setAiAnalysis] = useState<ClassifyInboundReplyOutput | null>(null)\n  const [isLoading, setIsLoading] = useState(false)\n  const { toast } = useToast()\n\n  useEffect(() => {\n    if (mail) {\n      const analyzeMail = async () => {\n        setIsLoading(true)\n        setAiAnalysis(null)\n        try {\n          const result = await classifyInboundReply({ emailBody: mail.text })\n          setAiAnalysis(result)\n        } catch (error) {\n          console.error(\"AI analysis failed:\", error)\n          toast({\n            variant: \"destructive\",\n            title: \"AI Analysis Failed\",\n            description: \"Could not analyze the email.\",\n          })\n        } finally {\n          setIsLoading(false)\n        }\n      }\n      analyzeMail()\n    }\n  }, [mail, toast])\n\n  return (\n    <div className=\"flex h-full flex-col\">\n      {mail ? (\n        <>\n          <div className=\"flex items-center p-2\">\n            <div className=\"flex items-center gap-2\">\n              <Button variant=\"ghost\" size=\"icon\" disabled={!mail}>\n                <Archive className=\"h-4 w-4\" />\n                <span className=\"sr-only\">Archive</span>\n              </Button>\n              <Button variant=\"ghost\" size=\"icon\" disabled={!mail}>\n                <ArchiveX className=\"h-4 w-4\" />\n                <span className=\"sr-only\">Move to junk</span>\n              </Button>\n              <Button variant=\"ghost\" size=\"icon\" disabled={!mail}>\n                <Trash2 className=\"h-4 w-4\" />\n                <span className=\"sr-only\">Move to trash</span>\n              </Button>\n            </div>\n            <div className=\"ml-auto flex items-center gap-2\">\n              <Button variant=\"ghost\" size=\"icon\" disabled={!mail}>\n                <Reply className=\"h-4 w-4\" />\n                <span className=\"sr-only\">Reply</span>\n              </Button>\n              <Button variant=\"ghost\" size=\"icon\" disabled={!mail}>\n                <ReplyAll className=\"h-4 w-4\" />\n                <span className=\"sr-only\">Reply all</span>\n              </Button>\n              <Button variant=\"ghost\" size=\"icon\" disabled={!mail}>\n                <Forward className=\"h-4 w-4\" />\n                <span className=\"sr-only\">Forward</span>\n              </Button>\n            </div>\n            <Separator orientation=\"vertical\" className=\"mx-2 h-6\" />\n            <DropdownMenu>\n              <DropdownMenuTrigger asChild>\n                <Button variant=\"ghost\" size=\"icon\" disabled={!mail}>\n                  <MoreVertical className=\"h-4 w-4\" />\n                  <span className=\"sr-only\">More</span>\n                </Button>\n              </DropdownMenuTrigger>\n              <DropdownMenuContent align=\"end\">\n                <DropdownMenuItem>Mark as unread</DropdownMenuItem>\n                <DropdownMenuItem>Star thread</DropdownMenuItem>\n                <DropdownMenuItem>Add label</DropdownMenuItem>\n                <DropdownMenuItem>Mute thread</DropdownMenuItem>\n              </DropdownMenuContent>\n            </DropdownMenu>\n          </div>\n          <Separator />\n          <div className=\"flex flex-1 flex-col\">\n            <div className=\"flex items-start p-4\">\n              <div className=\"flex items-start gap-4 text-sm\">\n                <Avatar>\n                  <AvatarImage alt={mail.name} />\n                  <AvatarFallback>\n                    {mail.name\n                      .split(\" \")\n                      .map((chunk) => chunk[0])\n                      .join(\"\")}\n                  </AvatarFallback>\n                </Avatar>\n                <div className=\"grid gap-1\">\n                  <div className=\"font-semibold\">{mail.name}</div>\n                  <div className=\"line-clamp-1 text-xs\">{mail.subject}</div>\n                  <div className=\"line-clamp-1 text-xs\">\n                    <span className=\"font-medium\">Reply-To:</span>{\" \"}\n                    <span className=\"text-muted-foreground\">{mail.email}</span>\n                  </div>\n                </div>\n              </div>\n              {mail.date && (\n                <div className=\"ml-auto text-xs text-muted-foreground\">\n                  {format(new Date(mail.date), \"PPpp\")}\n                </div>\n              )}\n            </div>\n            <Separator />\n            <div className=\"flex-1 whitespace-pre-wrap p-4 text-sm\">\n              {mail.text}\n            </div>\n            <Separator className=\"mt-auto\" />\n            <div className=\"p-4\">\n              <div className=\"grid gap-4\">\n                <div className=\"space-y-2\">\n                  <h3 className=\"font-semibold\">AI Analysis</h3>\n                  {isLoading ? (\n                    <div className=\"space-y-2\">\n                      <Skeleton className=\"h-8 w-1/4\" />\n                      <div className=\"flex gap-2\">\n                        <Skeleton className=\"h-6 w-20 rounded-full\" />\n                        <Skeleton className=\"h-6 w-24 rounded-full\" />\n                      </div>\n                    </div>\n                  ) : aiAnalysis ? (\n                    <div className=\"space-y-2\">\n                      <p className=\"text-sm\">\n                        <span className=\"font-medium\">Sentiment:</span>{\" \"}\n                        <span className=\"capitalize text-muted-foreground\">{aiAnalysis.sentiment}</span>\n                      </p>\n                      <p className=\"text-sm\">\n                        <span className=\"font-medium\">Category:</span>{\" \"}\n                        <span className=\"capitalize text-muted-foreground\">{aiAnalysis.category}</span>\n                      </p>\n                      <div className=\"flex items-center gap-2\">\n                        <span className=\"text-sm font-medium\">Tags:</span>\n                        {aiAnalysis.tags.map((tag) => (\n                          <Badge key={tag} variant=\"secondary\">\n                            {tag}\n                          </Badge>\n                        ))}\n                      </div>\n                    </div>\n                  ) : (\n                    <p className=\"text-sm text-muted-foreground\">No analysis available.</p>\n                  )}\n                </div>\n                <Textarea\n                  className=\"p-4\"\n                  placeholder={`Reply to ${mail.name}...`}\n                />\n                <div className=\"flex items-center\">\n                  <Label\n                    htmlFor=\"mute\"\n                    className=\"flex items-center gap-2 text-xs font-normal\"\n                  >\n                  </Label>\n                  <Button size=\"sm\" className=\"ml-auto\">\n                    Send\n                  </Button>\n                </div>\n              </div>\n            </div>\n          </div>\n        </>\n      ) : (\n        <div className=\"p-8 text-center text-muted-foreground\">\n          No message selected\n        </div>\n      )}\n    </div>\n  )\n}\n",
  "src/app/dashboard/inbox/components/mail-list.tsx": "import { formatDistanceToNow } from \"date-fns\"\nimport { cn } from \"@/lib/utils\"\nimport type { Mail } from \"@/app/dashboard/inbox/data\"\n\ninterface MailListProps {\n  items: Mail[]\n  selected: string | null\n  onSelect: (id: string) => void\n}\n\nexport function MailList({ items, selected, onSelect }: MailListProps) {\n  return (\n    <div className=\"flex flex-col gap-2 p-2\">\n      {items.map((item) => (\n        <button\n          key={item.id}\n          className={cn(\n            \"flex flex-col items-start gap-2 rounded-lg border p-3 text-left text-sm transition-all hover:bg-accent\",\n            selected === item.id && \"bg-accent\"\n          )}\n          onClick={() => onSelect(item.id)}\n        >\n          <div className=\"flex w-full flex-col gap-1\">\n            <div className=\"flex items-center\">\n              <div className=\"flex items-center gap-2\">\n                <div className=\"font-semibold\">{item.name}</div>\n                {!item.read && (\n                  <span className=\"flex h-2 w-2 rounded-full bg-primary\" />\n                )}\n              </div>\n              <div\n                className={cn(\n                  \"ml-auto text-xs\",\n                  selected === item.id\n                    ? \"text-foreground\"\n                    : \"text-muted-foreground\"\n                )}\n              >\n                {formatDistanceToNow(new Date(item.date), {\n                  addSuffix: true,\n                })}\n              </div>\n            </div>\n            <div className=\"text-xs font-medium\">{item.subject}</div>\n          </div>\n          <div className=\"line-clamp-2 text-xs text-muted-foreground\">\n            {item.text.substring(0, 300)}\n          </div>\n        </button>\n      ))}\n    </div>\n  )\n}\n",
  "src/app/dashboard/inbox/data.ts": "export type Mail = {\n  id: string\n  name: string\n  email: string\n  subject: string\n  text: string\n  date: string\n  read: boolean\n}\n\nexport const mails: Mail[] = [\n  {\n    id: \"6c84fb90-12c4-11e1-840d-7b25c5ee775a\",\n    name: \"William Smith\",\n    email: \"william.smith@example.com\",\n    subject: \"Re: Your Quote\",\n    text: \"Hi Omarim AI Team,\\n\\nThanks for the quote. It looks good. One question: does this include long-term support?\\n\\nBest,\\nWilliam\",\n    date: \"2023-10-22T10:00:00\",\n    read: true,\n  },\n  {\n    id: \"110e8400-e29b-11d4-a716-446655440000\",\n    name: \"Olivia Brown\",\n    email: \"olivia.brown@example.com\",\n    subject: \"Urgent: Issue with my account\",\n    text: \"I can't seem to log in to my dashboard. It keeps saying 'Invalid Credentials' but I'm sure I'm using the right password. Can you help me out? This is urgent as I need to process new leads.\\n\\nThanks,\\nOlivia\",\n    date: \"2023-10-22T09:30:00\",\n    read: false,\n  },\n  {\n    id: \"3a4b5c6d-7e8f-9a0b-1c2d-3e4f5a6b7c8d\",\n    name: \"James Johnson\",\n    email: \"james.johnson@example.com\",\n    subject: \"Feedback on the new feature\",\n    text: \"Hey team,\\n\\nJust wanted to say the new speech-to-text feature is amazing! It's saving me a ton of time. Great work!\\n\\nCheers,\\nJames\",\n    date: \"2023-10-21T15:45:00\",\n    read: false,\n  },\n  {\n    id: \"f4a9d3f0-b6e1-4a2b-8c7d-9e0f1a2b3c4d\",\n    name: \"Sophia Williams\",\n    email: \"sophia.williams@example.com\",\n    subject: \"Billing question\",\n    text: \"Hello,\\n\\nI was looking at my last invoice and I see a charge I don't recognize. Can someone from the billing department get in touch with me?\\n\\nThank you,\\nSophia\",\n    date: \"2023-10-21T11:20:00\",\n    read: true,\n  },\n  {\n    id: \"a1b2c3d4-e5f6-a7b8-c9d0-e1f2a3b4c5d6\",\n    name: \"Benjamin Miller\",\n    email: \"ben.miller@example.com\",\n    subject: \"Partnership opportunity\",\n    text: \"Good morning,\\n\\nMy name is Benjamin Miller and I work for a marketing agency. We're very impressed with your platform and see a lot of potential for a partnership. Are you open to a discussion?\\n\\nRegards,\\nBenjamin\",\n    date: \"2023-10-20T18:05:00\",\n    read: true,\n  },\n  {\n    id: \"e9e8f7a6-b5c4-d3e2-f1a0-9b8c7d6e5f4g\",\n    name: \"Ava Jones\",\n    email: \"ava.jones@example.com\",\n    subject: \"Suggestion for improvement\",\n    text: \"Hi there,\\n\\nI love using Omarim AI. One thing that I think could be improved is the dashboard loading speed. Sometimes it feels a bit sluggish. Just a thought!\\n\\nBest,\\nAva\",\n    date: \"2023-10-20T14:30:00\",\n    read: false,\n  },\n  {\n    id: \"1a2b3c4d-5e6f-7a8b-9c0d-1e2f3a4b5c6d\",\n    name: \"Noah Garcia\",\n    email: \"noah.g@example.com\",\n    subject: \"How do I integrate with WooCommerce?\",\n    text: \"Hello support,\\n\\nI'm trying to connect my WooCommerce store but I'm running into some issues. Can you provide a step-by-step guide or some documentation?\\n\\nThanks,\\nNoah\",\n    date: \"2023-10-19T09:00:00\",\n    read: true,\n  },\n]\n",
  "src/app/dashboard/inbox/page.tsx": "\"use client\"\n\nimport * as React from \"react\"\nimport { mails, type Mail } from \"@/app/dashboard/inbox/data\"\nimport { MailDisplay } from \"@/app/dashboard/inbox/components/mail-display\"\nimport { MailList } from \"@/app/dashboard/inbox/components/mail-list\"\nimport { ScrollArea } from \"@/components/ui/scroll-area\"\n\nexport default function InboxPage() {\n  const [selectedMailId, setSelectedMailId] = React.useState<string | null>(mails[0].id)\n\n  const selectedMail = mails.find((item) => item.id === selectedMailId) || null\n\n  return (\n    <div className=\"flex h-[calc(100vh-8rem)]\">\n      <div className=\"w-full md:w-1/3 lg:w-1/4 border-r\">\n        <ScrollArea className=\"h-full\">\n          <MailList \n            items={mails} \n            selected={selectedMailId}\n            onSelect={setSelectedMailId} \n          />\n        </ScrollArea>\n      </div>\n      <div className=\"hidden md:flex w-full md:w-2/3 lg:w-3/4\">\n        <MailDisplay mail={selectedMail} />\n      </div>\n    </div>\n  )\n}\n",
  "src/app/dashboard/layout.tsx": "\n\"use client\"\n\nimport Link from \"next/link\";\nimport { useRouter } from \"next/navigation\";\nimport { useEffect } from \"react\";\nimport { Avatar, AvatarFallback, AvatarImage } from \"@/components/ui/avatar\";\nimport { Button } from \"@/components/ui/button\";\nimport {\n  DropdownMenu,\n  DropdownMenuContent,\n  DropdownMenuItem,\n  DropdownMenuLabel,\n  DropdownMenuSeparator,\n  DropdownMenuTrigger,\n} from \"@/components/ui/dropdown-menu\";\nimport {\n  SidebarProvider,\n  Sidebar,\n  SidebarHeader,\n  SidebarContent,\n  SidebarFooter,\n} from \"@/components/ui/sidebar\";\nimport { Loader2 } from \"lucide-react\";\nimport { DashboardNav } from \"@/components/dashboard-nav\";\nimport { Icons } from \"@/components/icons\";\nimport { useAuth, useUser, useFirestore, useDoc, useMemoFirebase } from \"@/firebase\";\nimport { signOut } from \"firebase/auth\";\nimport { doc } from \"firebase/firestore\";\n\nconst Header = () => {\n    const { user } = useUser();\n    const firestore = useFirestore();\n\n    const userDocRef = useMemoFirebase(() => {\n        if (!user || !firestore) return null;\n        return doc(firestore, \"users\", user.uid);\n    }, [user, firestore]);\n\n    const { data: userData } = useDoc(userDocRef);\n    const auth = useAuth();\n    const handleLogout = () => { signOut(auth) };\n\n    const userInitial = userData?.firstName ? userData.firstName.charAt(0).toUpperCase() : (user?.email?.charAt(0).toUpperCase() || \"U\");\n    const userName = userData ? `${userData.firstName} ${userData.lastName}` : (user?.email || \"User\");\n\n    return (\n        <header className=\"flex h-16 shrink-0 items-center justify-between gap-4 border-b border-border bg-background/80 px-4 backdrop-blur-sm md:px-6\">\n            <div className=\"flex items-center gap-2\" />\n            <div className=\"flex items-center gap-4\">\n              <DropdownMenu>\n                <DropdownMenuTrigger asChild>\n                  <Button variant=\"ghost\" size=\"icon\" className=\"rounded-full\">\n                    <Avatar className=\"h-8 w-8\">\n                      <AvatarImage src={user?.photoURL || \"\"} alt={userName} />\n                      <AvatarFallback>{userInitial}</AvatarFallback>\n                    </Avatar>\n                    <span className=\"sr-only\">Toggle user menu</span>\n                  </Button>\n                </DropdownMenuTrigger>\n                <DropdownMenuContent align=\"end\">\n                  <DropdownMenuLabel>My Account</DropdownMenuLabel>\n                  <DropdownMenuSeparator />\n                  <DropdownMenuItem asChild>\n                    <Link href=\"/dashboard/settings\">Settings</Link>\n                  </DropdownMenuItem>\n                  <DropdownMenuItem>Support</DropdownMenuItem>\n                  <DropdownMenuSeparator />\n                  <DropdownMenuItem onClick={handleLogout}>\n                    Logout\n                  </DropdownMenuItem>\n                </DropdownMenuContent>\n              </DropdownMenu>\n            </div>\n        </header>\n    );\n};\n\n\nexport default function DashboardLayout({\n  children,\n}: {\n  children: React.ReactNode;\n}) {\n  const router = useRouter();\n  const { user, isUserLoading } = useUser();\n\n  useEffect(() => {\n    if (!isUserLoading && !user) {\n      router.replace(\"/login\");\n    }\n  }, [user, isUserLoading, router]);\n\n  if (isUserLoading) {\n    return (\n      <div className=\"flex h-screen w-screen items-center justify-center bg-background\">\n        <Loader2 className=\"h-8 w-8 animate-spin\" />\n      </div>\n    ); \n  }\n\n  if (!user) {\n    return null; // Don't render the dashboard if there's no user. The useEffect will redirect.\n  }\n\n  return (\n    <SidebarProvider>\n      <Sidebar side=\"left\" variant=\"sidebar\" collapsible=\"icon\">\n        <SidebarHeader className=\"h-16 flex items-center justify-center p-4\">\n          <Link href=\"/dashboard\" className=\"flex items-center gap-2\">\n            <Icons.logo className=\"size-7 text-sidebar-primary\" />\n            <span className=\"font-headline text-xl font-bold text-sidebar-foreground group-data-[collapsible=icon]:hidden\">\n              Omarim AI\n            </span>\n          </Link>\n        </SidebarHeader>\n        <SidebarContent>\n          <DashboardNav />\n        </SidebarContent>\n      </Sidebar>\n      <main className=\"flex-1 overflow-auto\">\n        <Header />\n        <div className=\"p-4 md:p-6\">\n          {children}\n        </div>\n      </main>\n    </SidebarProvider>\n  );\n}\n",
  "src/app/dashboard/leads/page.tsx": "\n\"use client\"\n\nimport { useUser, useFirestore, useCollection, updateDocumentNonBlocking, useMemoFirebase } from \"@/firebase\";\nimport { collection, doc } from \"firebase/firestore\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Button } from \"@/components/ui/button\";\nimport {\n  Card,\n  CardContent,\n  CardDescription,\n  CardHeader,\n  CardTitle,\n} from \"@/components/ui/card\";\nimport {\n  Table,\n  TableBody,\n  TableCell,\n  TableHead,\n  TableHeader,\n  TableRow,\n} from \"@/components/ui/table\";\nimport { Loader2, Mail } from \"lucide-react\";\nimport { useRouter } from \"next/navigation\";\nimport { useToast } from \"@/hooks/use-toast\";\n\nexport default function LeadsPage() {\n  const { user } = useUser();\n  const firestore = useFirestore();\n  const router = useRouter();\n  const { toast } = useToast();\n\n  const leadsCollectionRef = useMemoFirebase(() => {\n    if (!user || !firestore) return null;\n    return collection(firestore, `users/${user.uid}/leads`);\n  }, [firestore, user]);\n\n  const { data: leads, isLoading } = useCollection(leadsCollectionRef);\n\n  \n  const handleDraftEmail = (lead: any) => {\n    if (!user || !firestore || !lead.id) return;\n    \n    const leadDocRef = doc(firestore, `users/${user.uid}/leads`, lead.id);\n    updateDocumentNonBlocking(leadDocRef, { status: 'Contacted' });\n\n    toast({\n      title: \"Status Updated\",\n      description: `${lead.firstName} ${lead.lastName} has been marked as 'Contacted'. The Autonomous Agent is drafting an email.`,\n    });\n    \n    const objective = `Draft a personalized outreach email to ${lead.firstName} ${lead.lastName}, the CEO of ${lead.company}, about their need for a new AI-powered website.`;\n    router.push(`/dashboard/agent?objective=${encodeURIComponent(objective)}`);\n  };\n\n  return (\n    <div className=\"space-y-6\">\n      <div className=\"flex items-center justify-between\">\n        <div>\n          <h2 className=\"text-2xl font-headline font-semibold\">Lead Management</h2>\n          <p className=\"text-muted-foreground\">\n            Manage your leads and initiate outreach campaigns.\n          </p>\n        </div>\n      </div>\n\n      <Card>\n        <CardHeader>\n          <CardTitle>Your Leads</CardTitle>\n          <CardDescription>\n            A real-time list of your leads from your database.\n          </CardDescription>\n        </CardHeader>\n        <CardContent>\n          <Table>\n            <TableHeader>\n              <TableRow>\n                <TableHead>Name</TableHead>\n                <TableHead>Company</TableHead>\n                <TableHead>Email</TableHead>\n                <TableHead>Status</TableHead>\n                <TableHead className=\"text-right\">Actions</TableHead>\n              </TableRow>\n            </TableHeader>\n            <TableBody>\n              {isLoading && (\n                <TableRow>\n                  <TableCell colSpan={5} className=\"text-center py-10\">\n                    <Loader2 className=\"mx-auto h-6 w-6 animate-spin text-muted-foreground\" />\n                  </TableCell>\n                </TableRow>\n              )}\n              {!isLoading && leads && leads.map((lead) => (\n                <TableRow key={lead.id}>\n                  <TableCell className=\"font-medium\">{lead.firstName} {lead.lastName}</TableCell>\n                  <TableCell>{lead.company}</TableCell>\n                  <TableCell>{lead.email}</TableCell>\n                  <TableCell>\n                    <Badge variant={
                      lead.status === \"Interested\" ? \"default\" : \n                      lead.status === \"Contacted\" ? \"default\" : \n                      lead.status === \"Replied\" ? \"default\" : \n                      lead.status === \"New\" ? \"secondary\" : \n                      lead.status === \"Not Interested\" ? \"destructive\" : \"outline\"\n                    }\n                    className={\n                      lead.status === \"Interested\" ? 'bg-green-500 hover:bg-green-500/90' :\n                      lead.status === \"Contacted\" ? 'bg-blue-500 hover:bg-blue-500/90' :\n                      lead.status === \"Replied\" ? 'bg-yellow-500 hover:bg-yellow-500/90 text-black' : ''\n                    }\n                    >\n                      {lead.status}\n                    </Badge>\n                  </TableCell>\n                  <TableCell className=\"text-right\">\n                    <Button variant=\"ghost\" size=\"icon\" onClick={() => handleDraftEmail(lead)} disabled={lead.status === 'Contacted'}>\n                      <Mail className=\"h-4 w-4\" />\n                      <span className=\"sr-only\">Draft Email</span>\n                    </Button>\n                  </TableCell>\n                </TableRow>\n              ))}\n              {!isLoading && (!leads || leads.length === 0) && (\n                 <TableRow>\n                  <TableCell colSpan={5} className=\"text-center text-muted-foreground py-10\">\n                    You have no leads yet. Let the autonomous agent find some for you.\n                  </TableCell>\n                </TableRow>\n              )}\n            </TableBody>\n          </Table>\n        </CardContent>\n      </Card>\n    </div>\n  );\n}\n",
  "src/app/dashboard/new-site/page.tsx": "\"use client\";\n\nimport { useState } from \"react\";\nimport { useForm } from \"react-hook-form\";\nimport { zodResolver } from \"@hookform/resolvers/zod\";\nimport * as z from \"zod\";\nimport { Button } from \"@/components/ui/button\";\nimport {\n  Card,\n  CardContent,\n  CardDescription,\n  CardFooter,\n  CardHeader,\n  CardTitle,\n} from \"@/components/ui/card\";\nimport {\n  Form,\n  FormControl,\n  FormField,\n  FormItem,\n  FormLabel,\n  FormMessage,\n} from \"@/components/ui/form\";\nimport { Input } from \"@/components/ui/input\";\nimport { RadioGroup, RadioGroupItem } from \"@/components/ui/radio-group\";\nimport { Loader2 } from \"lucide-react\";\nimport { Label } from \"@/components/ui/label\";\n\nconst formSchema = z.object({\n  domain: z.string().min(3, {\n    message: \"Domain must be at least 3 characters.\",\n  }).regex(/^[a-zA-Z0-9-]+\\.[a-zA-Z]{2,}$/, {\n    message: \"Please enter a valid domain name.\",\n  }),\n});\n\nexport default function NewSitePage() {\n  const [isLoading, setIsLoading] = useState(false);\n  const [isSubmitted, setIsSubmitted] = useState(false);\n  const [domainChecked, setDomainChecked] = useState(\"\");\n\n  const form = useForm<z.infer<typeof formSchema>>({\n    resolver: zodResolver(formSchema),\n    defaultValues: {\n      domain: \"\",\n    },\n  });\n\n  function onSubmit(values: z.infer<typeof formSchema>) {\n    setIsLoading(true);\n    setIsSubmitted(false);\n    setDomainChecked(values.domain);\n    setTimeout(() => {\n      setIsLoading(false);\n      setIsSubmitted(true);\n    }, 1500);\n  }\n\n  return (\n    <div className=\"space-y-6\">\n      <div>\n        <h2 className=\"text-2xl font-headline font-semibold\">New Site Intake</h2>\n        <p className=\"text-muted-foreground\">\n          Start by checking for your desired domain name.\n        </p>\n      </div>\n\n      <div className=\"grid grid-cols-1 gap-8 md:grid-cols-2\">\n        <Card>\n          <CardHeader>\n            <CardTitle>Domain Check</CardTitle>\n            <CardDescription>\n              Enter a domain to see if it&apos;s available.\n            </CardDescription>\n          </CardHeader>\n          <Form {...form}>\n            <form onSubmit={form.handleSubmit(onSubmit)}>\n              <CardContent>\n                <FormField\n                  control={form.control}\n                  name=\"domain\"\n                  render={({ field }) => (\n                    <FormItem>\n                      <FormLabel>Domain Name</FormLabel>\n                      <FormControl>\n                        <Input placeholder=\"example.com\" {...field} />\n                      </FormControl>\n                      <FormMessage />\n                    </FormItem>\n                  )}\n                />\n              </CardContent>\n              <CardFooter>\n                <Button type=\"submit\" disabled={isLoading}>\n                  {isLoading && <Loader2 className=\"mr-2 h-4 w-4 animate-spin\" />}\n                  Check Availability\n                </Button>\n              </CardFooter>\n            </form>\n          </Form>\n        </Card>\n\n        {isSubmitted && (\n          <Card>\n            <CardHeader>\n              <CardTitle>Provisioning Options</CardTitle>\n              <CardDescription>\n                The domain <span className=\"font-semibold text-primary\">{domainChecked}</span> is available! Choose a plan to continue.\n              </CardDescription>\n            </CardHeader>\n            <CardContent>\n              <RadioGroup defaultValue=\"standard\" className=\"grid gap-4\">\n                <Label\n                  htmlFor=\"standard\"\n                  className=\"flex cursor-pointer items-center space-x-2 rounded-md border p-4 hover:bg-accent has-[[data-state=checked]]:border-primary\"\n                >\n                  <RadioGroupItem value=\"standard\" id=\"standard\" />\n                  <div>\n                    <p className=\"font-semibold\">Standard Site</p>\n                    <p className=\"text-sm text-muted-foreground\">$99/month - Includes hosting, basic SEO, and 5 pages.</p>\n                  </div>\n                </Label>\n                <Label\n                  htmlFor=\"ecommerce\"\n                  className=\"flex cursor-pointer items-center space-x-2 rounded-md border p-4 hover:bg-accent has-[[data-state=checked]]:border-primary\"\n                >\n                  <RadioGroupItem value=\"ecommerce\" id=\"ecommerce\" />\n                  <div>\n                    <p className=\"font-semibold\">E-commerce Store</p>\n                    <p className=\"text-sm text-muted-foreground\">$249/month - Includes everything in Standard + online store setup.</p>\n                  </div>\n                </Label>\n                <Label\n                  htmlFor=\"enterprise\"\n                  className=\"flex cursor-pointer items-center space-x-2 rounded-md border p-4 hover:bg-accent has-[[data-state=checked]]:border-primary\"\n                >\n                  <RadioGroupItem value=\"enterprise\" id=\"enterprise\" />\n                   <div>\n                    <p className=\"font-semibold\">Enterprise Solution</p>\n                    <p className=\"text-sm text-muted-foreground\">Contact Us - Custom solution with dedicated support.</p>\n                  </div>\n                </Label>\n              </RadioGroup>\n            </CardContent>\n            <CardFooter>\n                <Button>\n                    Proceed to Payment\n                </Button>\n            </CardFooter>\n          </Card>\n        )}\n      </div>\n    </div>\n  );\n}\n",
  "src/app/dashboard/outreach/page.tsx": "\n\"use client\";\n\nimport { useState } from \"react\";\nimport { useForm } from \"react-hook-form\";\nimport { zodResolver } from \"@hookform/resolvers/zod\";\nimport * as z from \"zod\";\nimport { useUser, useFirestore, useCollection, addDocumentNonBlocking, useMemoFirebase } from \"@/firebase\";\nimport { collection } from \"firebase/firestore\";\n\nimport { Button } from \"@/components/ui/button\";\nimport {\n  Card,\n  CardContent,\n  CardDescription,\n  CardFooter,\n  CardHeader,\n  CardTitle,\n} from \"@/components/ui/card\";\nimport { Progress } from \"@/components/ui/progress\";\nimport { Loader2, PlusCircle } from \"lucide-react\";\nimport {\n  Dialog,\n  DialogContent,\n  DialogDescription,\n  DialogFooter,\n  DialogHeader,\n  DialogTitle,\n  DialogTrigger,\n} from \"@/components/ui/dialog\"\nimport {\n  Form,\n  FormControl,\n  FormField,\n  FormItem,\n  FormLabel,\n  FormMessage,\n} from \"@/components/ui/form\"\nimport { Input } from \"@/components/ui/input\";\nimport { Textarea } from \"@/components/ui/textarea\";\nimport { useToast } from \"@/hooks/use-toast\";\n\nconst sequenceFormSchema = z.object({\n  name: z.string().min(5, { message: \"Sequence name must be at least 5 characters.\" }),\n  description: z.string().optional(),\n});\n\nexport default function OutreachPage() {\n  const [isDialogOpen, setIsDialogOpen] = useState(false);\n  const { user } = useUser();\n  const firestore = useFirestore();\n  const { toast } = useToast();\n\n  const sequencesCollectionRef = useMemoFirebase(() => {\n    if (!user || !firestore) return null;\n    return collection(firestore, `users/${user.uid}/outreachSequences`);\n  }, [firestore, user]);\n\n  const { data: sequences, isLoading } = useCollection(sequencesCollectionRef);\n\n  const sequenceForm = useForm<z.infer<typeof sequenceFormSchema>>({\n    resolver: zodResolver(sequenceFormSchema),\n    defaultValues: {\n      name: \"\",\n      description: \"\",\n    },\n  });\n\n  function onSequenceSubmit(values: z.infer<typeof sequenceFormSchema>) {\n    if (!sequencesCollectionRef) return;\n    \n    const newSequence = {\n      name: values.name,\n      description: values.description || \"\",\n      recipients: 0,\n      openRate: 0,\n      replyRate: 0,\n      status: \"Draft\",\n      leadIds: [],\n    };\n\n    addDocumentNonBlocking(sequencesCollectionRef, newSequence);\n    toast({\n      title: \"Sequence Created\",\n      description: `The \"${values.name}\" sequence has been created as a draft.`,\n    });\n    sequenceForm.reset();\n    setIsDialogOpen(false);\n  }\n\n  return (\n    <div className=\"space-y-6\">\n      <div className=\"flex items-center justify-between\">\n        <div>\n          <h2 className=\"text-2xl font-headline font-semibold\">Outreach Sequences</h2>\n          <p className=\"text-muted-foreground\">\n            Create and manage your automated email campaigns.\n          </p>\n        </div>\n        <Dialog open={isDialogOpen} onOpenChange={setIsDialogOpen}>\n          <DialogTrigger asChild>\n            <Button>\n              <PlusCircle className=\"mr-2 h-4 w-4\" />\n              New Sequence\n            </Button>\n          </DialogTrigger>\n          <DialogContent className=\"sm:max-w-[425px]\">\n            <DialogHeader>\n              <DialogTitle>New Outreach Sequence</DialogTitle>\n              <DialogDescription>\n                Configure a new automated email campaign.\n              </DialogDescription>\n            </DialogHeader>\n            <Form {...sequenceForm}>\n              <form onSubmit={sequenceForm.handleSubmit(onSequenceSubmit)} className=\"space-y-4\">\n                <FormField\n                  control={sequenceForm.control}\n                  name=\"name\"\n                  render={({ field }) => (\n                    <FormItem>\n                      <FormLabel>Sequence Name</FormLabel>\n                      <FormControl>\n                        <Input placeholder=\"e.g., New Lead Welcome\" {...field} />\n                      </FormControl>\n                      <FormMessage />\n                    </FormItem>\n                  )}\n                />\n                <FormField\n                  control={sequenceForm.control}\n                  name=\"description\"\n                  render={({ field }) => (\n                    <FormItem>\n                      <FormLabel>Description</FormLabel>\n                      <FormControl>\n                        <Textarea placeholder=\"What is this sequence for?\" {...field} />\n                      </FormControl>\n                      <FormMessage />\n                    </FormItem>\n                  )}\n                />\n                <DialogFooter>\n                  <Button type=\"submit\">Create Sequence</Button>\n                </DialogFooter>\n              </form>\n            </Form>\n          </DialogContent>\n        </Dialog>\n      </div>\n\n      {isLoading && <Loader2 className=\"mx-auto h-8 w-8 animate-spin text-muted-foreground\" />}\n\n      {!isLoading && (!sequences || sequences.length === 0) && (\n        <Card className=\"flex items-center justify-center py-20\">\n          <div className=\"text-center\">\n            <h3 className=\"text-lg font-semibold\">No sequences yet</h3>\n            <p className=\"text-muted-foreground\">Create your first outreach sequence to get started.</p>\n          </div>\n        </Card>\n      )}\n\n      <div className=\"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3\">\n        {!isLoading && sequences && sequences.map((sequence) => (\n          <Card key={sequence.id} className=\"flex flex-col\">\n            <CardHeader>\n              <CardTitle>{sequence.name}</CardTitle>\n              <CardDescription>{(sequence.recipients || 0).toLocaleString()} recipients</CardDescription>\n            </CardHeader>\n            <CardContent className=\"flex-grow space-y-4\">\n              <div>\n                <div className=\"mb-1 flex justify-between text-sm\">\n                  <span>Open Rate</span>\n                  <span className=\"font-medium\">{sequence.openRate || 0}%</span>\n                </div>\n                <Progress value={sequence.openRate || 0} />\n              </div>\n              <div>\n                <div className=\"mb-1 flex justify-between text-sm\">\n                  <span>Reply Rate</span>\n                  <span className=\"font-medium\">{sequence.replyRate || 0}%</span>\n                </div>\n                <Progress value={sequence.replyRate || 0} />\n              </div>\n            </CardContent>\n            <CardFooter className=\"flex justify-between\">\n              <span className={`text-sm font-medium ${\n                sequence.status === 'Active' ? 'text-green-500' :\n                sequence.status === 'Paused' ? 'text-yellow-500' : 'text-muted-foreground'\n              }`}>\n                {sequence.status}\n              </span>\n              <Button variant=\"secondary\">View Details</Button>\n            </CardFooter>\n          </Card>\n        ))}\n      </div>\n    </div>\n  );\n}\n",
  "src/app/dashboard/page.tsx": "\n'use client';\n\nimport { useUser, useFirestore, useCollection, useMemoFirebase } from '@/firebase';\nimport { collection } from 'firebase/firestore';\nimport {\n  Card,\n  CardContent,\n  CardDescription,\n  CardHeader,\n  CardTitle,\n  CardFooter,\n} from '@/components/ui/card';\nimport { Button } from '@/components/ui/button';\nimport { Loader2, Users, ShoppingBag, Send, Activity, ShieldCheck, Cpu, Bot, ChevronRight, FolderKanban, Building2, Mic, PlusCircle, DollarSign, List, CheckCircle, TrendingUp, UserCheck, Sparkles, Mail, Twitter, Linkedin, Facebook, Video, ImageIcon, X, Zap } from 'lucide-react';\nimport { useRouter } from 'next/navigation';\nimport { useMemo, useState, useEffect } from 'react';\nimport { Progress } from \"@/components/ui/progress\";\nimport {\n  Table,\n  TableBody,\n  TableCell,\n  TableHead,\n  TableHeader,\n  TableRow,\n} from \"@/components/ui/table\";\nimport { Badge } from '@/components/ui/badge';\nimport { Avatar, AvatarFallback } from '@/components/ui/avatar';\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from \"@/components/ui/tabs\";\nimport { Separator } from '@/components/ui/separator';\nimport { cn } from '@/lib/utils';\nimport { useToast } from \"@/hooks/use-toast\";\nimport { findTrendingProducts, generateProductCampaign } from '@/app/actions';\nimport type { GenerateProductCampaignInput, GenerateProductCampaignOutput } from \"@/app/schemas\";\nimport { addDocumentNonBlocking } from \"@/firebase/non-blocking-updates\";\nimport Image from 'next/image';\nimport dynamic from 'next/dynamic';\nimport { Dialog, DialogContent, DialogDescription, DialogHeader, DialogTitle, DialogTrigger, DialogFooter } from '@/components/ui/dialog';\nimport {\n  Form,\n  FormControl,\n  FormField,\n  FormItem,\n  FormLabel,\n  FormMessage,\n} from \"@/components/ui/form\";\nimport { useForm } from \"react-hook-form\";\nimport { zodResolver } from \"@hookform/resolvers/zod\";\nimport * as z from \"zod\";\nimport { Input } from '@/components/ui/input';\nimport { Label } from '@/components/ui/label';\n\nconst RevenueOverview = dynamic(() => import('./components/revenue-overview').then(mod => mod.RevenueOverview), { ssr: false, loading: () => <Card className=\"flex items-center justify-center h-[468px]\"><Loader2 className=\"h-8 w-8 animate-spin\"/></Card> });\nconst LeadIntelligenceChart = dynamic(() => import('./components/lead-intelligence-chart').then(mod => mod.LeadIntelligenceChart), { ssr: false, loading: () => <div className=\"h-full w-full flex items-center justify-center\"><Loader2 className=\"h-8 w-8 animate-spin\"/></div> });\n\n\nconst recentSales = [\n    { id: 1, customer: \"Olivia Martin\", email: \"olivia.martin@email.com\", amount: \"$42.50\", product: \"Smart Watch\", source: \"Shopify\" },\n    { id: 2, customer: \"Jackson Lee\", email: \"jackson.lee@email.com\", amount: \"$199.99\", product: \"Wireless Headphones\", source: \"WooCommerce\" },\n    { id: 3, customer: \"Isabella Nguyen\", email: \"isabella.nguyen@email.com\", amount: \"$275.00\", product: \"VR Headset\", source: \"Shopify\" },\n    { id: 4, customer: \"Liam Smith\", email: \"liam.smith@email.com\", amount: \"$89.90\", product: \"Ergonomic Chair\", source: \"Amazon\" },\n    { id: 5, customer: \"Sophia Johnson\", email: \"sophia.johnson@email.com\", amount: \"$999.00\", product: \"Laptop\", source: \"WooCommerce\" },\n];\n\nconst sourceColors: { [key: string]: string } = {\n  Shopify: \"border-transparent bg-green-500/20 text-green-700\",\n  WooCommerce: \"border-transparent bg-purple-500/20 text-purple-700\",\n  Amazon: \"border-transparent bg-orange-500/20 text-orange-700\",\n};\n\n\nconst recentActivities = [\n    { id: 1, icon: List, description: \"AI Agent added 5 new leads from 'Local Businesses' campaign.\", time: \"2m ago\", color: \"text-blue-400\" },\n    { id: 2, icon: Send, description: \"Outreach email sent to 'alex.morgan@innovate.com'.\", time: \"15m ago\", color: \"text-yellow-400\" },\n    { id: 3, icon: DollarSign, description: \"New sale of $199.99 from WooCommerce store.\", time: \"1h ago\", color: \"text-green-400\" },\n    { id: 4, icon: Users, description: \"Lead 'John Doe' status changed to 'Interested'.\", time: \"3h ago\", color: \"text-teal-400\" },\n    { id: 5, icon: Building2, description: \"Successfully connected new Shopify store 'My Awesome Store'.\", time: \"1d ago\", color: \"text-pink-400\" },\n];\n\nconst quickActionSchema = z.object({\n  command: z.string().min(1, { message: \"Command cannot be empty.\" }),\n});\n\n\nexport default function DashboardPage() {\n  const { user } = useUser();\n  const firestore = useFirestore();\n  const router = useRouter();\n  const { toast } = useToast();\n  const [isActionDialogOpen, setIsActionDialogOpen] = useState(false);\n\n  const [trendingProduct, setTrendingProduct] = useState<GenerateProductCampaignInput | null>(null);\n  const [campaignAssets, setCampaignAssets] = useState<GenerateProductCampaignOutput | null>(null);\n  const [isCampaignLoading, setIsCampaignLoading] = useState(false);\n  const [isFindingProduct, setIsFindingProduct] = useState(false);\n  const [isClient, setIsClient] = useState(false);\n\n  const actionForm = useForm<z.infer<typeof quickActionSchema>>({\n    resolver: zodResolver(quickActionSchema),\n    defaultValues: { command: \"\" },\n  });\n\n  useEffect(() => {\n    setIsClient(true);\n    getTrendingProduct();\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  async function getTrendingProduct() {\n    setIsFindingProduct(true);\n    setCampaignAssets(null); // Clear previous campaign assets\n    setTrendingProduct(null); // Clear previous product\n    try {\n      const result = await findTrendingProducts(\"home office tech\");\n      setTrendingProduct(result);\n    } catch (error) {\n      console.error(\"Failed to find trending products:\", error);\n    } finally {\n      setIsFindingProduct(false);\n    }\n  }\n\n\n  const productsCollectionRef = useMemoFirebase(() => {\n    if (!user || !firestore) return null;\n    return collection(firestore, `users/${user.uid}/products`);\n  }, [firestore, user]);\n\n  async function handleApproveAndLaunch() {\n    if (!trendingProduct || !productsCollectionRef) return;\n\n    setIsCampaignLoading(true);\n    setCampaignAssets(null);\n    setTrendingProduct(null); // This will hide the proposal box\n    toast({ title: \"Approval Received\", description: \"AI is now generating campaign assets. This may take a moment...\" });\n    \n    try {\n      const campaignResult = await generateProductCampaign(trendingProduct);\n      setCampaignAssets(campaignResult);\n\n      const newProduct = {\n        name: trendingProduct.productName,\n        description: trendingProduct.description,\n        price: trendingProduct.estimatedSalePrice,\n        quantity: 100, \n        imageId: \"product\" + (Math.floor(Math.random() * 8) + 1),\n        source: \"AI Sourced\",\n      };\n      addDocumentNonBlocking(productsCollectionRef, newProduct);\n      \n      toast({\n        title: \"Campaign Launched!\",\n        description: `${trendingProduct.productName} has been added to your products and marketing assets have been generated.`,\n      });\n\n    } catch (error) {\n       console.error(\"Failed to launch campaign:\", error);\n       toast({\n        variant: \"destructive\",\n        title: \"Campaign Launch Failed\",\n        description: \"There was an error generating the marketing assets.\",\n      });\n    } finally {\n        setIsCampaignLoading(false);\n    }\n  }\n\n  function handleReject() {\n    setTrendingProduct(null);\n    toast({\n        title: \"Proposal Rejected\",\n        description: \"The AI will look for another product opportunity.\",\n    });\n    // Immediately fetch a new product\n    getTrendingProduct();\n  }\n\n  function onActionSubmit(values: z.infer<typeof quickActionSchema>) {\n    const encodedCommand = encodeURIComponent(values.command);\n    setIsActionDialogOpen(false);\n    actionForm.reset();\n    router.push(`/dashboard/chat?command=${encodedCommand}`);\n  }\n\n\n  const leadsCollectionRef = useMemoFirebase(() => {\n    if (!user || !firestore) return null;\n    return collection(firestore, `users/${user.uid}/leads`);\n  }, [firestore, user]);\n\n  const sequencesCollectionRef = useMemoFirebase(() => {\n    if (!user || !firestore) return null;\n    return collection(firestore, `users/${user.uid}/outreachSequences`);\n  }, [firestore, user]);\n\n  const { data: leads, isLoading: isLoadingLeads } = useCollection(leadsCollectionRef);\n  const { data: products, isLoading: isLoadingProducts } = useCollection(productsCollectionRef);\n  const { data: sequences, isLoading: isLoadingSequences } = useCollection(sequencesCollectionRef);\n\n  const isLoading = isLoadingLeads || isLoadingProducts || isLoadingSequences;\n\n  const kpiData = [\n    { title: 'Total Leads', value: leads?.length ?? 0, icon: Users, change: \"+45 today\" },\n    { title: 'Synced Products', value: products?.length ?? 0, icon: ShoppingBag, change: \"+12 this week\" },\n    { title: 'Outreach Sequences', value: sequences?.length ?? 0, icon: Send, change: \"+3\" },\n    { title: 'Active Campaigns', value: sequences?.filter(s => s.status === 'Active').length ?? 0, icon: Activity, change: \"+1\" },\n  ];\n\n  const controlCenterStatus = [\n      { name: \"AI Agent\", status: \"Operational\", icon: Bot, progress: 100 },\n      { name: \"Data Sync\", status: \"Operational\", icon: Cpu, progress: 100 },\n      { name: \"Voice Interface\", status: \"Operational\", icon: Mic, progress: 100 },\n      { name: \"Security\", status: \"Enabled\", icon: ShieldCheck, progress: 100 },\n  ];\n\n  const PlatformIcon = ({ platform }: { platform: string }) => {\n    switch (platform.toLowerCase()) {\n      case 'twitter': return <Twitter className=\"h-5 w-5 text-sky-500\" />;\n      case 'linkedin': return <Linkedin className=\"h-5 w-5 text-blue-700\" />;\n      case 'facebook': return <Facebook className=\"h-5 w-5 text-blue-800\" />;\n      default: return <Bot className=\"h-5 w-5\" />;\n    }\n  };\n\n\n  if (isLoading) {\n    return (\n      <div className=\"flex h-full w-full items-center justify-center\">\n        <Loader2 className=\"h-10 w-10 animate-spin text-primary\" />\n      </div>\n    );\n  }\n\n  return (\n    <>\n    <div className=\"space-y-6\">\n      {(isFindingProduct || trendingProduct) && isClient && (\n        <audio src=\"/audio/blip.mp3\" autoPlay onLoadedData={() => {}} onError={() => {}} />\n      )}\n      <div>\n        <h1 className=\"font-headline tracking-tight\">\n            <span className=\"text-3xl font-bold\">Omarim AI</span>\n            <span className=\"text-xl font-semibold text-muted-foreground\"> Intelligent Warehouse</span>\n        </h1>\n        <p className=\"text-sm text-muted-foreground\">Unified multi-business automation platform - Website Factory, E-Commerce Engine & Lead Intelligence in one place.</p>\n      </div>\n\n      <div className=\"grid grid-cols-1 gap-6 lg:grid-cols-3\">\n        {/* Main Content Column */}\n        <div className=\"lg:col-span-2 space-y-6\">\n           {/* KPI Cards */}\n          <div className=\"grid gap-6 md:grid-cols-2 lg:grid-cols-4\">\n            {kpiData.map((kpi, index) => (\n              <Card key={index} className=\"transition-all hover:shadow-lg hover:shadow-primary/10 hover:-translate-y-1\">\n                <CardHeader className=\"flex flex-row items-center justify-between space-y-0 pb-2\">\n                  <CardTitle className=\"text-sm font-medium\">{kpi.title}</CardTitle>\n                  <kpi.icon className=\"h-5 w-5 text-muted-foreground\" />\n                </CardHeader>\n                <CardContent>\n                  <div className=\"text-4xl font-bold\">{kpi.value}</div>\n                  <p className=\"text-xs text-muted-foreground\">\n                    {kpi.change}\n                  </p>\n                </CardContent>\n              </Card>\n            ))}\n          </div>\n\n          <RevenueOverview />\n\n           {/* AI Approval Request or Generated Assets */}\n          {isCampaignLoading && (\n              <Card className=\"flex items-center justify-center p-12\">\n                  <Loader2 className=\"h-8 w-8 animate-spin\" />\n                  <p className=\"ml-4 text-muted-foreground\">Generating campaign assets...</p>\n              </Card>\n          )}\n\n          {campaignAssets && (\n            <Card>\n                <CardHeader>\n                    <CardTitle>Generated Campaign Assets</CardTitle>\n                    <CardDescription>The AI has generated the following assets to market your new product.</CardDescription>\n                </CardHeader>\n                <CardContent className=\"grid grid-cols-1 lg:grid-cols-3 gap-6\">\n                    <div className=\"lg:col-span-2 space-y-4\">\n                        <h3 className=\"font-semibold text-lg\">Social Media Posts</h3>\n                        {campaignAssets.socialPosts.map(post => (\n                            <Card key={post.platform} className=\"bg-card/50\">\n                                <CardHeader className=\"flex flex-row items-center justify-between pb-2\">\n                                    <CardTitle className=\"text-base flex items-center gap-2\">\n                                        <PlatformIcon platform={post.platform} />\n                                        {post.platform}\n                                    </CardTitle>\n                                    <Button variant=\"secondary\" size=\"sm\">Schedule</Button>\n                                </CardHeader>\n                                <CardContent>\n                                    <p className=\"text-sm whitespace-pre-wrap\">{post.content}</p>\n                                    <div className=\"flex flex-wrap gap-1 mt-2\">\n                                        {post.hashtags.map(tag => <Badge key={tag} variant=\"outline\" className=\"text-xs\">#{tag}</Badge>)}\n                                    </div>\n                                </CardContent>\n                            </Card>\n                        ))}\n                    </div>\n                    <div className=\"space-y-6\">\n                        <div>\n                            <h3 className=\"font-semibold text-lg mb-2 flex items-center gap-2\"><ImageIcon className=\"h-5 w-5 text-primary\" /> Marketing Image</h3>\n                            <div className=\"relative aspect-square w-full rounded-lg overflow-hidden border\">\n                              <Image src={campaignAssets.marketingImage.imageUrl} alt={campaignAssets.marketingImage.prompt} fill className=\"object-cover\" />\n                            </div>\n                            <p className=\"text-xs text-muted-foreground mt-2 italic\">Prompt: {campaignAssets.marketingImage.prompt}</p>\n                        </div>\n                        <div>\n                            <h3 className=\"font-semibold text-lg mb-2 flex items-center gap-2\"><Video className=\"h-5 w-5 text-primary\" /> Video Concept</h3>\n                            <Card className=\"bg-card/50\">\n                                <CardHeader className=\"pb-2\">\n                                    <CardTitle className=\"text-base\">{campaignAssets.videoConcept.title}</CardTitle>\n                                </CardHeader>\n                                <CardContent>\n                                    <p className=\"text-sm text-muted-foreground\">{campaignAssets.videoConcept.sceneDescription}</p>\n                                </CardContent>\n                            </Card>\n                        </div>\n                    </div>\n                </CardContent>\n            </Card>\n          )}\n\n           <Card>\n            <CardHeader>\n                <CardTitle>Recent E-commerce Activity</CardTitle>\n                <CardDescription>An overview of your latest sales and AI-driven actions.</CardDescription>\n            </CardHeader>\n            <CardContent>\n                <Tabs defaultValue=\"sales\">\n                    <TabsList className=\"grid w-full grid-cols-2\">\n                        <TabsTrigger value=\"sales\">Recent Sales</TabsTrigger>\n                        <TabsTrigger value=\"activity\">Recent Activity</TabsTrigger>\n                    </TabsList>\n                    <TabsContent value=\"sales\" className=\"pt-4\">\n                        <Table>\n                            <TableHeader>\n                                <TableRow>\n                                    <TableHead>Customer</TableHead>\n                                    <TableHead>Source</TableHead>\n                                    <TableHead className=\"text-right\">Amount</TableHead>\n                                </TableRow>\n                            </TableHeader>\n                            <TableBody>\n                                {recentSales.map((sale) => (\n                                    <TableRow key={sale.id}>\n                                        <TableCell>\n                                            <div className=\"font-medium\">{sale.customer}</div>\n                                            <div className=\"text-sm text-muted-foreground\">{sale.email}</div>\n                                        </TableCell>\n                                        <TableCell>\n                                            <Badge variant=\"outline\" className={cn(\"text-xs\", sourceColors[sale.source] || \"\")}>\n                                                {sale.source}\n                                            </Badge>\n                                        </TableCell>\n                                        <TableCell className=\"text-right\">{sale.amount}</TableCell>\n                                    </TableRow>\n                                ))}\n                            </TableBody>\n                        </Table>\n                    </TabsContent>\n                     <TabsContent value=\"activity\">\n                        <div className=\"space-y-4 pt-4\">\n                            {recentActivities.map((activity) => (\n                                <div key={activity.id} className=\"flex items-center gap-4\">\n                                    <Avatar className=\"h-9 w-9\">\n                                        <div className={cn(\"flex h-full w-full items-center justify-center rounded-full bg-muted\", activity.color)}>\n                                            <activity.icon className=\"h-5 w-5 text-background\" />\n                                        </div>\n                                    </Avatar>\n                                    <div className=\"flex-1\">\n                                        <p className=\"text-sm\">{activity.description}</p>\n                                        <p className=\"text-xs text-muted-foreground\">{activity.time}</p>\n                                    </div>\n                                </div>\n                            ))}\n                        </div>\n                    </TabsContent>\n                </Tabs>\n            </CardContent>\n        </Card>\n        </div>\n\n        {/* Right Sidebar Column */}\n        <div className=\"lg:col-span-1 space-y-6\">\n          <Card>\n            <CardHeader>\n                <CardTitle>Control Center</CardTitle>\n                <CardDescription>Real-time system monitoring.</CardDescription>\n            </CardHeader>\n            <CardContent className=\"space-y-4\">\n                <div className=\"flex items-center gap-2 text-sm\">\n                    <ShieldCheck className=\"h-4 w-4 text-green-400\" />\n                    <span className=\"text-green-400 font-medium\">All Systems Operational</span>\n                </div>\n                {controlCenterStatus.map((system, index) => (\n                    <div key={index}>\n                        <div className=\"flex justify-between items-center mb-1\">\n                            <span className=\"text-sm font-medium text-muted-foreground\">{system.name}</span>\n                            <span className=\"text-sm font-bold\">{system.progress}%</span>\n                        </div>\n                        <Progress value={system.progress} indicatorClassName=\"bg-primary\" />\n                    </div>\n                ))}\n            </CardContent>\n          </Card>\n          \n          <Card className=\"flex flex-col transition-all hover:shadow-lg hover:shadow-primary/10 hover:-translate-y-1\">\n            <CardHeader>\n                <div className=\"flex items-center gap-4\">\n                    <FolderKanban className=\"h-8 w-8 text-primary\" />\n                    <div>\n                        <CardTitle className=\"text-lg\">Lead Intelligence</CardTitle>\n                        <CardDescription>B2B lead enrichment & pipeline.</CardDescription>\n                    </div>\n                </div>\n            </CardHeader>\n            <CardContent className=\"flex-grow items-center h-[200px]\">\n                <LeadIntelligenceChart leads={leads} />\n            </CardContent>\n            <CardFooter>\n                 <Button size=\"sm\" variant=\"outline\" className=\"w-full\" onClick={() => router.push(\"/dashboard/leads\")}>\n                    Manage Leads <ChevronRight className=\"ml-2 h-4 w-4\" />\n                </Button>\n            </CardFooter>\n          </Card>\n\n          <Card className=\"flex flex-col transition-all hover:shadow-lg hover:shadow-primary/10 hover:-translate-y-1\">\n            <CardHeader>\n                <div className=\"flex items-start justify-between gap-4\">\n                    <div className=\"flex items-center gap-4\">\n                        <Zap className=\"h-8 w-8 text-primary\" />\n                        <CardTitle className=\"text-lg\">Outbound Engine</CardTitle>\n                    </div>\n                </div>\n            </CardHeader>\n            <CardContent className=\"flex-grow\">\n                <p className=\"text-sm text-muted-foreground\">Autonomous lead generation, product sourcing, and outreach campaigns.</p>\n            </CardContent>\n            <CardFooter className=\"flex justify-between items-end\">\n                 <div>\n                    <p className=\"text-2xl font-bold\">{(leads?.length ?? 0) + (products?.length ?? 0)}</p>\n                    <p className=\"text-xs text-muted-foreground\">Opportunities</p>\n                </div>\n                <Button size=\"sm\" variant=\"outline\" onClick={() => router.push('/dashboard/agent')}>\n                    Launch Agent <ChevronRight className=\"ml-2 h-4 w-4\" />\n                </Button>\n            </CardFooter>\n          </Card>\n          \n          <Card className=\"border-primary/20 bg-background/80 backdrop-blur-lg\">\n              <CardHeader className=\"flex flex-row items-start justify-between\">\n                  <div className=\"flex items-center gap-3\">\n                      <Bot className=\"h-6 w-6 text-primary animate-pulse\" />\n                      <div>\n                          <CardTitle className=\"text-lg\">AI Approval Request</CardTitle>\n                          <CardDescription>Omarim requires human confirmation to proceed.</CardDescription>\n                      </div>\n                  </div>\n                    <Button variant=\"ghost\" size=\"icon\" className=\"h-7 w-7\" onClick={handleReject}>\n                      <X className=\"h-4 w-4\" />\n                    </Button>\n              </CardHeader>\n              {isFindingProduct && (\n                  <CardContent className=\"flex items-center justify-center py-12\">\n                      <Loader2 className=\"h-8 w-8 animate-spin\" />\n                      <p className=\"ml-4 text-muted-foreground\">Searching for opportunities...</p>\n                  </CardContent>\n              )}\n              {trendingProduct && (\n                  <>\n                      <CardContent className=\"space-y-4\">\n                            <div>\n                              <h3 className=\"font-headline text-xl font-bold text-foreground\">{trendingProduct.productName}</h3>\n                              <p className=\"text-sm text-muted-foreground mt-1\">{trendingProduct.description}</p>\n                          </div>\n                          <Separator />\n                          <div>\n                              <h4 className=\"font-semibold text-foreground flex items-center gap-2 text-sm\"><Sparkles className=\"h-4 w-4 text-primary\"/> Marketing Angle</h4>\n                              <p className=\"mt-1 text-sm text-muted-foreground\">{trendingProduct.marketingAngle}</p>\n                          </div>\n                      </CardContent>\n                      <CardFooter className=\"flex gap-2\">\n                          <Button onClick={handleApproveAndLaunch} disabled={isCampaignLoading || !!campaignAssets} className=\"w-full\">\n                              {isCampaignLoading ? <Loader2 className=\"mr-2 h-4 w-4 animate-spin\"/> : <CheckCircle className=\"mr-2 h-4 w-4\" />}\n                              {!!campaignAssets ? \"Approved\" : \"Approve & Launch\"}\n                          </Button>\n                          <Button variant=\"outline\" onClick={handleReject} disabled={isCampaignLoading || !!campaignAssets} className=\"w-full\">\n                              <X className=\"mr-2 h-4 w-4\"/>\n                              Deny\n                          </Button>\n                      </CardFooter>\n                  </>\n              )}\n          </Card>\n\n        </div>\n      </div>\n    </div>\n\n    {/* Quick Action Button */}\n    <Dialog open={isActionDialogOpen} onOpenChange={setIsActionDialogOpen}>\n        <DialogTrigger asChild>\n            <Button\n              variant=\"default\"\n              className=\"fixed bottom-6 right-6 h-16 w-16 rounded-full shadow-lg\"\n            >\n              <Sparkles className=\"h-8 w-8\" />\n              <span className=\"sr-only\">Quick Action</span>\n            </Button>\n        </DialogTrigger>\n        <DialogContent className=\"sm:max-w-md\">\n            <DialogHeader>\n                <DialogTitle>Quick Action</DialogTitle>\n                <DialogDescription>\n                    Issue a command to Omarim AI. It will be sent to the main chat interface.\n                </DialogDescription>\n            </DialogHeader>\n            <Form {...actionForm}>\n              <form onSubmit={actionForm.handleSubmit(onActionSubmit)} className=\"space-y-4\">\n                <FormField\n                  control={actionForm.control}\n                  name=\"command\"\n                  render={({ field }) => (\n                    <FormItem>\n                      <FormLabel>Command</FormLabel>\n                      <FormControl>\n                        <Input placeholder=\"e.g., 'Generate a social post about AI'\" {...field} />\n                      </FormControl>\n                      <FormMessage />\n                    </FormItem>\n                  )}\n                />\n                <DialogFooter>\n                    <Button type=\"submit\" className=\"w-full\">Execute</Button>\n                </DialogFooter>\n              </form>\n            </Form>\n        </DialogContent>\n    </Dialog>\n    </>\n  );\n}\n",
  "src/app/dashboard/publisher/page.tsx": "\n'use client';\n\nimport { useState } from 'react';\nimport { useForm } from 'react-hook-form';\nimport { zodResolver } from '@hookform/resolvers/zod';\nimport * as z from 'zod';\nimport {\n  Loader2,\n  Sparkles,\n  Twitter,\n  Linkedin,\n  Facebook,\n  Bot,\n  Youtube,\n} from 'lucide-react';\nimport {\n  generateMultipleSocialPosts,\n  type GenerateMultipleSocialPostsOutput,\n} from '@/ai/flows/generate-multiple-social-posts';\n\nimport { Button } from '@/components/ui/button';\nimport {\n  Card,\n  CardContent,\n  CardDescription,\n  CardFooter,\n  CardHeader,\n  CardTitle,\n} from '@/components/ui/card';\nimport {\n  Form,\n  FormControl,\n  FormField,\n  FormItem,\n  FormLabel,\n  FormMessage,\n} from '@/components/ui/form';\nimport { Textarea } from '@/components/ui/textarea';\nimport { Badge } from '@/components/ui/badge';\nimport { useToast } from '@/hooks/use-toast';\nimport { Input } from '@/components/ui/input';\n\nconst publisherFormSchema = z.object({\n  topicOrContent: z\n    .string()\n    .min(10, { message: 'Please provide at least 10 characters.' }),\n  youtubeUrl: z.string().url().optional().or(z.literal('')),\n});\n\nconst PlatformIcon = ({ platform }: { platform: string }) => {\n  switch (platform.toLowerCase()) {\n    case 'twitter':\n      return <Twitter className=\"h-6 w-6 text-sky-500\" />;\n    case 'linkedin':\n      return <Linkedin className=\"h-6 w-6 text-blue-700\" />;\n    case 'facebook':\n      return <Facebook className=\"h-6 w-6 text-blue-800\" />;\n    default:\n      return <Bot className=\"h-6 w-6\" />;\n  }\n};\n\nexport default function PublisherPage() {\n  const [isLoading, setIsLoading] = useState(false);\n  const [generatedPosts, setGeneratedPosts] =\n    useState<GenerateMultipleSocialPostsOutput | null>(null);\n  const { toast } = useToast();\n\n  const form = useForm<z.infer<typeof publisherFormSchema>>({\n    resolver: zodResolver(publisherFormSchema),\n    defaultValues: {\n      topicOrContent: '',\n      youtubeUrl: '',\n    },\n  });\n\n  async function onSubmit(values: z.infer<typeof publisherFormSchema>) {\n    setIsLoading(true);\n    setGeneratedPosts(null);\n    try {\n      const response = await generateMultipleSocialPosts({\n        topicOrContent: values.topicOrContent,\n        youtubeUrl: values.youtubeUrl,\n      });\n      setGeneratedPosts(response);\n    } catch (error) {\n      console.error('AI Publisher failed:', error);\n      toast({\n        variant: 'destructive',\n        title: 'Generation Failed',\n        description: 'The AI publisher encountered an error.',\n      });\n    } finally {\n      setIsLoading(false);\n    }\n  }\n\n  return (\n    <div className=\"container mx-auto max-w-5xl space-y-8 py-8\">\n      <div className=\"text-center\">\n        <h1 className=\"font-headline text-3xl font-bold md:text-4xl\">\n          AI Social Publisher\n        </h1>\n        <p className=\"mt-2 text-lg text-muted-foreground\">\n          Generate and repurpose content for all your social media channels from a single input.\n        </p>\n      </div>\n\n      <Card className=\"shadow-lg\">\n        <CardHeader>\n          <div className=\"flex items-center gap-4\">\n            <Sparkles className=\"h-6 w-6 text-primary\" />\n            <CardTitle>Content Generator</CardTitle>\n          </div>\n          <CardDescription>\n            Enter a topic, a block of text, or a YouTube URL, and the AI will create tailored posts for each platform.\n          </CardDescription>\n        </CardHeader>\n        <Form {...form}>\n          <form onSubmit={form.handleSubmit(onSubmit)}>\n            <CardContent className=\"space-y-4\">\n              <FormField\n                control={form.control}\n                name=\"topicOrContent\"\n                render={({ field }) => (\n                  <FormItem>\n                    <FormLabel>Topic or Content</FormLabel>\n                    <FormControl>\n                      <Textarea\n                        placeholder=\"e.g., 'The future of AI in e-commerce' or paste an article excerpt...\"\n                        {...field}\n                        disabled={isLoading}\n                        className=\"min-h-[150px]\"\n                      />\n                    </FormControl>\n                    <FormMessage />\n                  </FormItem>\n                )}\n              />\n               <FormField\n                control={form.control}\n                name=\"youtubeUrl\"\n                render={({ field }) => (\n                  <FormItem>\n                    <FormLabel className=\"flex items-center gap-2\">\n                        <Youtube className=\"h-5 w-5 text-red-500\" /> \n                        YouTube URL (Optional)\n                    </FormLabel>\n                    <FormControl>\n                      <Input\n                        placeholder=\"e.g., https://www.youtube.com/watch?v=dQw4w9WgXcQ\"\n                        {...field}\n                        disabled={isLoading}\n                      />\n                    </FormControl>\n                    <FormMessage />\n                  </FormItem>\n                )}\n              />\n            </CardContent>\n            <CardFooter>\n              <Button type=\"submit\" disabled={isLoading} size=\"lg\">\n                {isLoading ? (\n                  <Loader2 className=\"mr-2 h-5 w-5 animate-spin\" />\n                ) : (\n                  <Sparkles className=\"mr-2 h-5 w-5\" />\n                )}\n                Generate Posts\n              </Button>\n            </CardFooter>\n          </form>\n        </Form>\n      </Card>\n\n      {isLoading && (\n        <div className=\"flex justify-center py-10\">\n          <Loader2 className=\"h-8 w-8 animate-spin\" />\n        </div>\n      )}\n\n      {generatedPosts && (\n        <div className=\"space-y-6\">\n           <h2 className=\"text-center font-headline text-2xl font-bold\">Generated Posts</h2>\n           <div className=\"grid grid-cols-1 gap-6 lg:grid-cols-3\">\n              {generatedPosts.posts.map((post, index) => (\n                <Card key={index} className=\"flex flex-col\">\n                   <CardHeader>\n                      <div className=\"flex items-center justify-between\">\n                         <CardTitle className=\"capitalize\">{post.platform}</CardTitle>\n                         <PlatformIcon platform={post.platform} />\n                      </div>\n                   </CardHeader>\n                   <CardContent className=\"flex-grow space-y-4\">\n                      <p className=\"text-sm whitespace-pre-wrap\">{post.content}</p>\n                       <div className=\"flex flex-wrap gap-2\">\n                        {post.hashtags.map((tag) => (\n                          <Badge key={tag} variant=\"secondary\">#{tag}</Badge>\n                        ))}\n                      </div>\n                   </CardContent>\n                   <CardFooter>\n                      <Button className=\"w-full\" variant=\"outline\">Schedule Post</Button>\n                   </CardFooter>\n                </Card>\n              ))}\n           </div>\n        </div>\n      )}\n    </div>\n  );\n}\n",
  "src/app/dashboard/settings/page.tsx": "\n\"use client\"\n\nimport { useState, useEffect } from \"react\";\nimport { useForm } from \"react-hook-form\";\nimport { useSearchParams } from 'next/navigation';\nimport { zodResolver } from \"@hookform/resolvers/zod\";\nimport * as z from \"zod\";\n\nimport { useUser, useFirestore, useCollection, useMemoFirebase, addDocumentNonBlocking } from \"@/firebase\";\nimport { collection } from 'firebase/firestore';\n\nimport { Button } from \"@/components/ui/button\";\nimport {\n  Card,\n  CardContent,\n  CardDescription,\n  CardFooter,\n  CardHeader,\n  CardTitle,\n} from \"@/components/ui/card\";\nimport { Input } from \"@/components/ui/input\";\nimport { Label } from \"@/components/ui/label\";\nimport {\n  Tabs,\n  TabsContent,\n  TabsList,\n  TabsTrigger,\n} from \"@/components/ui/tabs\";\nimport {\n  Dialog,\n  DialogContent,\n  DialogDescription,\n  DialogFooter,\n  DialogHeader,\n  DialogTitle,\n  DialogTrigger,\n} from \"@/components/ui/dialog\"\nimport {\n  Form,\n  FormControl,\n  FormField,\n  FormItem,\n  FormLabel,\n  FormMessage,\n} from \"@/components/ui/form\"\nimport {\n  Select,\n  SelectContent,\n  SelectItem,\n  SelectTrigger,\n  SelectValue,\n} from \"@/components/ui/select\"\nimport { Loader2, PlusCircle } from \"lucide-react\";\n\n\nconst storeFormSchema = z.object({\n  name: z.string().min(2, { message: \"Store name must be at least 2 characters.\" }),\n  type: z.enum([\"Shopify\", \"WooCommerce\", \"Amazon\", \"eBay\"], { required_error: \"Please select a store platform.\"}),\n  apiKey: z.string().min(10, { message: \"API Key seems too short.\" }),\n  apiUrl: z.string().url({ message: \"Please enter a valid URL.\" }),\n});\n\nconst genericIntegrationSchema = z.object({\n    apiKey: z.string().min(10, { message: \"API Key is required.\" }),\n});\n\ntype IntegrationDialogState = {\n    isOpen: boolean;\n    type: 'store' | 'sendgrid' | 'clearbit';\n}\n\nexport default function SettingsPage() {\n  const [storeDialogOpen, setStoreDialogOpen] = useState(false);\n  const [integrationDialog, setIntegrationDialog] = useState<IntegrationDialogState>({ isOpen: false, type: 'store' });\n\n  const { user } = useUser();\n  const firestore = useFirestore();\n  const searchParams = useSearchParams();\n\n  const storesCollectionRef = useMemoFirebase(() => {\n    if (!user || !firestore) return null;\n    return collection(firestore, `users/${user.uid}/stores`);\n  }, [firestore, user]);\n\n  const { data: stores, isLoading: isLoadingStores } = useCollection(storesCollectionRef);\n\n  const storeForm = useForm<z.infer<typeof storeFormSchema>>({\n    resolver: zodResolver(storeFormSchema),\n    defaultValues: {\n      name: \"\",\n      apiKey: \"\",\n      apiUrl: \"\",\n    },\n  });\n\n  const genericForm = useForm<z.infer<typeof genericIntegrationSchema>>({\n    resolver: zodResolver(genericIntegrationSchema),\n    defaultValues: { apiKey: \"\" },\n  });\n\n  useEffect(() => {\n    const action = searchParams.get('action');\n    const storeType = searchParams.get('storeType');\n\n    if (action === 'addStore') {\n      setIntegrationDialog({ isOpen: true, type: 'store' });\n      if (storeType && [\"Shopify\", \"WooCommerce\", \"Amazon\", \"eBay\"].includes(storeType)) {\n        const capitalizedStoreType = storeType.charAt(0).toUpperCase() + storeType.slice(1);\n        storeForm.setValue('type', capitalizedStoreType as \"Shopify\" | \"WooCommerce\" | \"Amazon\" | \"eBay\");\n      }\n    }\n  }, [searchParams, storeForm]);\n\n\n  function onStoreSubmit(values: z.infer<typeof storeFormSchema>) {\n    if (!storesCollectionRef) return;\n    addDocumentNonBlocking(storesCollectionRef, values);\n    storeForm.reset();\n    setIntegrationDialog({ isOpen: false, type: 'store' });\n  }\n  \n  function onGenericSubmit(values: z.infer<typeof genericIntegrationSchema>) {\n    // In a real app, you would save this API key to a secure place.\n    console.log(`Connecting ${integrationDialog.type} with key:`, values.apiKey);\n    genericForm.reset();\n    setIntegrationDialog({ isOpen: false, type: integrationDialog.type });\n  }\n\n  const openIntegrationDialog = (type: 'store' | 'sendgrid' | 'clearbit') => {\n    setIntegrationDialog({ isOpen: true, type });\n  }\n\n  const renderDialogContent = () => {\n    switch (integrationDialog.type) {\n        case 'store':\n            return (\n                <>\n                 <DialogHeader>\n                    <DialogTitle>Add New Store</DialogTitle>\n                    <DialogDescription>\n                      Enter the details for your new store integration.\n                    </DialogDescription>\n                  </DialogHeader>\n                  <Form {...storeForm}>\n                    <form onSubmit={storeForm.handleSubmit(onStoreSubmit)} className=\"space-y-4\">\n                       <FormField\n                        control={storeForm.control}\n                        name=\"name\"\n                        render={({ field }) => (\n                          <FormItem>\n                            <FormLabel>Store Name</FormLabel>\n                            <FormControl>\n                              <Input placeholder=\"My Awesome Store\" {...field} />\n                            </FormControl>\n                            <FormMessage />\n                          </FormItem>\n                        )}\n                      />\n                      <FormField\n                        control={storeForm.control}\n                        name=\"type\"\n                        render={({ field }) => (\n                          <FormItem>\n                            <FormLabel>Platform</FormLabel>\n                             <Select onValueChange={field.onChange} defaultValue={field.value} value={field.value}>\n                              <FormControl>\n                                <SelectTrigger>\n                                  <SelectValue placeholder=\"Select a platform\" />\n                                </SelectTrigger>\n                              </FormControl>\n                              <SelectContent>\n                                <SelectItem value=\"Shopify\">Shopify</SelectItem>\n                                <SelectItem value=\"WooCommerce\">WooCommerce</SelectItem>\n                                <SelectItem value=\"Amazon\">Amazon</SelectItem>\n                                <SelectItem value=\"eBay\">eBay</SelectItem>\n                              </SelectContent>\n                            </Select>\n                            <FormMessage />\n                          </FormItem>\n                        )}\n                      />\n                       <FormField\n                        control={storeForm.control}\n                        name=\"apiUrl\"\n                        render={({ field }) => (\n                          <FormItem>\n                            <FormLabel>API URL</FormLabel>\n                            <FormControl>\n                              <Input placeholder=\"https://my-store.myshopify.com\" {...field} />\n                            </FormControl>\n                            <FormMessage />\n                          </FormItem>\n                        )}\n                      />\n                       <FormField\n                        control={storeForm.control}\n                        name=\"apiKey\"\n                        render={({ field }) => (\n                          <FormItem>\n                            <FormLabel>API Key</FormLabel>\n                            <FormControl>\n                              <Input type=\"password\" placeholder=\"shpat_xxxxxxxxxxxx\" {...field} />\n                            </FormControl>\n                            <FormMessage />\n                          </FormItem>\n                        )}\n                      />\n                      <DialogFooter>\n                        <Button type=\"submit\">Connect Store</Button>\n                      </DialogFooter>\n                    </form>\n                  </Form>\n                </>\n            );\n        case 'sendgrid':\n        case 'clearbit':\n             const title = integrationDialog.type === 'sendgrid' ? 'Connect SendGrid' : 'Connect Clearbit';\n             const description = `Enter your API key to connect your ${integrationDialog.type} account.`;\n            return (\n                <>\n                <DialogHeader>\n                    <DialogTitle>{title}</DialogTitle>\n                    <DialogDescription>{description}</DialogDescription>\n                </DialogHeader>\n                <Form {...genericForm}>\n                    <form onSubmit={genericForm.handleSubmit(onGenericSubmit)} className=\"space-y-4\">\n                        <FormField\n                            control={genericForm.control}\n                            name=\"apiKey\"\n                            render={({ field }) => (\n                                <FormItem>\n                                    <FormLabel>API Key</FormLabel>\n                                    <FormControl>\n                                        <Input type=\"password\" placeholder=\"Enter your API key\" {...field} />\n                                    </FormControl>\n                                    <FormMessage />\n                                </FormItem>\n                            )}\n                        />\n                        <DialogFooter>\n                            <Button type=\"submit\">Connect</Button>\n                        </DialogFooter>\n                    </form>\n                </Form>\n                </>\n            );\n    }\n  }\n\n\n  return (\n    <div className=\"space-y-6\">\n       <div>\n        <h2 className=\"text-2xl font-headline font-semibold\">Settings</h2>\n        <p className=\"text-muted-foreground\">\n          Manage your account settings and integrations.\n        </p>\n      </div>\n\n      <Tabs defaultValue={searchParams.get('tab') || \"profile\"} className=\"w-full\">\n        <TabsList className=\"grid w-full grid-cols-3\">\n          <TabsTrigger value=\"profile\">Profile</TabsTrigger>\n          <TabsTrigger value=\"billing\">Billing</TabsTrigger>\n          <TabsTrigger value=\"integrations\">Integrations</TabsTrigger>\n        </TabsList>\n\n        <TabsContent value=\"profile\">\n          <Card>\n            <CardHeader>\n              <CardTitle>Profile</CardTitle>\n              <CardDescription>\n                Make changes to your public information here.\n              </CardDescription>\n            </CardHeader>\n            <CardContent className=\"space-y-4\">\n              <div className=\"space-y-2\">\n                <Label htmlFor=\"name\">Name</Label>\n                <Input id=\"name\" defaultValue=\"John Doe\" />\n              </div>\n              <div className=\"space-y-2\">\n                <Label htmlFor=\"email\">Email</Label>\n                <Input id=\"email\" type=\"email\" defaultValue=\"john.doe@example.com\" disabled/>\n              </div>\n            </CardContent>\n            <CardFooter>\n              <Button>Save changes</Button>\n            </CardFooter>\n          </Card>\n        </TabsContent>\n        \n        <TabsContent value=\"billing\">\n          <Card>\n            <CardHeader>\n              <CardTitle>Billing</CardTitle>\n              <CardDescription>\n                Manage your billing information and view your invoices.\n              </CardDescription>\n            </CardHeader>\n            <CardContent className=\"space-y-4\">\n                <p className=\"font-medium\">Current Plan: <span className=\"text-primary\">E-commerce</span></p>\n                <p className=\"text-sm text-muted-foreground\">Your next billing date is on the 1st of next month.</p>\n                <div className=\"space-y-2\">\n                    <Label>Payment Method</Label>\n                    <div className=\"flex items-center justify-between rounded-md border p-4\">\n                        <p>Visa ending in 1234</p>\n                        <Button variant=\"outline\">Update</Button>\n                    </div>\n                </div>\n            </CardContent>\n            <CardFooter>\n              <Button variant=\"secondary\">View Invoices</Button>\n            </CardFooter>\n          </Card>\n        </TabsContent>\n\n        <TabsContent value=\"integrations\">\n          <Card>\n            <CardHeader className=\"flex flex-row items-center justify-between\">\n              <div>\n                <CardTitle>Integrations</CardTitle>\n                <CardDescription>\n                  Connect your accounts from other services.\n                </CardDescription>\n              </div>\n               <Dialog open={integrationDialog.isOpen} onOpenChange={(isOpen) => setIntegrationDialog({ ...integrationDialog, isOpen })}>\n                <DialogContent className=\"sm:max-w-[425px]\">\n                    {renderDialogContent()}\n                </DialogContent>\n              </Dialog>\n            </CardHeader>\n            <CardContent className=\"grid gap-4\">\n                <div className=\"flex items-center justify-between rounded-md border p-4\">\n                    <div>\n                        <p className=\"font-medium\">E-commerce Stores</p>\n                        <p className=\"text-sm text-muted-foreground\">Shopify, WooCommerce, etc.</p>\n                    </div>\n                    <Button onClick={() => openIntegrationDialog('store')}>\n                        <PlusCircle className=\"mr-2 h-4 w-4\" />\n                        Add Store\n                    </Button>\n                </div>\n\n                {isLoadingStores && <Loader2 className=\"mx-auto h-8 w-8 animate-spin\" />}\n                \n                {!isLoadingStores && stores && stores.map((store) => (\n                   <div key={store.id} className=\"flex items-center justify-between rounded-md border p-4 ml-8\">\n                      <div>\n                        <p className=\"font-medium\">{store.name}</p>\n                        <p className=\"text-sm text-muted-foreground\">{store.type}</p>\n                      </div>\n                      <div className=\"flex items-center gap-2\">\n                        <p className=\"text-sm text-green-500\">Connected</p>\n                        <Button variant=\"outline\">Disconnect</Button>\n                      </div>\n                  </div>\n                ))}\n                \n                {!isLoadingStores && (!stores || stores.length === 0) && (\n                  <p className=\"text-center text-sm text-muted-foreground py-4\">No stores connected yet.</p>\n                )}\n\n                 <div className=\"flex items-center justify-between rounded-md border p-4\">\n                    <div>\n                        <p className=\"font-medium\">SendGrid</p>\n                        <p className=\"text-sm text-muted-foreground\">Email delivery service</p>\n                    </div>\n                    <Button variant=\"secondary\" onClick={() => openIntegrationDialog('sendgrid')}>Connect</Button>\n                </div>\n                 <div className=\"flex items-center justify-between rounded-md border p-4\">\n                    <div>\n                        <p className=\"font-medium\">Clearbit</p>\n                        <p className=\"text-sm text-muted-foreground\">Data enrichment platform</p>\n                    </div>\n                    <Button variant=\"secondary\" onClick={() => openIntegrationDialog('clearbit')}>Connect</Button>\n                </div>\n            </CardContent>\n          </Card>\n        </TabsContent>\n      </Tabs>\n    </div>\n  )\n}\n",
  "src/app/dashboard/stores/page.tsx": "\n\"use client\";\n\nimport { useState } from \"react\";\nimport Image from \"next/image\"\nimport { useForm } from \"react-hook-form\";\nimport { zodResolver } from \"@hookform/resolvers/zod\";\nimport * as z from \"zod\";\n\nimport { useUser, useFirestore, useCollection, useMemoFirebase, addDocumentNonBlocking } from \"@/firebase\";\nimport { collection } from \"firebase/firestore\";\nimport { Badge } from \"@/components/ui/badge\"\nimport {\n  Card,\n  CardContent,\n  CardDescription,\n  CardHeader,\n  CardTitle,\n  CardFooter\n} from \"@/components/ui/card\"\nimport {\n  Dialog,\n  DialogContent,\n  DialogDescription,\n  DialogFooter,\n  DialogHeader,\n  DialogTitle,\n  DialogTrigger,\n} from \"@/components/ui/dialog\"\nimport {\n  Form,\n  FormControl,\n  FormField,\n  FormItem,\n  FormLabel,\n  FormMessage,\n} from \"@/components/ui/form\"\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport { PlaceHolderImages } from \"@/lib/placeholder-images\"\nimport { Loader2, PlusCircle, Sparkles, Bot, TrendingUp, UserCheck, ShoppingCart, Mail, Twitter, Linkedin, Facebook, Video, ImageIcon } from \"lucide-react\";\nimport { useToast } from \"@/hooks/use-toast\";\nimport { generateProductIdeas, type GenerateProductIdeasOutput } from \"@/ai/flows/generate-product-ideas\";\nimport { findTrendingProducts, type TrendingProduct } from \"@/ai/tools/find-trending-products\";\nimport { generateProductCampaign, type GenerateProductCampaignOutput } from \"@/ai/flows/generate-product-campaign\";\nimport { Separator } from \"@/components/ui/separator\";\n\nconst sourceColors: { [key: string]: string } = {\n  Shopify: \"bg-green-500/20 text-green-700 border-green-500/30\",\n  WooCommerce: \"bg-purple-500/20 text-purple-700 border-purple-500/30\",\n  Amazon: \"bg-orange-500/20 text-orange-700 border-orange-500/30\",\n  eBay: \"bg-red-500/20 text-red-700 border-red-500/30\",\n}\n\nconst ideaFormSchema = z.object({\n  topic: z.string().min(3, { message: \"Topic must be at least 3 characters.\" }),\n});\n\nconst trendingFormSchema = z.object({\n  category: z.string().min(3, { message: \"Category must be at least 3 characters.\" }),\n});\n\nexport default function StoresPage() {\n  const [isIdeaDialogOpen, setIsIdeaDialogOpen] = useState(false);\n  const [isTrendingDialogOpen, setIsTrendingDialogOpen] = useState(false);\n  const [isGenerating, setIsGenerating] = useState(false);\n  const [generatedProducts, setGeneratedProducts] = useState<GenerateProductIdeasOutput['products'] | null>(null);\n  const [trendingProduct, setTrendingProduct] = useState<TrendingProduct | null>(null);\n  const [campaignAssets, setCampaignAssets] = useState<GenerateProductCampaignOutput | null>(null);\n  const [isCampaignLoading, setIsCampaignLoading] = useState(false);\n\n  const { user } = useUser();\n  const firestore = useFirestore();\n  const { toast } = useToast();\n\n  const productsCollectionRef = useMemoFirebase(() => {\n    if (!user || !firestore) return null;\n    return collection(firestore, `users/${user.uid}/products`);\n  }, [firestore, user]);\n\n  const { data: products, isLoading } = useCollection(productsCollectionRef);\n\n  const ideaForm = useForm<z.infer<typeof ideaFormSchema>>({\n    resolver: zodResolver(ideaFormSchema),\n    defaultValues: {\n      topic: \"eco-friendly home goods\",\n    },\n  });\n\n  const trendingForm = useForm<z.infer<typeof trendingFormSchema>>({\n    resolver: zodResolver(trendingFormSchema),\n    defaultValues: {\n      category: \"kitchen gadgets\",\n    },\n  });\n\n  async function onIdeaSubmit(values: z.infer<typeof ideaFormSchema>) {\n    setIsGenerating(true);\n    setGeneratedProducts(null);\n    setTrendingProduct(null);\n    setCampaignAssets(null);\n    try {\n      const result = await generateProductIdeas({ topic: values.topic });\n      setGeneratedProducts(result.products);\n    } catch (error) {\n      console.error(\"Failed to generate product ideas:\", error);\n      toast({\n        variant: \"destructive\",\n        title: \"Generation Failed\",\n        description: \"Could not generate product ideas.\",\n      });\n    } finally {\n      setIsGenerating(false);\n      setIsIdeaDialogOpen(false);\n      ideaForm.reset();\n    }\n  }\n\n  async function onTrendingSubmit(values: z.infer<typeof trendingFormSchema>) {\n    setIsGenerating(true);\n    setTrendingProduct(null);\n    setGeneratedProducts(null);\n    setCampaignAssets(null);\n    try {\n      const result = await findTrendingProducts({ category: values.category });\n      setTrendingProduct(result);\n    } catch (error) {\n      console.error(\"Failed to find trending products:\", error);\n      toast({\n        variant: \"destructive\",\n        title: \"Analysis Failed\",\n        description: \"Could not analyze the product category.\",\n      });\n    } finally {\n      setIsGenerating(false);\n      setIsTrendingDialogOpen(false);\n      trendingForm.reset();\n    }\n  }\n\n  async function handleApproveAndLaunch() {\n    if (!trendingProduct || !productsCollectionRef) return;\n\n    setIsCampaignLoading(true);\n    setCampaignAssets(null);\n    toast({ title: \"Approval Received\", description: \"AI is now generating campaign assets. This may take a moment...\" });\n    \n    try {\n      // 1. Generate campaign assets\n      const campaignResult = await generateProductCampaign(trendingProduct);\n      setCampaignAssets(campaignResult);\n\n      // 2. Add product to Firestore\n      const newProduct = {\n        name: trendingProduct.productName,\n        description: trendingProduct.description,\n        price: trendingProduct.estimatedSalePrice,\n        quantity: 100, // Default quantity\n        imageId: \"product\" + (Math.floor(Math.random() * 8) + 1), // Assign a random placeholder image ID\n        source: \"AI Sourced\",\n      };\n      addDocumentNonBlocking(productsCollectionRef, newProduct);\n      \n      toast({\n        title: \"Campaign Launched!\",\n        description: `${trendingProduct.productName} has been added to your products and marketing assets have been generated.`,\n      });\n\n    } catch (error) {\n       console.error(\"Failed to launch campaign:\", error);\n       toast({\n        variant: \"destructive\",\n        title: \"Campaign Launch Failed\",\n        description: \"There was an error generating the marketing assets.\",\n      });\n    } finally {\n        setIsCampaignLoading(false);\n    }\n  }\n  \n  const PlatformIcon = ({ platform }: { platform: string }) => {\n  switch (platform.toLowerCase()) {\n    case 'twitter':\n      return <Twitter className=\"h-5 w-5 text-sky-500\" />;\n    case 'linkedin':\n      return <Linkedin className=\"h-5 w-5 text-blue-700\" />;\n    case 'facebook':\n      return <Facebook className=\"h-5 w-5 text-blue-800\" />;\n    default:\n      return <Bot className=\"h-5 w-5\" />;\n  }\n};\n\n\n  return (\n    <div className=\"space-y-6\">\n      <div className=\"flex flex-wrap items-center justify-between gap-4\">\n        <div>\n          <h2 className=\"text-2xl font-headline font-semibold\">Product Sourcing</h2>\n          <p className=\"text-muted-foreground\">\n            Aggregate products from your stores or let the AI find new opportunities.\n          </p>\n        </div>\n        <div className=\"flex gap-2\">\n            <Dialog open={isIdeaDialogOpen} onOpenChange={setIsIdeaDialogOpen}>\n              <DialogTrigger asChild>\n                <Button variant=\"outline\">\n                  <Sparkles className=\"mr-2 h-4 w-4\" />\n                  Generate Ideas\n                </Button>\n              </DialogTrigger>\n              <DialogContent className=\"sm:max-w-[425px]\">\n                <DialogHeader>\n                  <DialogTitle>AI Product Idea Generator</DialogTitle>\n                  <DialogDescription>\n                    Enter a topic and let AI generate product ideas for you.\n                  </DialogDescription>\n                </DialogHeader>\n                <Form {...ideaForm}>\n                  <form onSubmit={ideaForm.handleSubmit(onIdeaSubmit)} className=\"space-y-4\">\n                    <FormField\n                      control={ideaForm.control}\n                      name=\"topic\"\n                      render={({ field }) => (\n                        <FormItem>\n                          <FormLabel>Topic</FormLabel>\n                          <FormControl>\n                            <Input placeholder=\"e.g., 'summer outdoor gear'\" {...field} />\n                          </FormControl>\n                          <FormMessage />\n                        </FormItem>\n                      )}\n                    />\n                    <DialogFooter>\n                      <Button type=\"submit\" disabled={isGenerating}>\n                        {isGenerating && <Loader2 className=\"mr-2 h-4 w-4 animate-spin\" />}\n                        Generate\n                      </Button>\n                    </DialogFooter>\n                  </form>\n                </Form>\n              </DialogContent>\n            </Dialog>\n            <Dialog open={isTrendingDialogOpen} onOpenChange={setIsTrendingDialogOpen}>\n              <DialogTrigger asChild>\n                 <Button>\n                  <Bot className=\"mr-2 h-4 w-4\" />\n                  Autonomous Sourcing\n                </Button>\n              </DialogTrigger>\n              <DialogContent className=\"sm:max-w-[425px]\">\n                <DialogHeader>\n                  <DialogTitle>Autonomous Product Sourcing</DialogTitle>\n                  <DialogDescription>\n                    Let the AI analyze a market and find a trending product opportunity.\n                  </DialogDescription>\n                </DialogHeader>\n                <Form {...trendingForm}>\n                  <form onSubmit={trendingForm.handleSubmit(onTrendingSubmit)} className=\"space-y-4\">\n                    <FormField\n                      control={trendingForm.control}\n                      name=\"category\"\n                      render={({ field }) => (\n                        <FormItem>\n                          <FormLabel>Product Category</FormLabel>\n                          <FormControl>\n                            <Input placeholder=\"e.g., 'kitchen gadgets'\" {...field} />\n                          </FormControl>\n                          <FormMessage />\n                        </FormItem>\n                      )}\n                    />\n                    <DialogFooter>\n                      <Button type=\"submit\" disabled={isGenerating}>\n                        {isGenerating && <Loader2 className=\"mr-2 h-4 w-4 animate-spin\" />}\n                        Analyze Market\n                      </Button>\n                    </DialogFooter>\n                  </form>\n                </Form>\n              </DialogContent>\n            </Dialog>\n        </div>\n      </div>\n\n      {isGenerating && (\n        <div className=\"flex justify-center py-10\">\n          <Loader2 className=\"h-8 w-8 animate-spin\" />\n        </div>\n      )}\n\n      {generatedProducts && (\n        <Card className=\"border-primary/50 bg-primary/5\">\n          <CardHeader>\n            <CardTitle>AI Generated Ideas</CardTitle>\n            <CardDescription>\n              Here are some product ideas generated by the AI. You can add them to your store.\n            </CardDescription>\n          </CardHeader>\n          <CardContent className=\"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4\">\n            {generatedProducts.map((product, index) => {\n              const image = PlaceHolderImages.find(p => p.id === product.imageId);\n              return (\n                 <Card key={index} className=\"overflow-hidden bg-card/80\">\n                  <CardHeader className=\"p-0\">\n                    <div className=\"relative aspect-[3/2] w-full\">\n                      {image ? (\n                        <Image\n                          src={image.imageUrl}\n                          alt={image.description}\n                          fill\n                          className=\"object-cover\"\n                          data-ai-hint={image.imageHint}\n                        />\n                      ) : (\n                        <div className=\"w-full h-full bg-muted flex items-center justify-center\">\n                          <span className=\"text-xs text-muted-foreground\">No Image</span>\n                        </div>\n                      )}\n                    </div>\n                  </CardHeader>\n                  <CardContent className=\"p-4\">\n                    <CardTitle className=\"text-base font-semibold leading-tight\">{product.name}</CardTitle>\n                     <p className=\"text-sm text-muted-foreground mt-1 h-10 overflow-hidden\">{product.description}</p>\n                    <p className=\"mt-2 text-xl font-bold text-primary\">\n                      ${product.price.toFixed(2)}\n                    </p>\n                    <Button className=\"w-full mt-4\" variant=\"outline\"><PlusCircle className=\"mr-2 h-4 w-4\" /> Add to Products</Button>\n                  </CardContent>\n                </Card>\n              )\n            })}\n          </CardContent>\n        </Card>\n      )}\n\n      {trendingProduct && (\n        <Card className=\"border-primary/50 bg-primary/5\">\n          <CardHeader>\n             <div className=\"flex items-center gap-3\">\n              <Bot className=\"h-6 w-6 text-primary\" />\n              <div>\n                <CardTitle>Autonomous Sourcing Report</CardTitle>\n                <CardDescription>AI analysis of a trending product opportunity. Review and approve to launch a campaign.</CardDescription>\n              </div>\n            </div>\n          </CardHeader>\n          <CardContent className=\"space-y-6\">\n            <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\n                <div className=\"md:col-span-2 space-y-4\">\n                    <h3 className=\"font-headline text-2xl font-bold text-foreground\">{trendingProduct.productName}</h3>\n                    <p className=\"text-sm text-muted-foreground\">{trendingProduct.description}</p>\n                    <div className=\"flex flex-wrap gap-4 text-sm\">\n                        <div className=\"flex items-center gap-2\">\n                            <TrendingUp className=\"h-4 w-4 text-primary\" />\n                            <span className=\"font-medium\">Price Point:</span>\n                            <span className=\"text-foreground\">${trendingProduct.estimatedSalePrice.toFixed(2)}</span>\n                        </div>\n                        <div className=\"flex items-center gap-2\">\n                            <UserCheck className=\"h-4 w-4 text-primary\" />\n                            <span className=\"font-medium\">Target Audience:</span>\n                            <span className=\"text-foreground\">{trendingProduct.targetAudience}</span>\n                        </div>\n                    </div>\n                </div>\n                <Card className=\"bg-card/80\">\n                    <CardHeader>\n                        <CardTitle className=\"text-base\">Supplier Intel</CardTitle>\n                    </CardHeader>\n                    <CardContent className=\"space-y-2\">\n                        <p className=\"font-semibold\">{trendingProduct.supplier.name}</p>\n                        <p className=\"text-sm text-muted-foreground\">{trendingProduct.supplier.contactEmail}</p>\n                         <Button className=\"w-full mt-2\" variant=\"outline\">\n                            <Mail className=\"mr-2 h-4 w-4\"/>\n                            Contact Supplier\n                        </Button>\n                    </CardContent>\n                </Card>\n            </div>\n            <Separator />\n            <div>\n                <h4 className=\"font-semibold text-foreground flex items-center gap-2\"><Sparkles className=\"h-4 w-4 text-primary\"/> AI-Generated Marketing Angle</h4>\n                <p className=\"mt-2 text-sm text-muted-foreground\">{trendingProduct.marketingAngle}</p>\n            </div>\n          </CardContent>\n          <CardFooter className=\"flex gap-2\">\n             <Button onClick={handleApproveAndLaunch} disabled={isCampaignLoading || !!campaignAssets}>\n                {isCampaignLoading ? <Loader2 className=\"mr-2 h-4 w-4 animate-spin\"/> : <CheckCircle className=\"mr-2 h-4 w-4\" />}\n                {!!campaignAssets ? \"Campaign Launched\" : \"Approve & Launch Campaign\"}\n             </Button>\n             <Button variant=\"ghost\" onClick={() => setTrendingProduct(null)}>Reject</Button>\n          </CardFooter>\n        </Card>\n      )}\n\n      {isCampaignLoading && (\n        <div className=\"flex justify-center py-10\">\n          <Loader2 className=\"h-8 w-8 animate-spin\" />\n        </div>\n      )}\n\n      {campaignAssets && (\n        <Card>\n            <CardHeader>\n                <CardTitle>Generated Campaign Assets</CardTitle>\n                <CardDescription>The AI has generated the following assets to market your new product.</CardDescription>\n            </CardHeader>\n            <CardContent className=\"grid grid-cols-1 lg:grid-cols-3 gap-6\">\n                <div className=\"lg:col-span-2 space-y-4\">\n                    <h3 className=\"font-semibold text-lg\">Social Media Posts</h3>\n                    {campaignAssets.socialPosts.map(post => (\n                        <Card key={post.platform} className=\"bg-card/50\">\n                            <CardHeader className=\"flex flex-row items-center justify-between pb-2\">\n                                 <CardTitle className=\"text-base flex items-center gap-2\">\n                                    <PlatformIcon platform={post.platform} />\n                                    {post.platform}\n                                 </CardTitle>\n                                <Button variant=\"secondary\" size=\"sm\">Schedule</Button>\n                            </CardHeader>\n                            <CardContent>\n                                <p className=\"text-sm whitespace-pre-wrap\">{post.content}</p>\n                                <div className=\"flex flex-wrap gap-1 mt-2\">\n                                    {post.hashtags.map(tag => <Badge key={tag} variant=\"outline\" className=\"text-xs\">#{tag}</Badge>)}\n                                </div>\n                            </CardContent>\n                        </Card>\n                    ))}\n                </div>\n                <div className=\"space-y-6\">\n                    <div>\n                        <h3 className=\"font-semibold text-lg mb-2 flex items-center gap-2\"><ImageIcon className=\"h-5 w-5 text-primary\" /> Marketing Image</h3>\n                        <div className=\"relative aspect-square w-full rounded-lg overflow-hidden border\">\n                           <Image src={campaignAssets.marketingImage.imageUrl} alt={campaignAssets.marketingImage.prompt} fill className=\"object-cover\" />\n                        </div>\n                        <p className=\"text-xs text-muted-foreground mt-2 italic\">Prompt: {campaignAssets.marketingImage.prompt}</p>\n                    </div>\n                    <div>\n                        <h3 className=\"font-semibold text-lg mb-2 flex items-center gap-2\"><Video className=\"h-5 w-5 text-primary\" /> Video Concept</h3>\n                        <Card className=\"bg-card/50\">\n                            <CardHeader className=\"pb-2\">\n                                <CardTitle className=\"text-base\">{campaignAssets.videoConcept.title}</CardTitle>\n                            </CardHeader>\n                            <CardContent>\n                                <p className=\"text-sm text-muted-foreground\">{campaignAssets.videoConcept.sceneDescription}</p>\n                            </CardContent>\n                        </Card>\n                    </div>\n                </div>\n            </CardContent>\n        </Card>\n      )}\n\n\n       <Card>\n        <CardHeader>\n          <CardTitle>Your Products</CardTitle>\n          <CardDescription>\n            A real-time list of your products from your database.\n          </CardDescription>\n        </CardHeader>\n        <CardContent>\n          {isLoading && <Loader2 className=\"mx-auto h-8 w-8 animate-spin text-muted-foreground\" />}\n          \n          {!isLoading && (!products || products.length === 0) && (\n            <div className=\"text-center text-muted-foreground py-8\">\n              You have no products yet. Connect a store to get started.\n            </div>\n          )}\n\n          <div className=\"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4\">\n            {!isLoading && products && products.map((product) => {\n              const image = PlaceHolderImages.find(p => p.id === product.imageId);\n              return (\n                <Card key={product.id} className=\"overflow-hidden\">\n                  <CardHeader className=\"p-0\">\n                    <div className=\"relative aspect-[3/2] w-full\">\n                      {image ? (\n                        <Image\n                          src={image.imageUrl}\n                          alt={image.description}\n                          fill\n                          className=\"object-cover\"\n                          data-ai-hint={image.imageHint}\n                        />\n                      ) : (\n                        <div className=\"w-full h-full bg-muted flex items-center justify-center\">\n                          <span className=\"text-xs text-muted-foreground\">No Image</span>\n                        </div>\n                      )}\n                    </div>\n                  </CardHeader>\n                  <CardContent className=\"p-4\">\n                    <div className=\"flex items-start justify-between\">\n                      <CardTitle className=\"text-base font-semibold leading-tight\">{product.name}</CardTitle>\n                      <Badge\n                        variant=\"outline\"\n                        className={`ml-2 whitespace-nowrap ${sourceColors[product.source] || \"\"}`}\n                      >\n                        {product.source}\n                      </Badge>\n                    </div>\n                    <p className=\"mt-2 text-xl font-bold text-primary\">\n                      ${product.price.toFixed(2)}\n                    </p>\n                  </CardContent>\n                </Card>\n              );\n            })}\n          </div>\n        </CardContent>\n      </Card>\n    </div>\n  );\n}\n",
  "src/app/dashboard/voice/page.tsx": "\n\"use client\";\n\nimport { useState, useRef, useEffect } from \"react\";\nimport { Mic, Square, Loader2, Volume2, Bot, BrainCircuit, Waves } from \"lucide-react\";\nimport { useRouter } from \"next/navigation\";\nimport { Button } from \"@/components/ui/button\";\nimport {\n  Card,\n  CardContent,\n  CardDescription,\n  CardHeader,\n  CardTitle,\n} from \"@/components/ui/card\";\nimport { Textarea } from \"@/components/ui/textarea\";\nimport { useToast } from \"@/hooks/use-toast\";\nimport { convertSpeechToText } from \"@/ai/flows/convert-speech-to-text\";\nimport { convertTextToSpeech } from \"@/ai/flows/convert-text-to-speech\";\nimport { interpretCommand } from \"@/ai/flows/interpret-command\";\nimport { generateSocialMediaPost, type GenerateSocialMediaPostOutput } from \"@/ai/flows/generate-social-post\";\nimport { cn } from \"@/lib/utils\";\n\nimport { Label } from \"@/components/ui/label\";\nimport { Badge } from \"@/components/ui/badge\";\n\ntype CommandState = \n  | 'idle' \n  | 'recording' \n  | 'transcribing' \n  | 'interpreting' \n  | 'executing' \n  | 'responding';\n\ntype AgentResult = \n  | { type: 'social'; data: GenerateSocialMediaPostOutput };\n\nexport default function VoicePage() {\n  const [commandState, setCommandState] = useState<CommandState>('idle');\n  const [transcription, setTranscription] = useState(\"\");\n  const [textToSpeak, setTextToSpeak] = useState(\"Hello, I am Omarim AI. I can read any text you provide.\");\n  const [isSpeaking, setIsSpeaking] = useState(false);\n  const [agentResult, setAgentResult] = useState<AgentResult | null>(null);\n  \n  const mediaRecorderRef = useRef<MediaRecorder | null>(null);\n  const audioChunksRef = useRef<Blob[]>([]);\n  const audioPlayerRef = useRef<HTMLAudioElement>(null);\n  const [ttsAudioUrl, setTtsAudioUrl] = useState<string | null>(null);\n\n  const { toast } = useToast();\n  const router = useRouter();\n\n  useEffect(() => {\n    return () => {\n      if (mediaRecorderRef.current && mediaRecorderRef.current.state === \"recording\") {\n        mediaRecorderRef.current.stop();\n      }\n    };\n  }, []);\n\n  const handleStartRecording = async () => {\n    setTranscription(\"\");\n    setAgentResult(null);\n    setCommandState('recording');\n    try {\n      const stream = await navigator.mediaDevices.getUserMedia({ audio: true });\n      \n      const supportedTypes = ['audio/wav', 'audio/webm', 'audio/ogg'];\n      const mimeType = supportedTypes.find(type => MediaRecorder.isTypeSupported(type)) || 'audio/webm';\n\n      mediaRecorderRef.current = new MediaRecorder(stream, { mimeType });\n      audioChunksRef.current = [];\n\n      mediaRecorderRef.current.ondataavailable = (event) => {\n        audioChunksRef.current.push(event.data);\n      };\n\n      mediaRecorderRef.current.onstop = async () => {\n        const audioBlob = new Blob(audioChunksRef.current, { type: mimeType });\n        handleTranscription(audioBlob);\n        stream.getTracks().forEach(track => track.stop());\n      };\n\n      mediaRecorderRef.current.start();\n    } catch (err) {\n      console.error(\"Error accessing microphone:\", err);\n      toast({\n        title: \"Microphone Error\",\n        description: \"Could not access the microphone. Please check your browser permissions.\",\n        variant: \"destructive\",\n      });\n      setCommandState('idle');\n    }\n  };\n\n  const handleStopRecording = () => {\n    if (mediaRecorderRef.current && mediaRecorderRef.current.state === \"recording\") {\n      mediaRecorderRef.current.stop();\n      setCommandState('transcribing');\n    }\n  };\n\n  const blobToDataURL = (blob: Blob): Promise<string> => {\n    return new Promise((resolve, reject) => {\n        const reader = new FileReader();\n        reader.onloadend = () => resolve(reader.result as string);\n        reader.onerror = reject;\n        reader.readAsDataURL(blob);\n    });\n  }\n\n  const handleTranscription = async (audioBlob: Blob) => {\n    setTranscription(\"\");\n    if (audioBlob.size === 0) {\n      toast({ title: \"Transcription Failed\", description: \"No audio was recorded. Please try again.\", variant: \"destructive\" });\n      setCommandState('idle');\n      return;\n    }\n    try {\n      const audioDataUri = await blobToDataURL(audioBlob);\n      const result = await convertSpeechToText({ audioDataUri });\n      setTranscription(result.transcription);\n      if (result.transcription && result.transcription.trim() !== '') {\n        handleInterpretation(result.transcription);\n      } else {\n        toast({ title: \"Transcription Failed\", description: \"The audio was unclear or silent. Please try again.\", variant: \"destructive\" });\n        setCommandState('idle');\n      }\n    } catch (error: any) {\n      console.error(\"Transcription failed:\", error);\n      toast({ title: \"Transcription Failed\", description: error.message || \"Could not transcribe the audio.\", variant: \"destructive\" });\n      setCommandState('idle');\n    }\n  };\n\n  const handleInterpretation = async (commandText: string) => {\n    setCommandState('interpreting');\n    try {\n      const result = await interpretCommand({ command: commandText });\n      await handleExecution(result.action, result.prompt);\n    } catch (error) {\n      console.error(\"Interpretation failed:\", error);\n      toast({ title: \"Interpretation Failed\", description: \"Could not understand the command.\", variant: \"destructive\" });\n      setCommandState('idle');\n    }\n  };\n  \n  const handleExecution = async (action: string, prompt: string) => {\n    setCommandState('executing');\n    setAgentResult(null);\n    try {\n      let responseText = \"\";\n      if (action === \"generate_social_post\") {\n        const output = await generateSocialMediaPost({ topic: prompt });\n        setAgentResult({ type: 'social', data: output });\n        responseText = `This is Omarim AI. I've created a social media post about ${prompt}.`;\n      } else if (action === 'add_store') {\n        responseText = `This is Omarim AI. Understood. Navigating to integrations to add your ${prompt || 'new'} store.`;\n        setTimeout(() => router.push(`/dashboard/settings?tab=integrations&action=addStore&storeType=${prompt || ''}`), 2000);\n      } else {\n         responseText = \"This is Omarim AI. I'm sorry, I did not recognize that command. Please try again.\";\n      }\n      await handleSpeak(responseText, true);\n    } catch (error) {\n       console.error(\"Execution failed:\", error);\n       toast({ title: \"Action Failed\", description: \"There was an error performing the action.\", variant: \"destructive\" });\n       setCommandState('idle');\n    }\n  };\n\n  const handleSpeak = async (text: string, isCommandResponse = false) => {\n    if (!text) return;\n    if(isCommandResponse) {\n      setCommandState('responding');\n    } else {\n      setIsSpeaking(true);\n    }\n    setTtsAudioUrl(null);\n    try {\n      const result = await convertTextToSpeech({ text });\n      setTtsAudioUrl(result.audioDataUri);\n    } catch (error) {\n       console.error(\"Text-to-speech failed:\", error);\n      toast({\n        title: \"Text-to-Speech Failed\",\n        description: \"Could not convert text to speech. Please try again.\",\n        variant: \"destructive\",\n      });\n    } finally {\n      // The 'idle' state for command responses will be set in the onEnded event of the audio player\n      if(!isCommandResponse) {\n        setIsSpeaking(false);\n      }\n    }\n  };\n  \n  useEffect(() => {\n    if (ttsAudioUrl && audioPlayerRef.current) {\n      audioPlayerRef.current.src = ttsAudioUrl;\n      audioPlayerRef.current.play().catch(e => console.error(\"Audio playback failed\", e));\n    }\n  }, [ttsAudioUrl]);\n\n  const onAudioEnded = () => {\n    if (commandState === 'responding') {\n      setCommandState('idle');\n    }\n    setTtsAudioUrl(null);\n  };\n\n  const getStatusInfo = () => {\n    switch (commandState) {\n      case 'idle': return { icon: BrainCircuit, text: 'Ready for your command.' };\n      case 'recording': return { icon: Waves, text: 'Listening...' };\n      case 'transcribing': return { icon: Loader2, text: 'Transcribing your speech...', spin: true };\n      case 'interpreting': return { icon: Loader2, text: 'Understanding your command...', spin: true };\n      case 'executing': return { icon: Loader2, text: 'Working on your request...', spin: true };\n      case 'responding': return { icon: Loader2, text: 'Finalizing response...', spin: true };\n      default: return { icon: BrainCircuit, text: 'I am Omarim AI. Click the button and speak a command.' };\n    }\n  }\n\n  const isProcessing = commandState !== 'idle' && commandState !== 'recording';\n  const { icon: StatusIcon, text: statusText, spin: isSpinning } = getStatusInfo();\n\n  return (\n    <div className=\"space-y-6\">\n       <audio ref={audioPlayerRef} onEnded={onAudioEnded} />\n      <div>\n        <h2 className=\"text-2xl font-headline font-semibold\">Voice Tools</h2>\n        <p className=\"text-muted-foreground\">\n          Leverage speech-to-text and text-to-speech capabilities.\n        </p>\n      </div>\n\n      <div className=\"grid grid-cols-1 gap-8 md:grid-cols-2\">\n        <Card className=\"flex flex-col\">\n          <CardHeader className=\"flex-row gap-4 items-center\">\n            <Bot className=\"w-10 h-10 text-primary\" />\n            <div>\n              <CardTitle>Voice Command Center</CardTitle>\n              <CardDescription>Speak your commands to Omarim AI.</CardDescription>\n            </div>\n          </CardHeader>\n          <CardContent className=\"flex flex-grow flex-col items-center justify-center space-y-4 text-center\">\n            <Button\n              size=\"lg\"\n              onClick={commandState === 'recording' ? handleStopRecording : handleStartRecording}\n              className={cn(\n                'rounded-full w-24 h-24 transition-all duration-300 shadow-lg',\n                commandState === 'recording' ? 'bg-red-500 hover:bg-red-600 animate-pulse' : 'bg-primary hover:bg-primary/90',\n                isProcessing && 'bg-muted-foreground cursor-not-allowed'\n              )}\n              disabled={isProcessing}\n            >\n              {isProcessing ? <Loader2 size={32} className=\"animate-spin\" /> : (commandState === 'recording' ? <Square size={32} /> : <Mic size={32} />) }\n            </Button>\n            \n            <div className=\"flex items-center justify-center gap-2 text-sm text-muted-foreground h-5\">\n              <StatusIcon className={cn('h-4 w-4', isSpinning && 'animate-spin')} />\n              <span>{statusText}</span>\n            </div>\n\n            {transcription && (\n               <div className=\"w-full text-left space-y-2 pt-4\">\n                  <Label>Your Command</Label>\n                  <p className=\"text-sm italic text-foreground p-3 bg-muted rounded-md border\">{transcription}</p>\n              </div>\n            )}\n          </CardContent>\n        </Card>\n\n        <Card>\n          <CardHeader>\n            <CardTitle>Text-to-Speech</CardTitle>\n             <CardDescription>A utility to convert any text into high-quality speech.</CardDescription>\n          </CardHeader>\n          <CardContent className=\"space-y-4\">\n             <div className=\"space-y-2\">\n              <Label htmlFor=\"text-to-speak\">Text to read</Label>\n              <Textarea\n                id=\"text-to-speak\"\n                placeholder=\"Enter text here...\"\n                value={textToSpeak}\n                onChange={(e) => setTextToSpeak(e.target.value)}\n                className=\"min-h-[150px]\"\n              />\n            </div>\n            <Button onClick={() => handleSpeak(textToSpeak)} disabled={isSpeaking || !textToSpeak || commandState !== 'idle'}>\n              {isSpeaking ? (\n                <Loader2 className=\"mr-2 h-4 w-4 animate-spin\" />\n              ) : (\n                <Volume2 className=\"mr-2 h-4 w-4\" />\n              )}\n              Speak Text\n            </Button>\n             {ttsAudioUrl && commandState === 'idle' && (\n                <div className=\"pt-4\">\n                  <Label>AI Voice Output</Label>\n                  <audio src={ttsAudioUrl} controls className=\"w-full mt-2\" />\n                </div>\n              )}\n          </CardContent>\n        </Card>\n      </div>\n\n       {agentResult && (\n         <Card>\n            <CardHeader className=\"flex flex-row items-center gap-4\">\n                <Bot className=\"h-8 w-8 text-primary\" />\n                <div>\n                    <CardTitle>Agent Response</CardTitle>\n                    <CardDescription>Here is the content generated from your voice command.</CardDescription>\n                </div>\n            </CardHeader>\n            <CardContent>\n            {agentResult.type === 'social' && (\n                <div className=\"space-y-4\">\n                    <div className=\"space-y-2\">\n                        <Label htmlFor=\"post-content\">Post Content</Label>\n                        <Textarea\n                            id=\"post-content\"\n                            readOnly\n                            value={agentResult.data.postContent}\n                            className=\"h-40\"\n                        />\n                    </div>\n                    <div className=\"flex flex-wrap gap-2 pt-4\">\n                        {agentResult.data.hashtags.map((tag, index) => (\n                            <Badge key={index} variant=\"secondary\">#{tag}</Badge>\n                        ))}\n                        </div>\n                </div>\n            )}\n            </CardContent>\n         </Card>\n      )}\n    </div>\n  );\n}\n\n    \n\n    ",
  "src/app/globals.css": "@tailwind base;\n@tailwind components;\n@tailwind utilities;\n\nbody {\n  font-family: Arial, Helvetica, sans-serif;\n}\n\n@layer base {\n  :root {\n    --background: 224 71% 4%;\n    --foreground: 210 40% 98%;\n    --card: 224 71% 10%;\n    --card-foreground: 210 40% 98%;\n    --popover: 224 71% 4%;\n    --popover-foreground: 210 40% 98%;\n    --primary: 347 77% 60%;\n    --primary-foreground: 210 40% 98%;\n    --secondary: 215 28% 17%;\n    --secondary-foreground: 210 40% 98%;\n    --muted: 215 28% 17%;\n    --muted-foreground: 215 20% 65%;\n    --accent: 215 28% 17%;\n    --accent-foreground: 210 40% 98%;\n    --destructive: 0 63% 31%;\n    --destructive-foreground: 210 40% 98%;\n    --border: 215 28% 17%;\n    --input: 215 28% 17%;\n    --ring: 347 77% 60%;\n    --chart-1: 140 80% 60%; /* light green */\n    --chart-2: 260 85% 75%; /* faint purple */\n    --chart-3: 210 90% 55%; /* sky blue */\n    --chart-4: 280 85% 65%;\n    --chart-5: 340 90% 60%;\n    --radius: 0.5rem;\n    --sidebar-background: 224 71% 4%;\n    --sidebar-foreground: 210 40% 98%;\n    --sidebar-primary: 347 77% 60%;\n    --sidebar-primary-foreground: 210 40% 98%;\n    --sidebar-accent: 224 71% 10%;\n    --sidebar-accent-foreground: 210 40% 98%;\n    --sidebar-border: 215 28% 12%;\n    --sidebar-ring: 347 77% 60%;\n  }\n  .dark {\n    --background: 224 71% 4%;\n    --foreground: 210 40% 98%;\n    --card: 224 71% 10%;\n    --card-foreground: 210 40% 98%;\n    --popover: 224 71% 4%;\n    --popover-foreground: 210 40% 98%;\n    --primary: 347 77% 60%;\n    --primary-foreground: 210 40% 98%;\n    --secondary: 215 28% 17%;\n    --secondary-foreground: 210 40% 98%;\n    --muted: 215 28% 17%;\n    --muted-foreground: 215 20% 65%;\n    --accent: 215 28% 17%;\n    --accent-foreground: 210 40% 98%;\n    --destructive: 0 63% 31%;\n    --destructive-foreground: 210 40% 98%;\n    --border: 215 28% 17%;\n    --input: 215 28% 17%;\n    --ring: 347 77% 60%;\n    --chart-1: 140 80% 60%; /* light green */\n    --chart-2: 260 85% 75%; /* faint purple */\n    --chart-3: 210 90% 55%; /* sky blue */\n    --chart-4: 280 85% 65%;\n    --chart-5: 340 90% 60%;\n    --sidebar-background: 224 71% 4%;\n    --sidebar-foreground: 210 40% 98%;\n    --sidebar-primary: 347 77% 60%;\n    --sidebar-primary-foreground: 210 40% 98%;\n    --sidebar-accent: 224 71% 10%;\n    --sidebar-accent-foreground: 210 40% 98%;\n    --sidebar-border: 215 28% 12%;\n    --sidebar-ring: 347 77% 60%;\n  }\n}\n\n@layer base {\n  * {\n    @apply border-border;\n  }\n  body {\n    @apply bg-background text-foreground;\n  }\n}\n",
  "src/app/layout.tsx": "import type { Metadata } from 'next';\nimport './globals.css';\nimport { Toaster } from '@/components/ui/toaster';\nimport { FirebaseClientProvider } from '@/firebase';\nimport { Loader2 } from 'lucide-react';\nimport { Suspense } from 'react';\n\nexport const metadata: Metadata = {\n  title: 'Omarim AI',\n  description: 'The Omarim AI Full Stack Application',\n};\n\nexport default function RootLayout({\n  children,\n}: Readonly<{\n  children: React.ReactNode;\n}>) {\n  return (\n    <html lang=\"en\" suppressHydrationWarning className=\"dark\">\n      <head>\n        <link rel=\"preconnect\" href=\"https://fonts.googleapis.com\" />\n        <link rel=\"preconnect\" href=\"https://fonts.gstatic.com\" crossOrigin=\"anonymous\" />\n        <link\n          href=\"https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Space+Grotesk:wght@400;500;600;700&display=swap\"\n          rel=\"stylesheet\"\n        />\n      </head>\n      <body className=\"font-body antialiased\">\n        <Suspense fallback={\n          <div className=\"flex h-screen w-screen items-center justify-center bg-background\">\n            <Loader2 className=\"h-8 w-8 animate-spin\" />\n          </div>\n        }>\n          <FirebaseClientProvider>{children}</FirebaseClientProvider>\n        </Suspense>\n        <Toaster />\n      </body>\n    </html>\n  );\n}\n",
  "src/app/login/page.tsx": "\"use client\"\n\nimport Link from \"next/link\"\nimport Image from \"next/image\"\nimport { useRouter } from \"next/navigation\"\nimport { useForm } from \"react-hook-form\"\nimport { zodResolver } from \"@hookform/resolvers/zod\"\nimport * as z from \"zod\"\nimport { useEffect } from \"react\"\nimport { Loader2 } from \"lucide-react\"\n\nimport { Icons } from \"@/components/icons\"\nimport { Button } from \"@/components/ui/button\"\nimport {\n  Card,\n  CardContent,\n  CardDescription,\n  CardFooter,\n  CardHeader,\n  CardTitle,\n} from \"@/components/ui/card\"\nimport {\n  Form,\n  FormControl,\n  FormField,\n  FormItem,\n  FormLabel,\n  FormMessage,\n} from \"@/components/ui/form\"\nimport { Input } from \"@/components/ui/input\"\nimport { useAuth, useUser, initiateEmailSignIn } from \"@/firebase\"\n\nconst formSchema = z.object({\n  email: z.string().email({ message: \"Please enter a valid email.\" }),\n  password: z.string().min(1, { message: \"Password is required.\" }),\n})\n\nexport default function LoginPage() {\n  const router = useRouter()\n  const auth = useAuth()\n  const { user, isUserLoading } = useUser()\n\n  const form = useForm<z.infer<typeof formSchema>>({\n    resolver: zodResolver(formSchema),\n    defaultValues: {\n      email: \"\",\n      password: \"\",\n    },\n  })\n\n  useEffect(() => {\n    if (!isUserLoading && user) {\n      router.push(\"/dashboard\")\n    }\n  }, [user, isUserLoading, router])\n\n  function onSubmit(values: z.infer<typeof formSchema>) {\n    initiateEmailSignIn(auth, values.email, values.password)\n  }\n\n  if (isUserLoading || user) {\n    return (\n      <div className=\"relative flex min-h-screen flex-col items-center justify-center\">\n        <Loader2 className=\"h-8 w-8 animate-spin\" />\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"relative flex min-h-screen flex-col items-center justify-center\">\n      <Image\n        src=\"https://images.unsplash.com/photo-1534796636912-3b95b3ab5986?q=80&w=2071&auto=format&fit=crop\"\n        alt=\"Futuristic background\"\n        fill\n        className=\"-z-10 object-cover opacity-40\"\n        data-ai-hint=\"abstract space\"\n      />\n      <Card className=\"w-full max-w-sm border-white/20\">\n        <CardHeader className=\"space-y-1 text-center\">\n          <div className=\"mx-auto flex h-12 w-12 items-center justify-center rounded-full bg-primary/10\">\n            <Icons.logo className=\"h-8 w-8 text-primary\" />\n          </div>\n          <CardTitle className=\"font-headline text-2xl\">Welcome Back</CardTitle>\n          <CardDescription>\n            Enter your email below to login to your account\n          </CardDescription>\n        </CardHeader>\n        <Form {...form}>\n          <form onSubmit={form.handleSubmit(onSubmit)} className=\"space-y-8\">\n            <CardContent className=\"grid gap-4\">\n              <FormField\n                control={form.control}\n                name=\"email\"\n                render={({ field }) => (\n                  <FormItem>\n                    <FormLabel>Email</FormLabel>\n                    <FormControl>\n                      <Input type=\"email\" placeholder=\"m@example.com\" {...field} />\n                    </FormControl>\n                    <FormMessage />\n                  </FormItem>\n                )}\n              />\n              <FormField\n                control={form.control}\n                name=\"password\"\n                render={({ field }) => (\n                  <FormItem>\n                    <FormLabel>Password</FormLabel>\n                    <FormControl>\n                      <Input type=\"password\" {...field} />\n                    </FormControl>\n                    <FormMessage />\n                  </FormItem>\n                )}\n              />\n            </CardContent>\n            <CardFooter className=\"flex flex-col gap-4\">\n              <Button className=\"w-full\" type=\"submit\">Login</Button>\n              <div className=\"text-center text-sm text-muted-foreground\">\n                Don&apos;t have an account?{\" \"}\n                <Link href=\"/signup\" className=\"underline hover:text-primary\">\n                  Sign up\n                </Link>\n              </div>\n            </CardFooter>\n          </form>\n        </Form>\n      </Card>\n    </div>\n  )\n}\n",
  "src/app/page.tsx": "import { redirect } from 'next/navigation';\n\nexport default function Home() {\n  redirect('/login');\n}\n",
  "src/app/schemas.ts": "\nimport { z } from \"zod\";\n\n// This schema is used by the client-side action and the server-side flow.\n// It is safe to be in a shared location.\nexport const GenerateProductCampaignInputSchema = z.object({\n    productName: z.string().describe(\"The name of the trending product.\"),\n    description: z.string().describe(\"A brief description of the product and why it's trending.\"),\n    targetAudience: z.string().describe(\"The primary target audience for this product.\"),\n    estimatedSalePrice: z.number().describe(\"The estimated retail price for the product.\"),\n    supplier: z.object({\n        name: z.string().describe(\"The name of a plausible, fictional supplier for this product.\"),\n        contactEmail: z.string().email().describe(\"A plausible fictional email address for the supplier.\"),\n    }).describe(\"Information about a potential supplier.\"),\n    marketingAngle: z.string().describe(\"A creative marketing angle to promote this product, suitable for a social media or email campaign.\"),\n});\n\nexport type GenerateProductCampaignInput = z.infer<typeof GenerateProductCampaignInputSchema>;\n",
  "src/app/signup/page.tsx": "\n\"use client\"\n\nimport Link from \"next/link\"\nimport Image from \"next/image\"\nimport { useRouter } from \"next/navigation\"\nimport { useForm } from \"react-hook-form\"\nimport { zodResolver } from \"@hookform/resolvers/zod\"\nimport * as z from \"zod\"\nimport { useEffect } from \"react\"\nimport { doc } from \"firebase/firestore\"\nimport { Loader2 } from \"lucide-react\"\n\nimport { Icons } from \"@/components/icons\"\nimport { Button } from \"@/components/ui/button\"\nimport {\n  Card,\n  CardContent,\n  CardDescription,\n  CardFooter,\n  CardHeader,\n  CardTitle,\n} from \"@/components/ui/card\"\nimport {\n  Form,\n  FormControl,\n  FormField,\n  FormItem,\n  FormLabel,\n  FormMessage,\n} from \"@/components/ui/form\"\nimport { Input } from \"@/components/ui/input\"\nimport { useAuth, useUser, useFirestore, setDocumentNonBlocking } from \"@/firebase\"\nimport { createUserWithEmailAndPassword } from \"firebase/auth\"\n\nconst formSchema = z.object({\n  firstName: z.string().min(1, { message: \"First name is required.\" }),\n  lastName: z.string().min(1, { message: \"Last name is required.\" }),\n  email: z.string().email({ message: \"Please enter a valid email.\" }),\n  password: z.string().min(6, { message: \"Password must be at least 6 characters.\" }),\n})\n\nexport default function SignupPage() {\n  const router = useRouter()\n  const auth = useAuth()\n  const firestore = useFirestore()\n  const { user, isUserLoading } = useUser()\n\n  const form = useForm<z.infer<typeof formSchema>>({\n    resolver: zodResolver(formSchema),\n    defaultValues: {\n      firstName: \"\",\n      lastName: \"\",\n      email: \"\",\n      password: \"\",\n    },\n  })\n\n  useEffect(() => {\n    if (!isUserLoading && user) {\n      router.push(\"/dashboard\")\n    }\n  }, [user, isUserLoading, router])\n\n  async function onSubmit(values: z.infer<typeof formSchema>) {\n    try {\n      const userCredential = await createUserWithEmailAndPassword(auth, values.email, values.password);\n      const user = userCredential.user;\n      \n      if (user && firestore) {\n        const userDocRef = doc(firestore, \"users\", user.uid);\n        const userData = {\n          firstName: values.firstName,\n          lastName: values.lastName,\n          email: values.email,\n        };\n        setDocumentNonBlocking(userDocRef, userData);\n      }\n    } catch (error) {\n      console.error(\"Error signing up:\", error);\n    }\n  }\n\n  if (isUserLoading || user) {\n    return (\n      <div className=\"relative flex min-h-screen flex-col items-center justify-center\">\n        <Loader2 className=\"h-8 w-8 animate-spin\" />\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"relative flex min-h-screen flex-col items-center justify-center\">\n       <Image\n        src=\"https://images.unsplash.com/photo-1534796636912-3b95b3ab5986?q=80&w=2071&auto=format&fit=crop\"\n        alt=\"Futuristic background\"\n        fill\n        className=\"-z-10 object-cover opacity-40\"\n        data-ai-hint=\"abstract space\"\n      />\n      <Card className=\"w-full max-w-sm border-white/20\">\n        <CardHeader className=\"space-y-1 text-center\">\n          <div className=\"mx-auto flex h-12 w-12 items-center justify-center rounded-full bg-primary/10\">\n            <Icons.logo className=\"h-8 w-8 text-primary\" />\n          </div>\n          <CardTitle className=\"font-headline text-2xl\">Create an account</CardTitle>\n          <CardDescription>\n            Enter your information to create an account\n          </CardDescription>\n        </CardHeader>\n        <Form {...form}>\n          <form onSubmit={form.handleSubmit(onSubmit)} className=\"space-y-4\">\n            <CardContent className=\"grid gap-4\">\n              <div className=\"grid grid-cols-2 gap-4\">\n                <FormField\n                  control={form.control}\n                  name=\"firstName\"\n                  render={({ field }) => (\n                    <FormItem>\n                      <FormLabel>First Name</FormLabel>\n                      <FormControl>\n                        <Input placeholder=\"John\" {...field} />\n                      </FormControl>\n                      <FormMessage />\n                    </FormItem>\n                  )}\n                />\n                <FormField\n                  control={form.control}\n                  name=\"lastName\"\n                  render={({ field }) => (\n                    <FormItem>\n                      <FormLabel>Last Name</FormLabel>\n                      <FormControl>\n                        <Input placeholder=\"Doe\" {...field} />\n                      </FormControl>\n                      <FormMessage />\n                    </FormItem>\n                  )}\n                />\n              </div>\n              <FormField\n                control={form.control}\n                name=\"email\"\n                render={({ field }) => (\n                  <FormItem>\n                    <FormLabel>Email</FormLabel>\n                    <FormControl>\n                      <Input type=\"email\" placeholder=\"m@example.com\" {...field} />\n                    </FormControl>\n                    <FormMessage />\n                  </FormItem>\n                )}\n              />\n              <FormField\n                control={form.control}\n                name=\"password\"\n                render={({ field }) => (\n                  <FormItem>\n                    <FormLabel>Password</FormLabel>\n                    <FormControl>\n                      <Input type=\"password\" {...field} />\n                    </FormControl>\n                    <FormMessage />\n                  </FormItem>\n                )}\n              />\n            </CardContent>\n            <CardFooter className=\"flex flex-col gap-4\">\n              <Button className=\"w-full\" type=\"submit\">Create Account</Button>\n              <div className=\"text-center text-sm text-muted-foreground\">\n                Already have an account?{\" \"}\n                <Link href=\"/login\" className=\"underline hover:text-primary\">\n                  Login\n                </Link>\n              </div>\n            </CardFooter>\n          </form>\n        </Form>\n      </Card>\n    </div>\n  )\n}\n",
  "src/components/FirebaseErrorListener.tsx": "\n'use client';\n\nimport { useState, useEffect } from 'react';\nimport { errorEmitter } from '@/firebase/error-emitter';\nimport { FirestorePermissionError } from '@/firebase/errors';\n\n/**\n * An invisible component that listens for globally emitted 'permission-error' events.\n * It throws any received error to be caught by Next.js's global-error.tsx.\n */\nexport function FirebaseErrorListener() {\n  // Use the specific error type for the state for type safety.\n  const [error, setError] = useState<FirestorePermissionError | null>(null);\n\n  useEffect(() => {\n    // The callback now expects a strongly-typed error, matching the event payload.\n    const handleError = (error: FirestorePermissionError) => {\n      // Set error in state to trigger a re-render.\n      setError(error);\n    };\n\n    // The typed emitter will enforce that the callback for 'permission-error'\n    // matches the expected payload type (FirestorePermissionError).\n    errorEmitter.on('permission-error', handleError);\n\n    // Unsubscribe on unmount to prevent memory leaks.\n    return () => {\n      errorEmitter.off('permission-error', handleError);\n    };\n  }, []);\n\n  // On re-render, if an error exists in state, throw it.\n  if (error) {\n    throw error;\n  }\n\n  // This component renders nothing.\n  return null;\n}\n",
  "src/components/dashboard-nav.tsx": "\n\"use client\"\n\nimport Link from \"next/link\"\nimport { usePathname } from \"next/navigation\"\nimport { useState } from \"react\"\nimport {\n  Bot,\n  Building2,\n  ChevronDown,\n  FolderKanban,\n  Home,\n  Inbox,\n  MessageCircle,\n  Mic,\n  Package,\n  Send,\n  Settings,\n  BotMessageSquare,\n  Share2,\n  ShoppingBag,\n} from \"lucide-react\"\nimport {\n  Collapsible,\n  CollapsibleContent,\n  CollapsibleTrigger,\n} from \"@/components/ui/collapsible\"\nimport {\n  SidebarMenu,\n  SidebarMenuItem,\n  SidebarMenuButton,\n  SidebarGroupLabel,\n  SidebarSeparator\n} from \"@/components/ui/sidebar\"\nimport { cn } from \"@/lib/utils\"\n\nconst mainNav = [\n  { href: \"/dashboard\", icon: Home, label: \"Dashboard\" },\n  { href: \"/dashboard/chat\", icon: MessageCircle, label: \"Omarim Chat\" },\n];\n\nconst featureNav = [\n  { href: \"/dashboard/agent\", icon: Bot, label: \"Autonomous Agent\" },\n  { href: \"/dashboard/digital-products\", icon: ShoppingBag, label: \"Digital Products\" },\n  { href: \"/dashboard/leads\", icon: FolderKanban, label: \"Lead Intelligence\" },\n  { href: \"/dashboard/outreach\", icon: Send, label: \"Outreach Engine\" },\n  { href: \"/dashboard/stores\", icon: Building2, label: \"E-Commerce\" },\n  { href: \"/dashboard/publisher\", icon: Share2, label: \"Social Publisher\" },\n  { href: \"/dashboard/app-builder\", icon: Package, label: \"App Builder\" },\n];\n\nconst secondaryNav = [\n  { href: \"/dashboard/inbox\", icon: Inbox, label: \"Inbox\" },\n  { href: \"/dashboard/voice\", icon: Mic, label: \"Voice Tools\" },\n  { href: \"/dashboard/new-site\", icon: BotMessageSquare, label: \"Intake Form\" },\n];\n\nconst NavGroup = ({\n  label,\n  navItems,\n}: {\n  label: string\n  navItems: typeof mainNav\n}) => {\n  const pathname = usePathname()\n  const [isOpen, setIsOpen] = useState(\n    navItems.some((item) => pathname.startsWith(item.href) && (item.href !== '/dashboard' || pathname === '/dashboard'))\n  )\n\n  return (\n    <Collapsible open={isOpen} onOpenChange={setIsOpen}>\n      <CollapsibleTrigger className=\"flex w-full items-center justify-between rounded-md px-2 h-8 text-sm font-medium text-sidebar-foreground/70 hover:bg-sidebar-accent\">\n        {label}\n        <ChevronDown\n          className={cn(\n            \"h-4 w-4 transition-transform\",\n            isOpen ? \"rotate-180\" : \"\"\n          )}\n        />\n      </CollapsibleTrigger>\n      <CollapsibleContent>\n        <div className=\"py-1 pl-4\">\n          <SidebarMenu>\n            {navItems.map((item) => (\n              <SidebarMenuItem key={item.href}>\n                <SidebarMenuButton\n                  asChild\n                  isActive={pathname.startsWith(item.href) && (item.href !== '/dashboard' || pathname === '/dashboard')}\n                  tooltip={item.label}\n                  size=\"sm\"\n                >\n                  <Link href={item.href}>\n                    <item.icon />\n                    <span>{item.label}</span>\n                  </Link>\n                </SidebarMenuButton>\n              </SidebarMenuItem>\n            ))}\n          </SidebarMenu>\n        </div>\n      </CollapsibleContent>\n    </Collapsible>\n  )\n}\n\nexport function DashboardNav() {\n  const pathname = usePathname()\n\n  return (\n    <SidebarMenu>\n      {mainNav.map((item) => (\n        <SidebarMenuItem key={item.href}>\n          <SidebarMenuButton\n            asChild\n            isActive={pathname === item.href}\n            tooltip={item.label}\n          >\n            <Link href={item.href}>\n              <item.icon />\n              <span>{item.label}</span>\n            </Link>\n          </SidebarMenuButton>\n        </SidebarMenuItem>\n      ))}\n\n      <SidebarSeparator />\n      \n      <NavGroup label=\"Features\" navItems={featureNav} />\n\n      <SidebarSeparator />\n\n      <NavGroup label=\"Tools\" navItems={secondaryNav} />\n\n      <SidebarMenuItem className=\"mt-auto\">\n        <SidebarMenuButton\n          asChild\n          isActive={pathname.startsWith(\"/dashboard/settings\")}\n          tooltip=\"Settings\"\n        >\n          <Link href=\"/dashboard/settings\">\n            <Settings />\n            <span>Settings</span>\n          </Link>\n        </SidebarMenuButton>\n      </SidebarMenuItem>\n    </SidebarMenu>\n  )\n}\n",
  "src/components/icons.tsx": "import type { SVGProps } from \"react\"\n\nexport const Icons = {\n  logo: (props: SVGProps<SVGSVGElement>) => (\n    <svg\n      xmlns=\"http://www.w3.org/2000/svg\"\n      viewBox=\"0 0 24 24\"\n      fill=\"none\"\n      stroke=\"currentColor\"\n      strokeWidth=\"2\"\n      strokeLinecap=\"round\"\n      strokeLinejoin=\"round\"\n      {...props}\n    >\n      <path d=\"M12 2L2 7l10 5 10-5-10-5z\" />\n      <path d=\"M2 17l10 5 10-5\" />\n      <path d=\"M2 12l10 5 10-5\" />\n    </svg>\n  ),\n};\n",
  "src/components/ui/accordion.tsx": "\"use client\"\n\nimport * as React from \"react\"\nimport * as AccordionPrimitive from \"@radix-ui/react-accordion\"\nimport { ChevronDown } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Accordion = AccordionPrimitive.Root\n\nconst AccordionItem = React.forwardRef<\n  React.ElementRef<typeof AccordionPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof AccordionPrimitive.Item>\n>(({ className, ...props }, ref) => (\n  <AccordionPrimitive.Item\n    ref={ref}\n    className={cn(\"border-b\", className)}\n    {...props}\n  />\n))\nAccordionItem.displayName = \"AccordionItem\"\n\nconst AccordionTrigger = React.forwardRef<\n  React.ElementRef<typeof AccordionPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof AccordionPrimitive.Trigger>\n>(({ className, children, ...props }, ref) => (\n  <AccordionPrimitive.Header className=\"flex\">\n    <AccordionPrimitive.Trigger\n      ref={ref}\n      className={cn(\n        \"flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180\",\n        className\n      )}\n      {...props}\n    >\n      {children}\n      <ChevronDown className=\"h-4 w-4 shrink-0 transition-transform duration-200\" />\n    </AccordionPrimitive.Trigger>\n  </AccordionPrimitive.Header>\n))\nAccordionTrigger.displayName = AccordionPrimitive.Trigger.displayName\n\nconst AccordionContent = React.forwardRef<\n  React.ElementRef<typeof AccordionPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof AccordionPrimitive.Content>\n>(({ className, children, ...props }, ref) => (\n  <AccordionPrimitive.Content\n    ref={ref}\n    className=\"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down\"\n    {...props}\n  >\n    <div className={cn(\"pb-4 pt-0\", className)}>{children}</div>\n  </AccordionPrimitive.Content>\n))\n\nAccordionContent.displayName = AccordionPrimitive.Content.displayName\n\nexport { Accordion, AccordionItem, AccordionTrigger, AccordionContent }\n",
  "src/components/ui/alert-dialog.tsx": "\"use client\"\n\nimport * as React from \"react\"\nimport * as AlertDialogPrimitive from \"@radix-ui/react-alert-dialog\"\n\nimport { cn } from \"@/lib/utils\"\nimport { buttonVariants } from \"@/components/ui/button\"\n\nconst AlertDialog = AlertDialogPrimitive.Root\n\nconst AlertDialogTrigger = AlertDialogPrimitive.Trigger\n\nconst AlertDialogPortal = AlertDialogPrimitive.Portal\n\nconst AlertDialogOverlay = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Overlay\n    className={cn(\n      \"fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0\",\n      className\n    )}\n    {...props}\n    ref={ref}\n  />\n))\nAlertDialogOverlay.displayName = AlertDialogPrimitive.Overlay.displayName\n\nconst AlertDialogContent = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Content>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPortal>\n    <AlertDialogOverlay />\n    <AlertDialogPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg\",\n        className\n      )}\n      {...props}\n    />\n  </AlertDialogPortal>\n))\nAlertDialogContent.displayName = AlertDialogPrimitive.Content.displayName\n\nconst AlertDialogHeader = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col space-y-2 text-center sm:text-left\",\n      className\n    )}\n    {...props}\n  />\n)\nAlertDialogHeader.displayName = \"AlertDialogHeader\"\n\nconst AlertDialogFooter = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2\",\n      className\n    )}\n    {...props}\n  />\n)\nAlertDialogFooter.displayName = \"AlertDialogFooter\"\n\nconst AlertDialogTitle = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Title\n    ref={ref}\n    className={cn(\"text-lg font-semibold\", className)}\n    {...props}\n  />\n))\nAlertDialogTitle.displayName = AlertDialogPrimitive.Title.displayName\n\nconst AlertDialogDescription = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Description\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nAlertDialogDescription.displayName =\n  AlertDialogPrimitive.Description.displayName\n\nconst AlertDialogAction = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Action>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Action>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Action\n    ref={ref}\n    className={cn(buttonVariants(), className)}\n    {...props}\n  />\n))\nAlertDialogAction.displayName = AlertDialogPrimitive.Action.displayName\n\nconst AlertDialogCancel = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Cancel>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Cancel>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Cancel\n    ref={ref}\n    className={cn(\n      buttonVariants({ variant: \"outline\" }),\n      \"mt-2 sm:mt-0\",\n      className\n    )}\n    {...props}\n  />\n))\nAlertDialogCancel.displayName = AlertDialogPrimitive.Cancel.displayName\n\nexport {\n  AlertDialog,\n  AlertDialogPortal,\n  AlertDialogOverlay,\n  AlertDialogTrigger,\n  AlertDialogContent,\n  AlertDialogHeader,\n  AlertDialogFooter,\n  AlertDialogTitle,\n  AlertDialogDescription,\n  AlertDialogAction,\n  AlertDialogCancel,\n}\n",
  "src/components/ui/alert.tsx": "import * as React from \"react\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst alertVariants = cva(\n  \"relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-background text-foreground\",\n        destructive:\n          \"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  }\n)\n\nconst Alert = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement> & VariantProps<typeof alertVariants>\n>(({ className, variant, ...props }, ref) => (\n  <div\n    ref={ref}\n    role=\"alert\"\n    className={cn(alertVariants({ variant }), className)}\n    {...props}\n  />\n))\nAlert.displayName = \"Alert\"\n\nconst AlertTitle = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLHeadingElement>\n>(({ className, ...props }, ref) => (\n  <h5\n    ref={ref}\n    className={cn(\"mb-1 font-medium leading-none tracking-tight\", className)}\n    {...props}\n  />\n))\nAlertTitle.displayName = \"AlertTitle\"\n\nconst AlertDescription = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLParagraphElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"text-sm [&_p]:leading-relaxed\", className)}\n    {...props}\n  />\n))\nAlertDescription.displayName = \"AlertDescription\"\n\nexport { Alert, AlertTitle, AlertDescription }\n",
  "src/components/ui/avatar.tsx": "\"use client\"\n\nimport * as React from \"react\"\nimport * as AvatarPrimitive from \"@radix-ui/react-avatar\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Avatar = React.forwardRef<\n  React.ElementRef<typeof AvatarPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Root>\n>(({ className, ...props }, ref) => (\n  <AvatarPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full\",\n      className\n    )}\n    {...props}\n  />\n))\nAvatar.displayName = AvatarPrimitive.Root.displayName\n\nconst AvatarImage = React.forwardRef<\n  React.ElementRef<typeof AvatarPrimitive.Image>,\n  React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Image>\n>(({ className, ...props }, ref) => (\n  <AvatarPrimitive.Image\n    ref={ref}\n    className={cn(\"aspect-square h-full w-full\", className)}\n    {...props}\n  />\n))\nAvatarImage.displayName = AvatarPrimitive.Image.displayName\n\nconst AvatarFallback = React.forwardRef<\n  React.ElementRef<typeof AvatarPrimitive.Fallback>,\n  React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Fallback>\n>(({ className, ...props }, ref) => (\n  <AvatarPrimitive.Fallback\n    ref={ref}\n    className={cn(\n      \"flex h-full w-full items-center justify-center rounded-full bg-muted\",\n      className\n    )}\n    {...props}\n  />\n))\nAvatarFallback.displayName = AvatarPrimitive.Fallback.displayName\n\nexport { Avatar, AvatarImage, AvatarFallback }\n",
  "src/components/ui/badge.tsx": "import * as React from \"react\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst badgeVariants = cva(\n  \"inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2\",\n  {\n    variants: {\n      variant: {\n        default:\n          \"border-transparent bg-primary text-primary-foreground hover:bg-primary/80\",\n        secondary:\n          \"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80\",\n        destructive:\n          \"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80\",\n        outline: \"text-foreground\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  }\n)\n\nexport interface BadgeProps\n  extends React.HTMLAttributes<HTMLDivElement>,\n    VariantProps<typeof badgeVariants> {}\n\nfunction Badge({ className, variant, ...props }: BadgeProps) {\n  return (\n    <div className={cn(badgeVariants({ variant }), className)} {...props} />\n  )\n}\n\nexport { Badge, badgeVariants }\n",
  "src/components/ui/button.tsx": "import * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst buttonVariants = cva(\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-primary text-primary-foreground hover:bg-primary/90\",\n        destructive:\n          \"bg-destructive text-destructive-foreground hover:bg-destructive/90\",\n        outline:\n          \"border border-input bg-background hover:bg-accent hover:text-accent-foreground\",\n        secondary:\n          \"bg-secondary text-secondary-foreground hover:bg-secondary/80\",\n        ghost: \"hover:bg-accent hover:text-accent-foreground\",\n        link: \"text-primary underline-offset-4 hover:underline\",\n      },\n      size: {\n        default: \"h-10 px-4 py-2\",\n        sm: \"h-9 rounded-md px-3\",\n        lg: \"h-11 rounded-md px-8\",\n        icon: \"h-10 w-10\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  }\n)\n\nexport interface ButtonProps\n  extends React.ButtonHTMLAttributes<HTMLButtonElement>,\n    VariantProps<typeof buttonVariants> {\n  asChild?: boolean\n}\n\nconst Button = React.forwardRef<HTMLButtonElement, ButtonProps>(\n  ({ className, variant, size, asChild = false, ...props }, ref) => {\n    const Comp = asChild ? Slot : \"button\"\n    return (\n      <Comp\n        className={cn(buttonVariants({ variant, size, className }))}\n        ref={ref}\n        {...props}\n      />\n    )\n  }\n)\nButton.displayName = \"Button\"\n\nexport { Button, buttonVariants }\n",
  "src/components/ui/calendar.tsx": "\"use client\"\n\nimport * as React from \"react\"\nimport { ChevronLeft, ChevronRight } from \"lucide-react\"\nimport { DayPicker } from \"react-day-picker\"\n\nimport { cn } from \"@/lib/utils\"\nimport { buttonVariants } from \"@/components/ui/button\"\n\nexport type CalendarProps = React.ComponentProps<typeof DayPicker>\n\nfunction Calendar({\n  className,\n  classNames,\n  showOutsideDays = true,\n  ...props\n}: CalendarProps) {\n  return (\n    <DayPicker\n      showOutsideDays={showOutsideDays}\n      className={cn(\"p-3\", className)}\n      classNames={{\n        months: \"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0\",\n        month: \"space-y-4\",\n        caption: \"flex justify-center pt-1 relative items-center\",\n        caption_label: \"text-sm font-medium\",\n        nav: \"space-x-1 flex items-center\",\n        nav_button: cn(\n          buttonVariants({ variant: \"outline\" }),\n          \"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100\"\n        ),\n        nav_button_previous: \"absolute left-1\",\n        nav_button_next: \"absolute right-1\",\n        table: \"w-full border-collapse space-y-1\",\n        head_row: \"flex\",\n        head_cell:\n          \"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]\",\n        row: \"flex w-full mt-2\",\n        cell: \"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20\",\n        day: cn(\n          buttonVariants({ variant: \"ghost\" }),\n          \"h-9 w-9 p-0 font-normal aria-selected:opacity-100\"\n        ),\n        day_range_end: \"day-range-end\",\n        day_selected:\n          \"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground\",\n        day_today: \"bg-accent text-accent-foreground\",\n        day_outside:\n          \"day-outside text-muted-foreground aria-selected:bg-accent/50 aria-selected:text-muted-foreground\",\n        day_disabled: \"text-muted-foreground opacity-50\",\n        day_range_middle:\n          \"aria-selected:bg-accent aria-selected:text-accent-foreground\",\n        day_hidden: \"invisible\",\n        ...classNames,\n      }}\n      components={{\n        IconLeft: ({ className, ...props }) => (\n          <ChevronLeft className={cn(\"h-4 w-4\", className)} {...props} />\n        ),\n        IconRight: ({ className, ...props }) => (\n          <ChevronRight className={cn(\"h-4 w-4\", className)} {...props} />\n        ),\n      }}\n      {...props}\n    />\n  )\n}\nCalendar.displayName = \"Calendar\"\n\nexport { Calendar }\n",
  "src/components/ui/card.tsx": "\nimport * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Card = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\n      \"rounded-lg border bg-card text-card-foreground shadow-sm\",\n      className\n    )}\n    {...props}\n  />\n))\nCard.displayName = \"Card\"\n\nconst CardHeader = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex flex-col space-y-1.5 p-6\", className)}\n    {...props}\n  />\n))\nCardHeader.displayName = \"CardHeader\"\n\nconst CardTitle = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLHeadingElement>\n>(({ className, ...props }, ref) => (\n  <h3\n    ref={ref}\n    className={cn(\n      \"font-headline text-2xl font-semibold leading-none tracking-tight\",\n      className\n    )}\n    {...props}\n  />\n))\nCardTitle.displayName = \"CardTitle\"\n\nconst CardDescription = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLParagraphElement>\n>(({ className, ...props }, ref) => (\n  <p\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nCardDescription.displayName = \"CardDescription\"\n\nconst CardContent = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div ref={ref} className={cn(\"p-6 pt-0\", className)} {...props} />\n))\nCardContent.displayName = \"CardContent\"\n\nconst CardFooter = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex items-center p-6 pt-0\", className)}\n    {...props}\n  />\n))\nCardFooter.displayName = \"CardFooter\"\n\nexport { Card, CardHeader, CardFooter, CardTitle, CardDescription, CardContent }\n",
  "src/components/ui/carousel.tsx": "\"use client\"\n\nimport * as React from \"react\"\nimport useEmblaCarousel, {\n  type UseEmblaCarouselType,\n} from \"embla-carousel-react\"\nimport { ArrowLeft, ArrowRight } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\nimport { Button } from \"@/components/ui/button\"\n\ntype CarouselApi = UseEmblaCarouselType[1]\ntype UseCarouselParameters = Parameters<typeof useEmblaCarousel>\ntype CarouselOptions = UseCarouselParameters[0]\ntype CarouselPlugin = UseCarouselParameters[1]\n\ntype CarouselProps = {\n  opts?: CarouselOptions\n  plugins?: CarouselPlugin\n  orientation?: \"horizontal\" | \"vertical\"\n  setApi?: (api: CarouselApi) => void\n}\n\ntype CarouselContextProps = {\n  carouselRef: ReturnType<typeof useEmblaCarousel>[0]\n  api: ReturnType<typeof useEmblaCarousel>[1]\n  scrollPrev: () => void\n  scrollNext: () => void\n  canScrollPrev: boolean\n  canScrollNext: boolean\n} & CarouselProps\n\nconst CarouselContext = React.createContext<CarouselContextProps | null>(null)\n\nfunction useCarousel() {\n  const context = React.useContext(CarouselContext)\n\n  if (!context) {\n    throw new Error(\"useCarousel must be used within a <Carousel />\")\n  }\n\n  return context\n}\n\nconst Carousel = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement> & CarouselProps\n>(\n  (\n    {\n      orientation = \"horizontal\",\n      opts,\n      setApi,\n      plugins,\n      className,\n      children,\n      ...props\n    },\n    ref\n  ) => {\n    const [carouselRef, api] = useEmblaCarousel(\n      {\n        ...opts,\n        axis: orientation === \"horizontal\" ? \"x\" : \"y\",\n      },\n      plugins\n    )\n    const [canScrollPrev, setCanScrollPrev] = React.useState(false)\n    const [canScrollNext, setCanScrollNext] = React.useState(false)\n\n    const onSelect = React.useCallback((api: CarouselApi) => {\n      if (!api) {\n        return\n      }\n\n      setCanScrollPrev(api.canScrollPrev())\n      setCanScrollNext(api.canScrollNext())\n    }, [])\n\n    const scrollPrev = React.useCallback(() => {\n      api?.scrollPrev()\n    }, [api])\n\n    const scrollNext = React.useCallback(() => {\n      api?.scrollNext()\n    }, [api])\n\n    const handleKeyDown = React.useCallback(\n      (event: React.KeyboardEvent<HTMLDivElement>) => {\n        if (event.key === \"ArrowLeft\") {\n          event.preventDefault()\n          scrollPrev()\n        } else if (event.key === \"ArrowRight\") {\n          event.preventDefault()\n          scrollNext()\n        }\n      },\n      [scrollPrev, scrollNext]\n    )\n\n    React.useEffect(() => {\n      if (!api || !setApi) {\n        return\n      }\n\n      setApi(api)\n    }, [api, setApi])\n\n    React.useEffect(() => {\n      if (!api) {\n        return\n      }\n\n      onSelect(api)\n      api.on(\"reInit\", onSelect)\n      api.on(\"select\", onSelect)\n\n      return () => {\n        api?.off(\"select\", onSelect)\n      }\n    }, [api, onSelect])\n\n    return (\n      <CarouselContext.Provider\n        value={{\n          carouselRef,\n          api: api,\n          opts,\n          orientation:\n            orientation || (opts?.axis === \"y\" ? \"vertical\" : \"horizontal\"),\n          scrollPrev,\n          scrollNext,\n          canScrollPrev,\n          canScrollNext,\n        }}\n      >\n        <div\n          ref={ref}\n          onKeyDownCapture={handleKeyDown}\n          className={cn(\"relative\", className)}\n          role=\"region\"\n          aria-roledescription=\"carousel\"\n          {...props}\n        >\n          {children}\n        </div>\n      </CarouselContext.Provider>\n    )\n  }\n)\nCarousel.displayName = \"Carousel\"\n\nconst CarouselContent = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => {\n  const { carouselRef, orientation } = useCarousel()\n\n  return (\n    <div ref={carouselRef} className=\"overflow-hidden\">\n      <div\n        ref={ref}\n        className={cn(\n          \"flex\",\n          orientation === \"horizontal\" ? \"-ml-4\" : \"-mt-4 flex-col\",\n          className\n        )}\n        {...props}\n      />\n    </div>\n  )\n})\nCarouselContent.displayName = \"CarouselContent\"\n\nconst CarouselItem = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => {\n  const { orientation } = useCarousel()\n\n  return (\n    <div\n      ref={ref}\n      role=\"group\"\n      aria-roledescription=\"slide\"\n      className={cn(\n        \"min-w-0 shrink-0 grow-0 basis-full\",\n        orientation === \"horizontal\" ? \"pl-4\" : \"pt-4\",\n        className\n      )}\n      {...props}\n    />\n  )\n})\nCarouselItem.displayName = \"CarouselItem\"\n\nconst CarouselPrevious = React.forwardRef<\n  HTMLButtonElement,\n  React.ComponentProps<typeof Button>\n>(({ className, variant = \"outline\", size = \"icon\", ...props }, ref) => {\n  const { orientation, scrollPrev, canScrollPrev } = useCarousel()\n\n  return (\n    <Button\n      ref={ref}\n      variant={variant}\n      size={size}\n      className={cn(\n        \"absolute  h-8 w-8 rounded-full\",\n        orientation === \"horizontal\"\n          ? \"-left-12 top-1/2 -translate-y-1/2\"\n          : \"-top-12 left-1/2 -translate-x-1/2 rotate-90\",\n        className\n      )}\n      disabled={!canScrollPrev}\n      onClick={scrollPrev}\n      {...props}\n    >\n      <ArrowLeft className=\"h-4 w-4\" />\n      <span className=\"sr-only\">Previous slide</span>\n    </Button>\n  )\n})\nCarouselPrevious.displayName = \"CarouselPrevious\"\n\nconst CarouselNext = React.forwardRef<\n  HTMLButtonElement,\n  React.ComponentProps<typeof Button>\n>(({ className, variant = \"outline\", size = \"icon\", ...props }, ref) => {\n  const { orientation, scrollNext, canScrollNext } = useCarousel()\n\n  return (\n    <Button\n      ref={ref}\n      variant={variant}\n      size={size}\n      className={cn(\n        \"absolute h-8 w-8 rounded-full\",\n        orientation === \"horizontal\"\n          ? \"-right-12 top-1/2 -translate-y-1/2\"\n          : \"-bottom-12 left-1/2 -translate-x-1/2 rotate-90\",\n        className\n      )}\n      disabled={!canScrollNext}\n      onClick={scrollNext}\n      {...props}\n    >\n      <ArrowRight className=\"h-4 w-4\" />\n      <span className=\"sr-only\">Next slide</span>\n    </Button>\n  )\n})\nCarouselNext.displayName = \"CarouselNext\"\n\nexport {\n  type CarouselApi,\n  Carousel,\n  CarouselContent,\n  CarouselItem,\n  CarouselPrevious,\n  CarouselNext,\n}\n",
  "src/components/ui/chart.tsx": "\"use client\"\n\nimport * as React from \"react\"\nimport * as RechartsPrimitive from \"recharts\"\n\nimport { cn } from \"@/lib/utils\"\n\n// Format: { THEME_NAME: CSS_SELECTOR }\nconst THEMES = { light: \"\", dark: \".dark\" } as const\n\nexport type ChartConfig = {\n  [k in string]: {\n    label?: React.ReactNode\n    icon?: React.ComponentType\n  } & (\n    | { color?: string; theme?: never }\n    | { color?: never; theme: Record<keyof typeof THEMES, string> }\n  )\n}\n\ntype ChartContextProps = {\n  config: ChartConfig\n}\n\nconst ChartContext = React.createContext<ChartContextProps | null>(null)\n\nfunction useChart() {\n  const context = React.useContext(ChartContext)\n\n  if (!context) {\n    throw new Error(\"useChart must be used within a <ChartContainer />\")\n  }\n\n  return context\n}\n\nconst ChartContainer = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\"> & {\n    config: ChartConfig\n    children: React.ComponentProps<\n      typeof RechartsPrimitive.ResponsiveContainer\n    >[\"children\"]\n  }\n>(({ id, className, children, config, ...props }, ref) => {\n  const uniqueId = React.useId()\n  const chartId = `chart-${id || uniqueId.replace(/:/g, \"\")}`\n\n  return (\n    <ChartContext.Provider value={{ config }}>\n      <div\n        data-chart={chartId}\n        ref={ref}\n        className={cn(\n          \"flex aspect-video justify-center text-xs [&_.recharts-cartesian-axis-tick_text]:fill-muted-foreground [&_.recharts-cartesian-grid_line[stroke='#ccc']]:stroke-border/50 [&_.recharts-curve.recharts-tooltip-cursor]:stroke-border [&_.recharts-dot[stroke='#fff']]:stroke-transparent [&_.recharts-layer]:outline-none [&_.recharts-polar-grid_[stroke='#ccc']]:stroke-border [&_.recharts-radial-bar-background-sector]:fill-muted [&_.recharts-rectangle.recharts-tooltip-cursor]:fill-muted [&_.recharts-reference-line_[stroke='#ccc']]:stroke-border [&_.recharts-sector[stroke='#fff']]:stroke-transparent [&_.recharts-sector]:outline-none [&_.recharts-surface]:outline-none\",\n          className\n        )}\n        {...props}\n      >\n        <ChartStyle id={chartId} config={config} />\n        <RechartsPrimitive.ResponsiveContainer>\n          {children}\n        </RechartsPrimitive.ResponsiveContainer>\n      </div>\n    </ChartContext.Provider>\n  )\n})\nChartContainer.displayName = \"Chart\"\n\nconst ChartStyle = ({ id, config }: { id: string; config: ChartConfig }) => {\n  const colorConfig = Object.entries(config).filter(\n    ([, config]) => config.theme || config.color\n  )\n\n  if (!colorConfig.length) {\n    return null\n  }\n\n  return (\n    <style\n      dangerouslySetInnerHTML={{\n        __html: Object.entries(THEMES)\n          .map(\n            ([theme, prefix]) => `\n${prefix} [data-chart=${id}] {\n${colorConfig\n  .map(([key, itemConfig]) => {\n    const color =\n      itemConfig.theme?.[theme as keyof typeof itemConfig.theme] ||\n      itemConfig.color\n    return color ? `  --color-${key}: ${color};` : null\n  })\n  .join(\"\\n\")}\n}\n`\n          )\n          .join(\"\\n\"),\n      }}\n    />\n  )\n}\n\nconst ChartTooltip = RechartsPrimitive.Tooltip\n\nconst ChartTooltipContent = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<typeof RechartsPrimitive.Tooltip> &\n    React.ComponentProps<\"div\"> & {\n      hideLabel?: boolean\n      hideIndicator?: boolean\n      indicator?: \"line\" | \"dot\" | \"dashed\"\n      nameKey?: string\n      labelKey?: string\n    }\n>(\n  (\n    {\n      active,\n      payload,\n      className,\n      indicator = \"dot\",\n      hideLabel = false,\n      hideIndicator = false,\n      label,\n      labelFormatter,\n      labelClassName,\n      formatter,\n      color,\n      nameKey,\n      labelKey,\n    },\n    ref\n  ) => {\n    const { config } = useChart()\n\n    const tooltipLabel = React.useMemo(() => {\n      if (hideLabel || !payload?.length) {\n        return null\n      }\n\n      const [item] = payload\n      const key = `${labelKey || item.dataKey || item.name || \"value\"}`\n      const itemConfig = getPayloadConfigFromPayload(config, item, key)\n      const value =\n        !labelKey && typeof label === \"string\"\n          ? config[label as keyof typeof config]?.label || label\n          : itemConfig?.label\n\n      if (labelFormatter) {\n        return (\n          <div className={cn(\"font-medium\", labelClassName)}>\n            {labelFormatter(value, payload)}\n          </div>\n        )\n      }\n\n      if (!value) {\n        return null\n      }\n\n      return <div className={cn(\"font-medium\", labelClassName)}>{value}</div>\n    }, [\n      label,\n      labelFormatter,\n      payload,\n      hideLabel,\n      labelClassName,\n      config,\n      labelKey,\n    ])\n\n    if (!active || !payload?.length) {\n      return null\n    }\n\n    const nestLabel = payload.length === 1 && indicator !== \"dot\"\n\n    return (\n      <div\n        ref={ref}\n        className={cn(\n          \"grid min-w-[8rem] items-start gap-1.5 rounded-lg border border-border/50 bg-background px-2.5 py-1.5 text-xs shadow-xl\",\n          className\n        )}\n      >\n        {!nestLabel ? tooltipLabel : null}\n        <div className=\"grid gap-1.5\">\n          {payload.map((item, index) => {\n            const key = `${nameKey || item.name || item.dataKey || \"value\"}`\n            const itemConfig = getPayloadConfigFromPayload(config, item, key)\n            const indicatorColor = color || item.payload.fill || item.color\n\n            return (\n              <div\n                key={item.dataKey}\n                className={cn(\n                  \"flex w-full flex-wrap items-stretch gap-2 [&>svg]:h-2.5 [&>svg]:w-2.5 [&>svg]:text-muted-foreground\",\n                  indicator === \"dot\" && \"items-center\"\n                )}\n              >\n                {formatter && item?.value !== undefined && item.name ? (\n                  formatter(item.value, item.name, item, index, item.payload)\n                ) : (\n                  <>\n                    {itemConfig?.icon ? (\n                      <itemConfig.icon />\n                    ) : (\n                      !hideIndicator && (\n                        <div\n                          className={cn(\n                            \"shrink-0 rounded-[2px] border-[--color-border] bg-[--color-bg]\",\n                            {\n                              \"h-2.5 w-2.5\": indicator === \"dot\",\n                              \"w-1\": indicator === \"line\",\n                              \"w-0 border-[1.5px] border-dashed bg-transparent\":\n                                indicator === \"dashed\",\n                              \"my-0.5\": nestLabel && indicator === \"dashed\",\n                            }\n                          )}\n                          style={\n                            {\n                              \"--color-bg\": indicatorColor,\n                              \"--color-border\": indicatorColor,\n                            } as React.CSSProperties\n                          }\n                        />\n                      )\n                    )}\n                    <div\n                      className={cn(\n                        \"flex flex-1 justify-between leading-none\",\n                        nestLabel ? \"items-end\" : \"items-center\"\n                      )}\n                    >\n                      <div className=\"grid gap-1.5\">\n                        {nestLabel ? tooltipLabel : null}\n                        <span className=\"text-muted-foreground\">\n                          {itemConfig?.label || item.name}\n                        </span>\n                      </div>\n                      {item.value && (\n                        <span className=\"font-mono font-medium tabular-nums text-foreground\">\n                          {item.value.toLocaleString()}\n                        </span>\n                      )}\n                    </div>\n                  </>\n                )}\n              </div>\n            )\n          })}\n        </div>\n      </div>\n    )\n  }\n)\nChartTooltipContent.displayName = \"ChartTooltip\"\n\nconst ChartLegend = RechartsPrimitive.Legend\n\nconst ChartLegendContent = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\"> &\n    Pick<RechartsPrimitive.LegendProps, \"payload\" | \"verticalAlign\"> & {\n      hideIcon?: boolean\n      nameKey?: string\n    }\n>(\n  (\n    { className, hideIcon = false, payload, verticalAlign = \"bottom\", nameKey },\n    ref\n  ) => {\n    const { config } = useChart()\n\n    if (!payload?.length) {\n      return null\n    }\n\n    return (\n      <div\n        ref={ref}\n        className={cn(\n          \"flex items-center justify-center gap-4\",\n          verticalAlign === \"top\" ? \"pb-3\" : \"pt-3\",\n          className\n        )}\n      >\n        {payload.map((item) => {\n          const key = `${nameKey || item.dataKey || \"value\"}`\n          const itemConfig = getPayloadConfigFromPayload(config, item, key)\n\n          return (\n            <div\n              key={item.value}\n              className={cn(\n                \"flex items-center gap-1.5 [&>svg]:h-3 [&>svg]:w-3 [&>svg]:text-muted-foreground\"\n              )}\n            >\n              {itemConfig?.icon && !hideIcon ? (\n                <itemConfig.icon />\n              ) : (\n                <div\n                  className=\"h-2 w-2 shrink-0 rounded-[2px]\"\n                  style={{\n                    backgroundColor: item.color,\n                  }}\n                />\n              )}\n              {itemConfig?.label}\n            </div>\n          )\n        })}\n      </div>\n    )\n  }\n)\nChartLegendContent.displayName = \"ChartLegend\"\n\n// Helper to extract item config from a payload.\nfunction getPayloadConfigFromPayload(\n  config: ChartConfig,\n  payload: unknown,\n  key: string\n) {\n  if (typeof payload !== \"object\" || payload === null) {\n    return undefined\n  }\n\n  const payloadPayload =\n    \"payload\" in payload &&\n    typeof payload.payload === \"object\" &&\n    payload.payload !== null\n      ? payload.payload\n      : undefined\n\n  let configLabelKey: string = key\n\n  if (\n    key in payload &&\n    typeof payload[key as keyof typeof payload] === \"string\"\n  ) {\n    configLabelKey = payload[key as keyof typeof payload] as string\n  } else if (\n    payloadPayload &&\n    key in payloadPayload &&\n    typeof payloadPayload[key as keyof typeof payloadPayload] === \"string\"\n  ) {\n    configLabelKey = payloadPayload[\n      key as keyof typeof payloadPayload\n    ] as string\n  }\n\n  return configLabelKey in config\n    ? config[configLabelKey]\n    : config[key as keyof typeof config]\n}\n\nexport {\n  ChartContainer,\n  ChartTooltip,\n  ChartTooltipContent,\n  ChartLegend,\n  ChartLegendContent,\n  ChartStyle,\n}\n",
  "src/components/ui/checkbox.tsx": "\"use client\"\n\nimport * as React from \"react\"\nimport * as CheckboxPrimitive from \"@radix-ui/react-checkbox\"\nimport { Check } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Checkbox = React.forwardRef<\n  React.ElementRef<typeof CheckboxPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof CheckboxPrimitive.Root>\n>(({ className, ...props }, ref) => (\n  <CheckboxPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground\",\n      className\n    )}\n    {...props}\n  >\n    <CheckboxPrimitive.Indicator\n      className={cn(\"flex items-center justify-center text-current\")}\n    >\n      <Check className=\"h-4 w-4\" />\n    </CheckboxPrimitive.Indicator>\n  </CheckboxPrimitive.Root>\n))\nCheckbox.displayName = CheckboxPrimitive.Root.displayName\n\nexport { Checkbox }\n",
  "src/components/ui/collapsible.tsx": "\"use client\"\n\nimport * as CollapsiblePrimitive from \"@radix-ui/react-collapsible\"\n\nconst Collapsible = CollapsiblePrimitive.Root\n\nconst CollapsibleTrigger = CollapsiblePrimitive.CollapsibleTrigger\n\nconst CollapsibleContent = CollapsiblePrimitive.CollapsibleContent\n\nexport { Collapsible, CollapsibleTrigger, CollapsibleContent }\n",
  "src/components/ui/dialog.tsx": "\"use client\"\n\nimport * as React from \"react\"\nimport * as DialogPrimitive from \"@radix-ui/react-dialog\"\nimport { X } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Dialog = DialogPrimitive.Root\n\nconst DialogTrigger = DialogPrimitive.Trigger\n\nconst DialogPortal = DialogPrimitive.Portal\n\nconst DialogClose = DialogPrimitive.Close\n\nconst DialogOverlay = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Overlay\n    ref={ref}\n    className={cn(\n      \"fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0\",\n      className\n    )}\n    {...props}\n  />\n))\nDialogOverlay.displayName = DialogPrimitive.Overlay.displayName\n\nconst DialogContent = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Content>\n>(({ className, children, ...props }, ref) => (\n  <DialogPortal>\n    <DialogOverlay />\n    <DialogPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg\",\n        className\n      )}\n      {...props}\n    >\n      {children}\n      <DialogPrimitive.Close className=\"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground\">\n        <X className=\"h-4 w-4\" />\n        <span className=\"sr-only\">Close</span>\n      </DialogPrimitive.Close>\n    </DialogPrimitive.Content>\n  </DialogPortal>\n))\nDialogContent.displayName = DialogPrimitive.Content.displayName\n\nconst DialogHeader = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col space-y-1.5 text-center sm:text-left\",\n      className\n    )}\n    {...props}\n  />\n)\nDialogHeader.displayName = \"DialogHeader\"\n\nconst DialogFooter = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2\",\n      className\n    )}\n    {...props}\n  />\n)\nDialogFooter.displayName = \"DialogFooter\"\n\nconst DialogTitle = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Title\n    ref={ref}\n    className={cn(\n      \"text-lg font-semibold leading-none tracking-tight\",\n      className\n    )}\n    {...props}\n  />\n))\nDialogTitle.displayName = DialogPrimitive.Title.displayName\n\nconst DialogDescription = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Description\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nDialogDescription.displayName = DialogPrimitive.Description.displayName\n\nexport {\n  Dialog,\n  DialogPortal,\n  DialogOverlay,\n  DialogClose,\n  DialogTrigger,\n  DialogContent,\n  DialogHeader,\n  DialogFooter,\n  DialogTitle,\n  DialogDescription,\n}\n",
  "src/components/ui/dropdown-menu.tsx": "\"use client\"\n\nimport * as React from \"react\"\nimport * as DropdownMenuPrimitive from \"@radix-ui/react-dropdown-menu\"\nimport { Check, ChevronRight, Circle } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst DropdownMenu = DropdownMenuPrimitive.Root\n\nconst DropdownMenuTrigger = DropdownMenuPrimitive.Trigger\n\nconst DropdownMenuGroup = DropdownMenuPrimitive.Group\n\nconst DropdownMenuPortal = DropdownMenuPrimitive.Portal\n\nconst DropdownMenuSub = DropdownMenuPrimitive.Sub\n\nconst DropdownMenuRadioGroup = DropdownMenuPrimitive.RadioGroup\n\nconst DropdownMenuSubTrigger = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.SubTrigger>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.SubTrigger> & {\n    inset?: boolean\n  }\n>(({ className, inset, children, ...props }, ref) => (\n  <DropdownMenuPrimitive.SubTrigger\n    ref={ref}\n    className={cn(\n      \"flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <ChevronRight className=\"ml-auto\" />\n  </DropdownMenuPrimitive.SubTrigger>\n))\nDropdownMenuSubTrigger.displayName =\n  DropdownMenuPrimitive.SubTrigger.displayName\n\nconst DropdownMenuSubContent = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.SubContent>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.SubContent>\n>(({ className, ...props }, ref) => (\n  <DropdownMenuPrimitive.SubContent\n    ref={ref}\n    className={cn(\n      \"z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2\",\n      className\n    )}\n    {...props}\n  />\n))\nDropdownMenuSubContent.displayName =\n  DropdownMenuPrimitive.SubContent.displayName\n\nconst DropdownMenuContent = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Content>\n>(({ className, sideOffset = 4, ...props }, ref) => (\n  <DropdownMenuPrimitive.Portal>\n    <DropdownMenuPrimitive.Content\n      ref={ref}\n      sideOffset={sideOffset}\n      className={cn(\n        \"z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2\",\n        className\n      )}\n      {...props}\n    />\n  </DropdownMenuPrimitive.Portal>\n))\nDropdownMenuContent.displayName = DropdownMenuPrimitive.Content.displayName\n\nconst DropdownMenuItem = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Item> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <DropdownMenuPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nDropdownMenuItem.displayName = DropdownMenuPrimitive.Item.displayName\n\nconst DropdownMenuCheckboxItem = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.CheckboxItem>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.CheckboxItem>\n>(({ className, children, checked, ...props }, ref) => (\n  <DropdownMenuPrimitive.CheckboxItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    checked={checked}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <DropdownMenuPrimitive.ItemIndicator>\n        <Check className=\"h-4 w-4\" />\n      </DropdownMenuPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </DropdownMenuPrimitive.CheckboxItem>\n))\nDropdownMenuCheckboxItem.displayName =\n  DropdownMenuPrimitive.CheckboxItem.displayName\n\nconst DropdownMenuRadioItem = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.RadioItem>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.RadioItem>\n>(({ className, children, ...props }, ref) => (\n  <DropdownMenuPrimitive.RadioItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <DropdownMenuPrimitive.ItemIndicator>\n        <Circle className=\"h-2 w-2 fill-current\" />\n      </DropdownMenuPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </DropdownMenuPrimitive.RadioItem>\n))\nDropdownMenuRadioItem.displayName = DropdownMenuPrimitive.RadioItem.displayName\n\nconst DropdownMenuLabel = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Label>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Label> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <DropdownMenuPrimitive.Label\n    ref={ref}\n    className={cn(\n      \"px-2 py-1.5 text-sm font-semibold\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nDropdownMenuLabel.displayName = DropdownMenuPrimitive.Label.displayName\n\nconst DropdownMenuSeparator = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <DropdownMenuPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 my-1 h-px bg-muted\", className)}\n    {...props}\n  />\n))\nDropdownMenuSeparator.displayName = DropdownMenuPrimitive.Separator.displayName\n\nconst DropdownMenuShortcut = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLSpanElement>) => {\n  return (\n    <span\n      className={cn(\"ml-auto text-xs tracking-widest opacity-60\", className)}\n      {...props}\n    />\n  )\n}\nDropdownMenuShortcut.displayName = \"DropdownMenuShortcut\"\n\nexport {\n  DropdownMenu,\n  DropdownMenuTrigger,\n  DropdownMenuContent,\n  DropdownMenuItem,\n  DropdownMenuCheckboxItem,\n  DropdownMenuRadioItem,\n  DropdownMenuLabel,\n  DropdownMenuSeparator,\n  DropdownMenuShortcut,\n  DropdownMenuGroup,\n  DropdownMenuPortal,\n  DropdownMenuSub,\n  DropdownMenuSubContent,\n  DropdownMenuSubTrigger,\n  DropdownMenuRadioGroup,\n}\n",
  "src/components/ui/form.tsx": "\"use client\"\n\nimport * as React from \"react\"\nimport * as LabelPrimitive from \"@radix-ui/react-label\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport {\n  Controller,\n  FormProvider,\n  useFormContext,\n  type ControllerProps,\n  type FieldPath,\n  type FieldValues,\n} from \"react-hook-form\"\n\nimport { cn } from \"@/lib/utils\"\nimport { Label } from \"@/components/ui/label\"\n\nconst Form = FormProvider\n\ntype FormFieldContextValue<\n  TFieldValues extends FieldValues = FieldValues,\n  TName extends FieldPath<TFieldValues> = FieldPath<TFieldValues>\n> = {\n  name: TName\n}\n\nconst FormFieldContext = React.createContext<FormFieldContextValue>(\n  {} as FormFieldContextValue\n)\n\nconst FormField = <\n  TFieldValues extends FieldValues = FieldValues,\n  TName extends FieldPath<TFieldValues> = FieldPath<TFieldValues>\n>({\n  ...props\n}: ControllerProps<TFieldValues, TName>) => {\n  return (\n    <FormFieldContext.Provider value={{ name: props.name }}>\n      <Controller {...props} />\n    </FormFieldContext.Provider>\n  )\n}\n\nconst useFormField = () => {\n  const fieldContext = React.useContext(FormFieldContext)\n  const itemContext = React.useContext(FormItemContext)\n  const { getFieldState, formState } = useFormContext()\n\n  const fieldState = getFieldState(fieldContext.name, formState)\n\n  if (!fieldContext) {\n    throw new Error(\"useFormField should be used within <FormField>\")\n  }\n\n  const { id } = itemContext\n\n  return {\n    id,\n    name: fieldContext.name,\n    formItemId: `${id}-form-item`,\n    formDescriptionId: `${id}-form-item-description`,\n    formMessageId: `${id}-form-item-message`,\n    ...fieldState,\n  }\n}\n\ntype FormItemContextValue = {\n  id: string\n}\n\nconst FormItemContext = React.createContext<FormItemContextValue>(\n  {} as FormItemContextValue\n)\n\nconst FormItem = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => {\n  const id = React.useId()\n\n  return (\n    <FormItemContext.Provider value={{ id }}>\n      <div ref={ref} className={cn(\"space-y-2\", className)} {...props} />\n    </FormItemContext.Provider>\n  )\n})\nFormItem.displayName = \"FormItem\"\n\nconst FormLabel = React.forwardRef<\n  React.ElementRef<typeof LabelPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof LabelPrimitive.Root>\n>(({ className, ...props }, ref) => {\n  const { error, formItemId } = useFormField()\n\n  return (\n    <Label\n      ref={ref}\n      className={cn(error && \"text-destructive\", className)}\n      htmlFor={formItemId}\n      {...props}\n    />\n  )\n})\nFormLabel.displayName = \"FormLabel\"\n\nconst FormControl = React.forwardRef<\n  React.ElementRef<typeof Slot>,\n  React.ComponentPropsWithoutRef<typeof Slot>\n>(({ ...props }, ref) => {\n  const { error, formItemId, formDescriptionId, formMessageId } = useFormField()\n\n  return (\n    <Slot\n      ref={ref}\n      id={formItemId}\n      aria-describedby={\n        !error\n          ? `${formDescriptionId}`\n          : `${formDescriptionId} ${formMessageId}`\n      }\n      aria-invalid={!!error}\n      {...props}\n    />\n  )\n})\nFormControl.displayName = \"FormControl\"\n\nconst FormDescription = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLParagraphElement>\n>(({ className, ...props }, ref) => {\n  const { formDescriptionId } = useFormField()\n\n  return (\n    <p\n      ref={ref}\n      id={formDescriptionId}\n      className={cn(\"text-sm text-muted-foreground\", className)}\n      {...props}\n    />\n  )\n})\nFormDescription.displayName = \"FormDescription\"\n\nconst FormMessage = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLParagraphElement>\n>(({ className, children, ...props }, ref) => {\n  const { error, formMessageId } = useFormField()\n  const body = error ? String(error?.message ?? \"\") : children\n\n  if (!body) {\n    return null\n  }\n\n  return (\n    <p\n      ref={ref}\n      id={formMessageId}\n      className={cn(\"text-sm font-medium text-destructive\", className)}\n      {...props}\n    >\n      {body}\n    </p>\n  )\n})\nFormMessage.displayName = \"FormMessage\"\n\nexport {\n  useFormField,\n  Form,\n  FormItem,\n  FormLabel,\n  FormControl,\n  FormDescription,\n  FormMessage,\n  FormField,\n}\n",
  "src/components/ui/input.tsx": "import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Input = React.forwardRef<HTMLInputElement, React.ComponentProps<\"input\">>(\n  ({ className, type, ...props }, ref) => {\n    return (\n      <input\n        type={type}\n        className={cn(\n          \"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm\",\n          className\n        )}\n        ref={ref}\n        {...props}\n      />\n    )\n  }\n)\nInput.displayName = \"Input\"\n\nexport { Input }\n",
  "src/components/ui/label.tsx": "\"use client\"\n\nimport * as React from \"react\"\nimport * as LabelPrimitive from \"@radix-ui/react-label\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst labelVariants = cva(\n  \"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70\"\n)\n\nconst Label = React.forwardRef<\n  React.ElementRef<typeof LabelPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof LabelPrimitive.Root> &\n    VariantProps<typeof labelVariants>\n>(({ className, ...props }, ref) => (\n  <LabelPrimitive.Root\n    ref={ref}\n    className={cn(labelVariants(), className)}\n    {...props}\n  />\n))\nLabel.displayName = LabelPrimitive.Root.displayName\n\nexport { Label }\n",
  "src/components/ui/menubar.tsx": "\"use client\"\n\nimport * as React from \"react\"\nimport * as MenubarPrimitive from \"@radix-ui/react-menubar\"\nimport { Check, ChevronRight, Circle } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction MenubarMenu({\n  ...props\n}: React.ComponentProps<typeof MenubarPrimitive.Menu>) {\n  return <MenubarPrimitive.Menu {...props} />\n}\n\nfunction MenubarGroup({\n  ...props\n}: React.ComponentProps<typeof MenubarPrimitive.Group>) {\n  return <MenubarPrimitive.Group {...props} />\n}\n\nfunction MenubarPortal({\n  ...props\n}: React.ComponentProps<typeof MenubarPrimitive.Portal>) {\n  return <MenubarPrimitive.Portal {...props} />\n}\n\nfunction MenubarRadioGroup({\n  ...props\n}: React.ComponentProps<typeof MenubarPrimitive.RadioGroup>) {\n  return <MenubarPrimitive.RadioGroup {...props} />\n}\n\nfunction MenubarSub({\n  ...props\n}: React.ComponentProps<typeof MenubarPrimitive.Sub>) {\n  return <MenubarPrimitive.Sub data-slot=\"menubar-sub\" {...props} />\n}\n\nconst Menubar = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Root>\n>(({ className, ...props }, ref) => (\n  <MenubarPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"flex h-10 items-center space-x-1 rounded-md border bg-background p-1\",\n      className\n    )}\n    {...props}\n  />\n))\nMenubar.displayName = MenubarPrimitive.Root.displayName\n\nconst MenubarTrigger = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Trigger>\n>(({ className, ...props }, ref) => (\n  <MenubarPrimitive.Trigger\n    ref={ref}\n    className={cn(\n      \"flex cursor-default select-none items-center rounded-sm px-3 py-1.5 text-sm font-medium outline-none focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground\",\n      className\n    )}\n    {...props}\n  />\n))\nMenubarTrigger.displayName = MenubarPrimitive.Trigger.displayName\n\nconst MenubarSubTrigger = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.SubTrigger>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.SubTrigger> & {\n    inset?: boolean\n  }\n>(({ className, inset, children, ...props }, ref) => (\n  <MenubarPrimitive.SubTrigger\n    ref={ref}\n    className={cn(\n      \"flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <ChevronRight className=\"ml-auto h-4 w-4\" />\n  </MenubarPrimitive.SubTrigger>\n))\nMenubarSubTrigger.displayName = MenubarPrimitive.SubTrigger.displayName\n\nconst MenubarSubContent = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.SubContent>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.SubContent>\n>(({ className, ...props }, ref) => (\n  <MenubarPrimitive.SubContent\n    ref={ref}\n    className={cn(\n      \"z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2\",\n      className\n    )}\n    {...props}\n  />\n))\nMenubarSubContent.displayName = MenubarPrimitive.SubContent.displayName\n\nconst MenubarContent = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Content>\n>(\n  (\n    { className, align = \"start\", alignOffset = -4, sideOffset = 8, ...props },\n    ref\n  ) => (\n    <MenubarPrimitive.Portal>\n      <MenubarPrimitive.Content\n        ref={ref}\n        align={align}\n        alignOffset={alignOffset}\n        sideOffset={sideOffset}\n        className={cn(\n          \"z-50 min-w-[12rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2\",\n          className\n        )}\n        {...props}\n      />\n    </MenubarPrimitive.Portal>\n  )\n)\nMenubarContent.displayName = MenubarPrimitive.Content.displayName\n\nconst MenubarItem = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Item> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <MenubarPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nMenubarItem.displayName = MenubarPrimitive.Item.displayName\n\nconst MenubarCheckboxItem = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.CheckboxItem>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.CheckboxItem>\n>(({ className, children, checked, ...props }, ref) => (\n  <MenubarPrimitive.CheckboxItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    checked={checked}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <MenubarPrimitive.ItemIndicator>\n        <Check className=\"h-4 w-4\" />\n      </MenubarPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </MenubarPrimitive.CheckboxItem>\n))\nMenubarCheckboxItem.displayName = MenubarPrimitive.CheckboxItem.displayName\n\nconst MenubarRadioItem = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.RadioItem>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.RadioItem>\n>(({ className, children, ...props }, ref) => (\n  <MenubarPrimitive.RadioItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <MenubarPrimitive.ItemIndicator>\n        <Circle className=\"h-2 w-2 fill-current\" />\n      </MenubarPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </MenubarPrimitive.RadioItem>\n))\nMenubarRadioItem.displayName = MenubarPrimitive.RadioItem.displayName\n\nconst MenubarLabel = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Label>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Label> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <MenubarPrimitive.Label\n    ref={ref}\n    className={cn(\n      \"px-2 py-1.5 text-sm font-semibold\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nMenubarLabel.displayName = MenubarPrimitive.Label.displayName\n\nconst MenubarSeparator = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <MenubarPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 my-1 h-px bg-muted\", className)}\n    {...props}\n  />\n))\nMenubarSeparator.displayName = MenubarPrimitive.Separator.displayName\n\nconst MenubarShortcut = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLSpanElement>) => {\n  return (\n    <span\n      className={cn(\n        \"ml-auto text-xs tracking-widest text-muted-foreground\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\nMenubarShortcut.displayname = \"MenubarShortcut\"\n\nexport {\n  Menubar,\n  MenubarMenu,\n  MenubarTrigger,\n  MenubarContent,\n  MenubarItem,\n  MenubarSeparator,\n  MenubarLabel,\n  MenubarCheckboxItem,\n  MenubarRadioGroup,\n  MenubarRadioItem,\n  MenubarPortal,\n  MenubarSubContent,\n  MenubarSubTrigger,\n  MenubarGroup,\n  MenubarSub,\n  MenubarShortcut,\n}\n",
  "src/components/ui/popover.tsx": "\"use client\"\n\nimport * as React from \"react\"\nimport * as PopoverPrimitive from \"@radix-ui/react-popover\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Popover = PopoverPrimitive.Root\n\nconst PopoverTrigger = PopoverPrimitive.Trigger\n\nconst PopoverContent = React.forwardRef<\n  React.ElementRef<typeof PopoverPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof PopoverPrimitive.Content>\n>(({ className, align = \"center\", sideOffset = 4, ...props }, ref) => (\n  <PopoverPrimitive.Portal>\n    <PopoverPrimitive.Content\n      ref={ref}\n      align={align}\n      sideOffset={sideOffset}\n      className={cn(\n        \"z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2\",\n        className\n      )}\n      {...props}\n    />\n  </PopoverPrimitive.Portal>\n))\nPopoverContent.displayName = PopoverPrimitive.Content.displayName\n\nexport { Popover, PopoverTrigger, PopoverContent }\n",
  "src/components/ui/progress.tsx": "\"use client\"\n\nimport * as React from \"react\"\nimport * as ProgressPrimitive from \"@radix-ui/react-progress\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Progress = React.forwardRef<\n  React.ElementRef<typeof ProgressPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof ProgressPrimitive.Root> & { indicatorClassName?: string }\n>(({ className, value, indicatorClassName, ...props }, ref) => (\n  <ProgressPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"relative h-2 w-full overflow-hidden rounded-full bg-secondary\",\n      className\n    )}\n    {...props}\n  >\n    <ProgressPrimitive.Indicator\n      className={cn(\"h-full w-full flex-1 bg-primary transition-all\", indicatorClassName)}\n      style={{ transform: `translateX(-${100 - (value || 0)}%)` }}\n    />\n  </ProgressPrimitive.Root>\n))\nProgress.displayName = ProgressPrimitive.Root.displayName\n\nexport { Progress }\n",
  "src/components/ui/radio-group.tsx": "\"use client\"\n\nimport * as React from \"react\"\nimport * as RadioGroupPrimitive from \"@radix-ui/react-radio-group\"\nimport { Circle } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst RadioGroup = React.forwardRef<\n  React.ElementRef<typeof RadioGroupPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof RadioGroupPrimitive.Root>\n>(({ className, ...props }, ref) => {\n  return (\n    <RadioGroupPrimitive.Root\n      className={cn(\"grid gap-2\", className)}\n      {...props}\n      ref={ref}\n    />\n  )\n})\nRadioGroup.displayName = RadioGroupPrimitive.Root.displayName\n\nconst RadioGroupItem = React.forwardRef<\n  React.ElementRef<typeof RadioGroupPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof RadioGroupPrimitive.Item>\n>(({ className, ...props }, ref) => {\n  return (\n    <RadioGroupPrimitive.Item\n      ref={ref}\n      className={cn(\n        \"aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50\",\n        className\n      )}\n      {...props}\n    >\n      <RadioGroupPrimitive.Indicator className=\"flex items-center justify-center\">\n        <Circle className=\"h-2.5 w-2.5 fill-current text-current\" />\n      </RadioGroupPrimitive.Indicator>\n    </RadioGroupPrimitive.Item>\n  )\n})\nRadioGroupItem.displayName = RadioGroupPrimitive.Item.displayName\n\nexport { RadioGroup, RadioGroupItem }\n",
  "src/components/ui/scroll-area.tsx": "\"use client\"\n\nimport * as React from \"react\"\nimport * as ScrollAreaPrimitive from \"@radix-ui/react-scroll-area\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst ScrollArea = React.forwardRef<\n  React.ElementRef<typeof ScrollAreaPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof ScrollAreaPrimitive.Root>\n>(({ className, children, ...props }, ref) => (\n  <ScrollAreaPrimitive.Root\n    ref={ref}\n    className={cn(\"relative overflow-hidden\", className)}\n    {...props}\n  >\n    <ScrollAreaPrimitive.Viewport className=\"h-full w-full rounded-[inherit]\">\n      {children}\n    </ScrollAreaPrimitive.Viewport>\n    <ScrollBar />\n    <ScrollAreaPrimitive.Corner />\n  </ScrollAreaPrimitive.Root>\n))\nScrollArea.displayName = ScrollAreaPrimitive.Root.displayName\n\nconst ScrollBar = React.forwardRef<\n  React.ElementRef<typeof ScrollAreaPrimitive.ScrollAreaScrollbar>,\n  React.ComponentPropsWithoutRef<typeof ScrollAreaPrimitive.ScrollAreaScrollbar>\n>(({ className, orientation = \"vertical\", ...props }, ref) => (\n  <ScrollAreaPrimitive.ScrollAreaScrollbar\n    ref={ref}\n    orientation={orientation}\n    className={cn(\n      \"flex touch-none select-none transition-colors\",\n      orientation === \"vertical\" &&\n        \"h-full w-2.5 border-l border-l-transparent p-[1px]\",\n      orientation === \"horizontal\" &&\n        \"h-2.5 flex-col border-t border-t-transparent p-[1px]\",\n      className\n    )}\n    {...props}\n  >\n    <ScrollAreaPrimitive.ScrollAreaThumb className=\"relative flex-1 rounded-full bg-border\" />\n  </ScrollAreaPrimitive.ScrollAreaScrollbar>\n))\nScrollBar.displayName = ScrollAreaPrimitive.ScrollAreaScrollbar.displayName\n\nexport { ScrollArea, ScrollBar }\n",
  "src/components/ui/select.tsx": "\"use client\"\n\nimport * as React from \"react\"\nimport * as SelectPrimitive from \"@radix-ui/react-select\"\nimport { Check, ChevronDown, ChevronUp } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Select = SelectPrimitive.Root\n\nconst SelectGroup = SelectPrimitive.Group\n\nconst SelectValue = SelectPrimitive.Value\n\nconst SelectTrigger = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Trigger>\n>(({ className, children, ...props }, ref) => (\n  <SelectPrimitive.Trigger\n    ref={ref}\n    className={cn(\n      \"flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <SelectPrimitive.Icon asChild>\n      <ChevronDown className=\"h-4 w-4 opacity-50\" />\n    </SelectPrimitive.Icon>\n  </SelectPrimitive.Trigger>\n))\nSelectTrigger.displayName = SelectPrimitive.Trigger.displayName\n\nconst SelectScrollUpButton = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.ScrollUpButton>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.ScrollUpButton>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.ScrollUpButton\n    ref={ref}\n    className={cn(\n      \"flex cursor-default items-center justify-center py-1\",\n      className\n    )}\n    {...props}\n  >\n    <ChevronUp className=\"h-4 w-4\" />\n  </SelectPrimitive.ScrollUpButton>\n))\nSelectScrollUpButton.displayName = SelectPrimitive.ScrollUpButton.displayName\n\nconst SelectScrollDownButton = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.ScrollDownButton>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.ScrollDownButton>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.ScrollDownButton\n    ref={ref}\n    className={cn(\n      \"flex cursor-default items-center justify-center py-1\",\n      className\n    )}\n    {...props}\n  >\n    <ChevronDown className=\"h-4 w-4\" />\n  </SelectPrimitive.ScrollDownButton>\n))\nSelectScrollDownButton.displayName =\n  SelectPrimitive.ScrollDownButton.displayName\n\nconst SelectContent = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Content>\n>(({ className, children, position = \"popper\", ...props }, ref) => (\n  <SelectPrimitive.Portal>\n    <SelectPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2\",\n        position === \"popper\" &&\n          \"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1\",\n        className\n      )}\n      position={position}\n      {...props}\n    >\n      <SelectScrollUpButton />\n      <SelectPrimitive.Viewport\n        className={cn(\n          \"p-1\",\n          position === \"popper\" &&\n            \"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]\"\n        )}\n      >\n        {children}\n      </SelectPrimitive.Viewport>\n      <SelectScrollDownButton />\n    </SelectPrimitive.Content>\n  </SelectPrimitive.Portal>\n))\nSelectContent.displayName = SelectPrimitive.Content.displayName\n\nconst SelectLabel = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Label>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Label>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.Label\n    ref={ref}\n    className={cn(\"py-1.5 pl-8 pr-2 text-sm font-semibold\", className)}\n    {...props}\n  />\n))\nSelectLabel.displayName = SelectPrimitive.Label.displayName\n\nconst SelectItem = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Item>\n>(({ className, children, ...props }, ref) => (\n  <SelectPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <SelectPrimitive.ItemIndicator>\n        <Check className=\"h-4 w-4\" />\n      </SelectPrimitive.ItemIndicator>\n    </span>\n\n    <SelectPrimitive.ItemText>{children}</SelectPrimitive.ItemText>\n  </SelectPrimitive.Item>\n))\nSelectItem.displayName = SelectPrimitive.Item.displayName\n\nconst SelectSeparator = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 my-1 h-px bg-muted\", className)}\n    {...props}\n  />\n))\nSelectSeparator.displayName = SelectPrimitive.Separator.displayName\n\nexport {\n  Select,\n  SelectGroup,\n  SelectValue,\n  SelectTrigger,\n  SelectContent,\n  SelectLabel,\n  SelectItem,\n  SelectSeparator,\n  SelectScrollUpButton,\n  SelectScrollDownButton,\n}\n",
  "src/components/ui/separator.tsx": "\"use client\"\n\nimport * as React from \"react\"\nimport * as SeparatorPrimitive from \"@radix-ui/react-separator\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Separator = React.forwardRef<\n  React.ElementRef<typeof SeparatorPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof SeparatorPrimitive.Root>\n>(\n  (\n    { className, orientation = \"horizontal\", decorative = true, ...props },\n    ref\n  ) => (\n    <SeparatorPrimitive.Root\n      ref={ref}\n      decorative={decorative}\n      orientation={orientation}\n      className={cn(\n        \"shrink-0 bg-border\",\n        orientation === \"horizontal\" ? \"h-[1px] w-full\" : \"h-full w-[1px]\",\n        className\n      )}\n      {...props}\n    />\n  )\n)\nSeparator.displayName = SeparatorPrimitive.Root.displayName\n\nexport { Separator }\n",
  "src/components/ui/sheet.tsx": "\"use client\"\n\nimport * as React from \"react\"\nimport * as SheetPrimitive from \"@radix-ui/react-dialog\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\nimport { X } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Sheet = SheetPrimitive.Root\n\nconst SheetTrigger = SheetPrimitive.Trigger\n\nconst SheetClose = SheetPrimitive.Close\n\nconst SheetPortal = SheetPrimitive.Portal\n\nconst SheetOverlay = React.forwardRef<\n  React.ElementRef<typeof SheetPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof SheetPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <SheetPrimitive.Overlay\n    className={cn(\n      \"fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0\",\n      className\n    )}\n    {...props}\n    ref={ref}\n  />\n))\nSheetOverlay.displayName = SheetPrimitive.Overlay.displayName\n\nconst sheetVariants = cva(\n  \"fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500\",\n  {\n    variants: {\n      side: {\n        top: \"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top\",\n        bottom:\n          \"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom\",\n        left: \"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm\",\n        right:\n          \"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm\",\n      },\n    },\n    defaultVariants: {\n      side: \"right\",\n    },\n  }\n)\n\ninterface SheetContentProps\n  extends React.ComponentPropsWithoutRef<typeof SheetPrimitive.Content>,\n    VariantProps<typeof sheetVariants> {}\n\nconst SheetContent = React.forwardRef<\n  React.ElementRef<typeof SheetPrimitive.Content>,\n  SheetContentProps\n>(({ side = \"right\", className, children, ...props }, ref) => (\n  <SheetPortal>\n    <SheetOverlay />\n    <SheetPrimitive.Content\n      ref={ref}\n      className={cn(sheetVariants({ side }), className)}\n      {...props}\n    >\n      {children}\n      <SheetPrimitive.Close className=\"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary\">\n        <X className=\"h-4 w-4\" />\n        <span className=\"sr-only\">Close</span>\n      </SheetPrimitive.Close>\n    </SheetPrimitive.Content>\n  </SheetPortal>\n))\nSheetContent.displayName = SheetPrimitive.Content.displayName\n\nconst SheetHeader = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col space-y-2 text-center sm:text-left\",\n      className\n    )}\n    {...props}\n  />\n)\nSheetHeader.displayName = \"SheetHeader\"\n\nconst SheetFooter = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2\",\n      className\n    )}\n    {...props}\n  />\n)\nSheetFooter.displayName = \"SheetFooter\"\n\nconst SheetTitle = React.forwardRef<\n  React.ElementRef<typeof SheetPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof SheetPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <SheetPrimitive.Title\n    ref={ref}\n    className={cn(\"text-lg font-semibold text-foreground\", className)}\n    {...props}\n  />\n))\nSheetTitle.displayName = SheetPrimitive.Title.displayName\n\nconst SheetDescription = React.forwardRef<\n  React.ElementRef<typeof SheetPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof SheetPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <SheetPrimitive.Description\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nSheetDescription.displayName = SheetPrimitive.Description.displayName\n\nexport {\n  Sheet,\n  SheetPortal,\n  SheetOverlay,\n  SheetTrigger,\n  SheetClose,\n  SheetContent,\n  SheetHeader,\n  SheetFooter,\n  SheetTitle,\n  SheetDescription,\n}\n",
  "src/components/ui/sidebar.tsx": "\"use client\"\n\nimport * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { VariantProps, cva } from \"class-variance-authority\"\nimport { PanelLeft } from \"lucide-react\"\n\nimport { useIsMobile } from \"@/hooks/use-mobile\"\nimport { cn } from \"@/lib/utils\"\nimport { Button } from \"@/components/ui/button\"\nimport { Input } from \"@/components/ui/input\"\nimport { Separator } from \"@/components/ui/separator\"\nimport { Sheet, SheetContent } from \"@/components/ui/sheet\"\nimport { Skeleton } from \"@/components/ui/skeleton\"\nimport {\n  Tooltip,\n  TooltipContent,\n  TooltipProvider,\n  TooltipTrigger,\n} from \"@/components/ui/tooltip\"\n\nconst SIDEBAR_COOKIE_NAME = \"sidebar_state\"\nconst SIDEBAR_COOKIE_MAX_AGE = 60 * 60 * 24 * 7\nconst SIDEBAR_WIDTH = \"16rem\"\nconst SIDEBAR_WIDTH_MOBILE = \"18rem\"\nconst SIDEBAR_WIDTH_ICON = \"3rem\"\nconst SIDEBAR_KEYBOARD_SHORTCUT = \"b\"\n\ntype SidebarContext = {\n  state: \"expanded\" | \"collapsed\"\n  open: boolean\n  setOpen: (open: boolean) => void\n  openMobile: boolean\n  setOpenMobile: (open: boolean) => void\n  isMobile: boolean\n  toggleSidebar: () => void\n}\n\nconst SidebarContext = React.createContext<SidebarContext | null>(null)\n\nfunction useSidebar() {\n  const context = React.useContext(SidebarContext)\n  if (!context) {\n    throw new Error(\"useSidebar must be used within a SidebarProvider.\")\n  }\n\n  return context\n}\n\nconst SidebarProvider = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\"> & {\n    defaultOpen?: boolean\n    open?: boolean\n    onOpenChange?: (open: boolean) => void\n  }\n>(\n  (\n    {\n      defaultOpen = true,\n      open: openProp,\n      onOpenChange: setOpenProp,\n      className,\n      style,\n      children,\n      ...props\n    },\n    ref\n  ) => {\n    const isMobile = useIsMobile()\n    const [openMobile, setOpenMobile] = React.useState(false)\n\n    // This is the internal state of the sidebar.\n    // We use openProp and setOpenProp for control from outside the component.\n    const [_open, _setOpen] = React.useState(defaultOpen)\n    const open = openProp ?? _open\n    const setOpen = React.useCallback(\n      (value: boolean | ((value: boolean) => boolean)) => {\n        const openState = typeof value === \"function\" ? value(open) : value\n        if (setOpenProp) {\n          setOpenProp(openState)\n        } else {\n          _setOpen(openState)\n        }\n\n        // This sets the cookie to keep the sidebar state.\n        document.cookie = `${SIDEBAR_COOKIE_NAME}=${openState}; path=/; max-age=${SIDEBAR_COOKIE_MAX_AGE}`\n      },\n      [setOpenProp, open]\n    )\n\n    // Helper to toggle the sidebar.\n    const toggleSidebar = React.useCallback(() => {\n      return isMobile\n        ? setOpenMobile((open) => !open)\n        : setOpen((open) => !open)\n    }, [isMobile, setOpen, setOpenMobile])\n\n    // Adds a keyboard shortcut to toggle the sidebar.\n    React.useEffect(() => {\n      const handleKeyDown = (event: KeyboardEvent) => {\n        if (\n          event.key === SIDEBAR_KEYBOARD_SHORTCUT &&\n          (event.metaKey || event.ctrlKey)\n        ) {\n          event.preventDefault()\n          toggleSidebar()\n        }\n      }\n\n      window.addEventListener(\"keydown\", handleKeyDown)\n      return () => window.removeEventListener(\"keydown\", handleKeyDown)\n    }, [toggleSidebar])\n\n    // We add a state so that we can do data-state=\"expanded\" or \"collapsed\".\n    // This makes it easier to style the sidebar with Tailwind classes.\n    const state = open ? \"expanded\" : \"collapsed\"\n\n    const contextValue = React.useMemo<SidebarContext>(\n      () => ({\n        state,\n        open,\n        setOpen,\n        isMobile,\n        openMobile,\n        setOpenMobile,\n        toggleSidebar,\n      }),\n      [state, open, setOpen, isMobile, openMobile, setOpenMobile, toggleSidebar]\n    )\n\n    return (\n      <SidebarContext.Provider value={contextValue}>\n        <TooltipProvider delayDuration={0}>\n          <div\n            style={\n              {\n                \"--sidebar-width\": SIDEBAR_WIDTH,\n                \"--sidebar-width-icon\": SIDEBAR_WIDTH_ICON,\n                ...style,\n              } as React.CSSProperties\n            }\n            className={cn(\n              \"group/sidebar-wrapper flex min-h-svh w-full has-[[data-variant=inset]]:bg-sidebar\",\n              className\n            )}\n            ref={ref}\n            {...props}\n          >\n            {children}\n          </div>\n        </TooltipProvider>\n      </SidebarContext.Provider>\n    )\n  }\n)\nSidebarProvider.displayName = \"SidebarProvider\"\n\nconst Sidebar = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\"> & {\n    side?: \"left\" | \"right\"\n    variant?: \"sidebar\" | \"floating\" | \"inset\"\n    collapsible?: \"offcanvas\" | \"icon\" | \"none\"\n  }\n>(\n  (\n    {\n      side = \"left\",\n      variant = \"sidebar\",\n      collapsible = \"offcanvas\",\n      className,\n      children,\n      ...props\n    },\n    ref\n  ) => {\n    const { isMobile, state, openMobile, setOpenMobile } = useSidebar()\n\n    if (collapsible === \"none\") {\n      return (\n        <div\n          className={cn(\n            \"flex h-full w-[--sidebar-width] flex-col bg-sidebar text-sidebar-foreground\",\n            className\n          )}\n          ref={ref}\n          {...props}\n        >\n          {children}\n        </div>\n      )\n    }\n\n    if (isMobile) {\n      return (\n        <Sheet open={openMobile} onOpenChange={setOpenMobile} {...props}>\n          <SheetContent\n            data-sidebar=\"sidebar\"\n            data-mobile=\"true\"\n            className=\"w-[--sidebar-width] bg-sidebar p-0 text-sidebar-foreground [&>button]:hidden\"\n            style={\n              {\n                \"--sidebar-width\": SIDEBAR_WIDTH_MOBILE,\n              } as React.CSSProperties\n            }\n            side={side}\n          >\n            <div className=\"flex h-full w-full flex-col\">{children}</div>\n          </SheetContent>\n        </Sheet>\n      )\n    }\n\n    return (\n      <div\n        ref={ref}\n        className=\"group peer hidden md:block text-sidebar-foreground\"\n        data-state={state}\n        data-collapsible={state === \"collapsed\" ? collapsible : \"\"}\n        data-variant={variant}\n        data-side={side}\n      >\n        {/* This is what handles the sidebar gap on desktop */}\n        <div\n          className={cn(\n            \"duration-200 relative h-svh w-[--sidebar-width] bg-transparent transition-[width] ease-linear\",\n            \"group-data-[collapsible=offcanvas]:w-0\",\n            \"group-data-[side=right]:rotate-180\",\n            variant === \"floating\" || variant === \"inset\"\n              ? \"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4))]\"\n              : \"group-data-[collapsible=icon]:w-[--sidebar-width-icon]\"\n          )}\n        />\n        <div\n          className={cn(\n            \"duration-200 fixed inset-y-0 z-10 hidden h-svh w-[--sidebar-width] transition-[left,right,width] ease-linear md:flex\",\n            side === \"left\"\n              ? \"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]\"\n              : \"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]\",\n            // Adjust the padding for floating and inset variants.\n            variant === \"floating\" || variant === \"inset\"\n              ? \"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4)_+2px)]\"\n              : \"group-data-[collapsible=icon]:w-[--sidebar-width-icon] group-data-[side=left]:border-r group-data-[side=right]:border-l\",\n            className\n          )}\n          {...props}\n        >\n          <div\n            data-sidebar=\"sidebar\"\n            className=\"flex h-full w-full flex-col bg-sidebar group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:border-sidebar-border group-data-[variant=floating]:shadow\"\n          >\n            {children}\n          </div>\n        </div>\n      </div>\n    )\n  }\n)\nSidebar.displayName = \"Sidebar\"\n\nconst SidebarTrigger = React.forwardRef<\n  React.ElementRef<typeof Button>,\n  React.ComponentProps<typeof Button>\n>(({ className, onClick, ...props }, ref) => {\n  const { toggleSidebar } = useSidebar()\n\n  return (\n    <Button\n      ref={ref}\n      data-sidebar=\"trigger\"\n      variant=\"ghost\"\n      size=\"icon\"\n      className={cn(\"h-7 w-7\", className)}\n      onClick={(event) => {\n        onClick?.(event)\n        toggleSidebar()\n      }}\n      {...props}\n    >\n      <PanelLeft />\n      <span className=\"sr-only\">Toggle Sidebar</span>\n    </Button>\n  )\n})\nSidebarTrigger.displayName = \"SidebarTrigger\"\n\nconst SidebarRail = React.forwardRef<\n  HTMLButtonElement,\n  React.ComponentProps<\"button\">\n>(({ className, ...props }, ref) => {\n  const { toggleSidebar } = useSidebar()\n\n  return (\n    <button\n      ref={ref}\n      data-sidebar=\"rail\"\n      aria-label=\"Toggle Sidebar\"\n      tabIndex={-1}\n      onClick={toggleSidebar}\n      title=\"Toggle Sidebar\"\n      className={cn(\n        \"absolute inset-y-0 z-20 hidden w-4 -translate-x-1/2 transition-all ease-linear after:absolute after:inset-y-0 after:left-1/2 after:w-[2px] hover:after:bg-sidebar-border group-data-[side=left]:-right-4 group-data-[side=right]:left-0 sm:flex\",\n        \"[[data-side=left]_&]:cursor-w-resize [[data-side=right]_&]:cursor-e-resize\",\n        \"[[data-side=left][data-state=collapsed]_&]:cursor-e-resize [[data-side=right][data-state=collapsed]_&]:cursor-w-resize\",\n        \"group-data-[collapsible=offcanvas]:translate-x-0 group-data-[collapsible=offcanvas]:after:left-full group-data-[collapsible=offcanvas]:hover:bg-sidebar\",\n        \"[[data-side=left][data-collapsible=offcanvas]_&]:-right-2\",\n        \"[[data-side=right][data-collapsible=offcanvas]_&]:-left-2\",\n        className\n      )}\n      {...props}\n    />\n  )\n})\nSidebarRail.displayName = \"SidebarRail\"\n\nconst SidebarInset = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"main\">\n>(({ className, ...props }, ref) => {\n  return (\n    <main\n      ref={ref}\n      className={cn(\n        \"relative flex min-h-svh flex-1 flex-col bg-background\",\n        \"peer-data-[variant=inset]:min-h-[calc(100svh-theme(spacing.4))] md:peer-data-[variant=inset]:m-2 md:peer-data-[state=collapsed]:peer-data-[variant=inset]:ml-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow\",\n        className\n      )}\n      {...props}\n    />\n  )\n})\nSidebarInset.displayName = \"SidebarInset\"\n\nconst SidebarInput = React.forwardRef<\n  React.ElementRef<typeof Input>,\n  React.ComponentProps<typeof Input>\n>(({ className, ...props }, ref) => {\n  return (\n    <Input\n      ref={ref}\n      data-sidebar=\"input\"\n      className={cn(\n        \"h-8 w-full bg-background shadow-none focus-visible:ring-2 focus-visible:ring-sidebar-ring\",\n        className\n      )}\n      {...props}\n    />\n  )\n})\nSidebarInput.displayName = \"SidebarInput\"\n\nconst SidebarHeader = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\">\n>(({ className, ...props }, ref) => {\n  return (\n    <div\n      ref={ref}\n      data-sidebar=\"header\"\n      className={cn(\"flex flex-col gap-2 p-2\", className)}\n      {...props}\n    />\n  )\n})\nSidebarHeader.displayName = \"SidebarHeader\"\n\nconst SidebarFooter = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\">\n>(({ className, ...props }, ref) => {\n  return (\n    <div\n      ref={ref}\n      data-sidebar=\"footer\"\n      className={cn(\"flex flex-col gap-2 p-2\", className)}\n      {...props}\n    />\n  )\n})\nSidebarFooter.displayName = \"SidebarFooter\"\n\nconst SidebarSeparator = React.forwardRef<\n  React.ElementRef<typeof Separator>,\n  React.ComponentProps<typeof Separator>\n>(({ className, ...props }, ref) => {\n  return (\n    <Separator\n      ref={ref}\n      data-sidebar=\"separator\"\n      className={cn(\"mx-2 w-auto bg-sidebar-border\", className)}\n      {...props}\n    />\n  )\n})\nSidebarSeparator.displayName = \"SidebarSeparator\"\n\nconst SidebarContent = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\">\n>(({ className, ...props }, ref) => {\n  return (\n    <div\n      ref={ref}\n      data-sidebar=\"content\"\n      className={cn(\n        \"flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden\",\n        className\n      )}\n      {...props}\n    />\n  )\n})\nSidebarContent.displayName = \"SidebarContent\"\n\nconst SidebarGroup = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\">\n>(({ className, ...props }, ref) => {\n  return (\n    <div\n      ref={ref}\n      data-sidebar=\"group\"\n      className={cn(\"relative flex w-full min-w-0 flex-col p-2\", className)}\n      {...props}\n    />\n  )\n})\nSidebarGroup.displayName = \"SidebarGroup\"\n\nconst SidebarGroupLabel = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\"> & { asChild?: boolean }\n>(({ className, asChild = false, ...props }, ref) => {\n  const Comp = asChild ? Slot : \"div\"\n\n  return (\n    <Comp\n      ref={ref}\n      data-sidebar=\"group-label\"\n      className={cn(\n        \"duration-200 flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium text-sidebar-foreground/70 outline-none ring-sidebar-ring transition-[margin,opa] ease-linear focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0\",\n        \"group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0\",\n        className\n      )}\n      {...props}\n    />\n  )\n})\nSidebarGroupLabel.displayName = \"SidebarGroupLabel\"\n\nconst SidebarGroupAction = React.forwardRef<\n  HTMLButtonElement,\n  React.ComponentProps<\"button\"> & { asChild?: boolean }\n>(({ className, asChild = false, ...props }, ref) => {\n  const Comp = asChild ? Slot : \"button\"\n\n  return (\n    <Comp\n      ref={ref}\n      data-sidebar=\"group-action\"\n      className={cn(\n        \"absolute right-3 top-3.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0\",\n        // Increases the hit area of the button on mobile.\n        \"after:absolute after:-inset-2 after:md:hidden\",\n        \"group-data-[collapsible=icon]:hidden\",\n        className\n      )}\n      {...props}\n    />\n  )\n})\nSidebarGroupAction.displayName = \"SidebarGroupAction\"\n\nconst SidebarGroupContent = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\">\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    data-sidebar=\"group-content\"\n    className={cn(\"w-full text-sm\", className)}\n    {...props}\n  />\n))\nSidebarGroupContent.displayName = \"SidebarGroupContent\"\n\nconst SidebarMenu = React.forwardRef<\n  HTMLUListElement,\n  React.ComponentProps<\"ul\">\n>(({ className, ...props }, ref) => (\n  <ul\n    ref={ref}\n    data-sidebar=\"menu\"\n    className={cn(\"flex w-full min-w-0 flex-col gap-1\", className)}\n    {...props}\n  />\n))\nSidebarMenu.displayName = \"SidebarMenu\"\n\nconst SidebarMenuItem = React.forwardRef<\n  HTMLLIElement,\n  React.ComponentProps<\"li\">\n>(({ className, ...props }, ref) => (\n  <li\n    ref={ref}\n    data-sidebar=\"menu-item\"\n    className={cn(\"group/menu-item relative\", className)}\n    {...props}\n  />\n))\nSidebarMenuItem.displayName = \"SidebarMenuItem\"\n\nconst sidebarMenuButtonVariants = cva(\n  \"peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-none ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-[[data-sidebar=menu-action]]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:!size-8 group-data-[collapsible=icon]:!p-2 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0\",\n  {\n    variants: {\n      variant: {\n        default: \"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground\",\n        outline:\n          \"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]\",\n      },\n      size: {\n        default: \"h-8 text-sm\",\n        sm: \"h-7 text-xs\",\n        lg: \"h-12 text-sm group-data-[collapsible=icon]:!p-0\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  }\n)\n\nconst SidebarMenuButton = React.forwardRef<\n  HTMLButtonElement,\n  React.ComponentProps<\"button\"> & {\n    asChild?: boolean\n    isActive?: boolean\n    tooltip?: string | React.ComponentProps<typeof TooltipContent>\n  } & VariantProps<typeof sidebarMenuButtonVariants>\n>(\n  (\n    {\n      asChild = false,\n      isActive = false,\n      variant = \"default\",\n      size = \"default\",\n      tooltip,\n      className,\n      ...props\n    },\n    ref\n  ) => {\n    const Comp = asChild ? Slot : \"button\"\n    const { isMobile, state } = useSidebar()\n\n    const button = (\n      <Comp\n        ref={ref}\n        data-sidebar=\"menu-button\"\n        data-size={size}\n        data-active={isActive}\n        className={cn(sidebarMenuButtonVariants({ variant, size }), className)}\n        {...props}\n      />\n    )\n\n    if (!tooltip) {\n      return button\n    }\n\n    if (typeof tooltip === \"string\") {\n      tooltip = {\n        children: tooltip,\n      }\n    }\n\n    return (\n      <Tooltip>\n        <TooltipTrigger asChild>{button}</TooltipTrigger>\n        <TooltipContent\n          side=\"right\"\n          align=\"center\"\n          hidden={state !== \"collapsed\" || isMobile}\n          {...tooltip}\n        />\n      </Tooltip>\n    )\n  }\n)\nSidebarMenuButton.displayName = \"SidebarMenuButton\"\n\nconst SidebarMenuAction = React.forwardRef<\n  HTMLButtonElement,\n  React.ComponentProps<\"button\"> & {\n    asChild?: boolean\n    showOnHover?: boolean\n  }\n>(({ className, asChild = false, showOnHover = false, ...props }, ref) => {\n  const Comp = asChild ? Slot : \"button\"\n\n  return (\n    <Comp\n      ref={ref}\n      data-sidebar=\"menu-action\"\n      className={cn(\n        \"absolute right-1 top-1.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 peer-hover/menu-button:text-sidebar-accent-foreground [&>svg]:size-4 [&>svg]:shrink-0\",\n        // Increases the hit area of the button on mobile.\n        \"after:absolute after:-inset-2 after:md:hidden\",\n        \"peer-data-[size=sm]/menu-button:top-1\",\n        \"peer-data-[size=default]/menu-button:top-1.5\",\n        \"peer-data-[size=lg]/menu-button:top-2.5\",\n        \"group-data-[collapsible=icon]:hidden\",\n        showOnHover &&\n          \"group-focus-within/menu-item:opacity-100 group-hover/menu-item:opacity-100 data-[state=open]:opacity-100 peer-data-[active=true]/menu-button:text-sidebar-accent-foreground md:opacity-0\",\n        className\n      )}\n      {...props}\n    />\n  )\n})\nSidebarMenuAction.displayName = \"SidebarMenuAction\"\n\nconst SidebarMenuBadge = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\">\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    data-sidebar=\"menu-badge\"\n    className={cn(\n      \"absolute right-1 flex h-5 min-w-5 items-center justify-center rounded-md px-1 text-xs font-medium tabular-nums text-sidebar-foreground select-none pointer-events-none\",\n      \"peer-hover/menu-button:text-sidebar-accent-foreground peer-data-[active=true]/menu-button:text-sidebar-accent-foreground\",\n      \"peer-data-[size=sm]/menu-button:top-1\",\n      \"peer-data-[size=default]/menu-button:top-1.5\",\n      \"peer-data-[size=lg]/menu-button:top-2.5\",\n      \"group-data-[collapsible=icon]:hidden\",\n      className\n    )}\n    {...props}\n  />\n))\nSidebarMenuBadge.displayName = \"SidebarMenuBadge\"\n\nconst SidebarMenuSkeleton = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\"> & {\n    showIcon?: boolean\n  }\n>(({ className, showIcon = false, ...props }, ref) => {\n  // Random width between 50 to 90%.\n  const width = React.useMemo(() => {\n    return `${Math.floor(Math.random() * 40) + 50}%`\n  }, [])\n\n  return (\n    <div\n      ref={ref}\n      data-sidebar=\"menu-skeleton\"\n      className={cn(\"rounded-md h-8 flex gap-2 px-2 items-center\", className)}\n      {...props}\n    >\n      {showIcon && (\n        <Skeleton\n          className=\"size-4 rounded-md\"\n          data-sidebar=\"menu-skeleton-icon\"\n        />\n      )}\n      <Skeleton\n        className=\"h-4 flex-1 max-w-[--skeleton-width]\"\n        data-sidebar=\"menu-skeleton-text\"\n        style={\n          {\n            \"--skeleton-width\": width,\n          } as React.CSSProperties\n        }\n      />\n    </div>\n  )\n})\nSidebarMenuSkeleton.displayName = \"SidebarMenuSkeleton\"\n\nconst SidebarMenuSub = React.forwardRef<\n  HTMLUListElement,\n  React.ComponentProps<\"ul\">\n>(({ className, ...props }, ref) => (\n  <ul\n    ref={ref}\n    data-sidebar=\"menu-sub\"\n    className={cn(\n      \"mx-3.5 flex min-w-0 -translate-x-px flex-col gap-1 border-l border-sidebar-border px-2.5 py-0.5\",\n      \"group-data-[collapsible=icon]:hidden\",\n      className\n    )}\n    {...props}\n  />\n))\nSidebarMenuSub.displayName = \"SidebarMenuSub\"\n\nconst SidebarMenuSubItem = React.forwardRef<\n  HTMLLIElement,\n  React.ComponentProps<\"li\">\n>(({ ...props }, ref) => <li ref={ref} {...props} />)\nSidebarMenuSubItem.displayName = \"SidebarMenuSubItem\"\n\nconst SidebarMenuSubButton = React.forwardRef<\n  HTMLAnchorElement,\n  React.ComponentProps<\"a\"> & {\n    asChild?: boolean\n    size?: \"sm\" | \"md\"\n    isActive?: boolean\n  }\n>(({ asChild = false, size = \"md\", isActive, className, ...props }, ref) => {\n  const Comp = asChild ? Slot : \"a\"\n\n  return (\n    <Comp\n      ref={ref}\n      data-sidebar=\"menu-sub-button\"\n      data-size={size}\n      data-active={isActive}\n      className={cn(\n        \"flex h-7 min-w-0 -translate-x-px items-center gap-2 overflow-hidden rounded-md px-2 text-sidebar-foreground outline-none ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 aria-disabled:pointer-events-none aria-disabled:opacity-50 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0 [&>svg]:text-sidebar-accent-foreground\",\n        \"data-[active=true]:bg-sidebar-accent data-[active=true]:text-sidebar-accent-foreground\",\n        size === \"sm\" && \"text-xs\",\n        size === \"md\" && \"text-sm\",\n        \"group-data-[collapsible=icon]:hidden\",\n        className\n      )}\n      {...props}\n    />\n  )\n})\nSidebarMenuSubButton.displayName = \"SidebarMenuSubButton\"\n\nexport {\n  Sidebar,\n  SidebarContent,\n  SidebarFooter,\n  SidebarGroup,\n  SidebarGroupAction,\n  SidebarGroupContent,\n  SidebarGroupLabel,\n  SidebarHeader,\n  SidebarInput,\n  SidebarInset,\n  SidebarMenu,\n  SidebarMenuAction,\n  SidebarMenuBadge,\n  SidebarMenuButton,\n  SidebarMenuItem,\n  SidebarMenuSkeleton,\n  SidebarMenuSub,\n  SidebarMenuSubButton,\n  SidebarMenuSubItem,\n  SidebarProvider,\n  SidebarRail,\n  SidebarSeparator,\n  SidebarTrigger,\n  useSidebar,\n}\n",
  "src/components/ui/skeleton.tsx": "import { cn } from \"@/lib/utils\"\n\nfunction Skeleton({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) {\n  return (\n    <div\n      className={cn(\"animate-pulse rounded-md bg-muted\", className)}\n      {...props}\n    />\n  )\n}\n\nexport { Skeleton }\n",
  "src/components/ui/slider.tsx": "\"use client\"\n\nimport * as React from \"react\"\nimport * as SliderPrimitive from \"@radix-ui/react-slider\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Slider = React.forwardRef<\n  React.ElementRef<typeof SliderPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof SliderPrimitive.Root>\n>(({ className, ...props }, ref) => (\n  <SliderPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"relative flex w-full touch-none select-none items-center\",\n      className\n    )}\n    {...props}\n  >\n    <SliderPrimitive.Track className=\"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary\">\n      <SliderPrimitive.Range className=\"absolute h-full bg-primary\" />\n    </SliderPrimitive.Track>\n    <SliderPrimitive.Thumb className=\"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50\" />\n  </SliderPrimitive.Root>\n))\nSlider.displayName = SliderPrimitive.Root.displayName\n\nexport { Slider }\n",
  "src/components/ui/switch.tsx": "\"use client\"\n\nimport * as React from \"react\"\nimport * as SwitchPrimitives from \"@radix-ui/react-switch\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Switch = React.forwardRef<\n  React.ElementRef<typeof SwitchPrimitives.Root>,\n  React.ComponentPropsWithoutRef<typeof SwitchPrimitives.Root>\n>(({ className, ...props }, ref) => (\n  <SwitchPrimitives.Root\n    className={cn(\n      \"peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input\",\n      className\n    )}\n    {...props}\n    ref={ref}\n  >\n    <SwitchPrimitives.Thumb\n      className={cn(\n        \"pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0\"\n      )}\n    />\n  </SwitchPrimitives.Root>\n))\nSwitch.displayName = SwitchPrimitives.Root.displayName\n\nexport { Switch }\n",
  "src/components/ui/table.tsx": "import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Table = React.forwardRef<\n  HTMLTableElement,\n  React.HTMLAttributes<HTMLTableElement>\n>(({ className, ...props }, ref) => (\n  <div className=\"relative w-full overflow-auto\">\n    <table\n      ref={ref}\n      className={cn(\"w-full caption-bottom text-sm\", className)}\n      {...props}\n    />\n  </div>\n))\nTable.displayName = \"Table\"\n\nconst TableHeader = React.forwardRef<\n  HTMLTableSectionElement,\n  React.HTMLAttributes<HTMLTableSectionElement>\n>(({ className, ...props }, ref) => (\n  <thead ref={ref} className={cn(\"[&_tr]:border-b\", className)} {...props} />\n))\nTableHeader.displayName = \"TableHeader\"\n\nconst TableBody = React.forwardRef<\n  HTMLTableSectionElement,\n  React.HTMLAttributes<HTMLTableSectionElement>\n>(({ className, ...props }, ref) => (\n  <tbody\n    ref={ref}\n    className={cn(\"[&_tr:last-child]:border-0\", className)}\n    {...props}\n  />\n))\nTableBody.displayName = \"TableBody\"\n\nconst TableFooter = React.forwardRef<\n  HTMLTableSectionElement,\n  React.HTMLAttributes<HTMLTableSectionElement>\n>(({ className, ...props }, ref) => (\n  <tfoot\n    ref={ref}\n    className={cn(\n      \"border-t bg-muted/50 font-medium [&>tr]:last:border-b-0\",\n      className\n    )}\n    {...props}\n  />\n))\nTableFooter.displayName = \"TableFooter\"\n\nconst TableRow = React.forwardRef<\n  HTMLTableRowElement,\n  React.HTMLAttributes<HTMLTableRowElement>\n>(({ className, ...props }, ref) => (\n  <tr\n    ref={ref}\n    className={cn(\n      \"border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted\",\n      className\n    )}\n    {...props}\n  />\n))\nTableRow.displayName = \"TableRow\"\n\nconst TableHead = React.forwardRef<\n  HTMLTableCellElement,\n  React.ThHTMLAttributes<HTMLTableCellElement>\n>(({ className, ...props }, ref) => (\n  <th\n    ref={ref}\n    className={cn(\n      \"h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0\",\n      className\n    )}\n    {...props}\n  />\n))\nTableHead.displayName = \"TableHead\"\n\nconst TableCell = React.forwardRef<\n  HTMLTableCellElement,\n  React.TdHTMLAttributes<HTMLTableCellElement>\n>(({ className, ...props }, ref) => (\n  <td\n    ref={ref}\n    className={cn(\"p-4 align-middle [&:has([role=checkbox])]:pr-0\", className)}\n    {...props}\n  />\n))\nTableCell.displayName = \"TableCell\"\n\nconst TableCaption = React.forwardRef<\n  HTMLTableCaptionElement,\n  React.HTMLAttributes<HTMLTableCaptionElement>\n>(({ className, ...props }, ref) => (\n  <caption\n    ref={ref}\n    className={cn(\"mt-4 text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nTableCaption.displayName = \"TableCaption\"\n\nexport {\n  Table,\n  TableHeader,\n  TableBody,\n  TableFooter,\n  TableHead,\n  TableRow,\n  TableCell,\n  TableCaption,\n}\n",
  "src/components/ui/tabs.tsx": "\n\"use client\"\n\nimport * as React from \"react\"\nimport * as TabsPrimitive from \"@radix-ui/react-tabs\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Tabs = TabsPrimitive.Root\n\nconst TabsList = React.forwardRef<\n  React.ElementRef<typeof TabsPrimitive.List>,\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.List>\n>(({ className, ...props }, ref) => (\n  <TabsPrimitive.List\n    ref={ref}\n    className={cn(\n      \"inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground\",\n      className\n    )}\n    {...props}\n  />\n))\nTabsList.displayName = TabsPrimitive.List.displayName\n\nconst TabsTrigger = React.forwardRef<\n  React.ElementRef<typeof TabsPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.Trigger>\n>(({ className, ...props }, ref) => (\n  <TabsPrimitive.Trigger\n    ref={ref}\n    className={cn(\n      \"inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-card data-[state=active]:text-foreground data-[state=active]:shadow-sm\",\n      className\n    )}\n    {...props}\n  />\n))\nTabsTrigger.displayName = TabsPrimitive.Trigger.displayName\n\nconst TabsContent = React.forwardRef<\n  React.ElementRef<typeof TabsPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.Content>\n>(({ className, ...props }, ref) => (\n  <TabsPrimitive.Content\n    ref={ref}\n    className={cn(\n      \"mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2\",\n      className\n    )}\n    {...props}\n  />\n))\nTabsContent.displayName = TabsPrimitive.Content.displayName\n\nexport { Tabs, TabsList, TabsTrigger, TabsContent }\n\n    ",
  "src/components/ui/textarea.tsx": "\nimport * as React from 'react';\n\nimport {cn} from '@/lib/utils';\n\nconst Textarea = React.forwardRef<HTMLTextAreaElement, React.ComponentProps<'textarea'>>(\n  ({className, ...props}, ref) => {\n    return (\n      <textarea\n        className={cn(\n          'flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50',\n          className\n        )}\n        ref={ref}\n        {...props}\n      />\n    );\n  }\n);\nTextarea.displayName = 'Textarea';\n\nexport {Textarea};\n",
  "src/components/ui/toast.tsx": "\"use client\"\n\nimport * as React from \"react\"\nimport * as ToastPrimitives from \"@radix-ui/react-toast\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\nimport { X } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst ToastProvider = ToastPrimitives.Provider\n\nconst ToastViewport = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Viewport>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Viewport>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Viewport\n    ref={ref}\n    className={cn(\n      \"fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]\",\n      className\n    )}\n    {...props}\n  />\n))\nToastViewport.displayName = ToastPrimitives.Viewport.displayName\n\nconst toastVariants = cva(\n  \"group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full\",\n  {\n    variants: {\n      variant: {\n        default: \"border bg-background text-foreground\",\n        destructive:\n          \"destructive group border-destructive bg-destructive text-destructive-foreground\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  }\n)\n\nconst Toast = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Root>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Root> &\n    VariantProps<typeof toastVariants>\n>(({ className, variant, ...props }, ref) => {\n  return (\n    <ToastPrimitives.Root\n      ref={ref}\n      className={cn(toastVariants({ variant }), className)}\n      {...props}\n    />\n  )\n})\nToast.displayName = ToastPrimitives.Root.displayName\n\nconst ToastAction = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Action>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Action>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Action\n    ref={ref}\n    className={cn(\n      \"inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive\",\n      className\n    )}\n    {...props}\n  />\n))\nToastAction.displayName = ToastPrimitives.Action.displayName\n\nconst ToastClose = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Close>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Close>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Close\n    ref={ref}\n    className={cn(\n      \"absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600\",\n      className\n    )}\n    toast-close=\"\"\n    {...props}\n  >\n    <X className=\"h-4 w-4\" />\n  </ToastPrimitives.Close>\n))\nToastClose.displayName = ToastPrimitives.Close.displayName\n\nconst ToastTitle = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Title>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Title>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Title\n    ref={ref}\n    className={cn(\"text-sm font-semibold\", className)}\n    {...props}\n  />\n))\nToastTitle.displayName = ToastPrimitives.Title.displayName\n\nconst ToastDescription = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Description>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Description>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Description\n    ref={ref}\n    className={cn(\"text-sm opacity-90\", className)}\n    {...props}\n  />\n))\nToastDescription.displayName = ToastPrimitives.Description.displayName\n\ntype ToastProps = React.ComponentPropsWithoutRef<typeof Toast>\n\ntype ToastActionElement = React.ReactElement<typeof ToastAction>\n\nexport {\n  type ToastProps,\n  type ToastActionElement,\n  ToastProvider,\n  ToastViewport,\n  Toast,\n  ToastTitle,\n  ToastDescription,\n  ToastClose,\n  ToastAction,\n}\n",
  "src/components/ui/toaster.tsx": "\"use client\"\n\nimport { useToast } from \"@/hooks/use-toast\"\nimport {\n  Toast,\n  ToastClose,\n  ToastDescription,\n  ToastProvider,\n  ToastTitle,\n  ToastViewport,\n} from \"@/components/ui/toast\"\n\nexport function Toaster() {\n  const { toasts } = useToast()\n\n  return (\n    <ToastProvider>\n      {toasts.map(function ({ id, title, description, action, ...props }) {\n        return (\n          <Toast key={id} {...props}>\n            <div className=\"grid gap-1\">\n              {title && <ToastTitle>{title}</ToastTitle>}\n              {description && (\n                <ToastDescription>{description}</ToastDescription>\n              )}\n            </div>\n            {action}\n            <ToastClose />\n          </Toast>\n        )\n      })}\n      <ToastViewport />\n    </ToastProvider>\n  )\n}\n",
  "src/components/ui/tooltip.tsx": "\"use client\"\n\nimport * as React from \"react\"\nimport * as TooltipPrimitive from \"@radix-ui/react-tooltip\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst TooltipProvider = TooltipPrimitive.Provider\n\nconst Tooltip = TooltipPrimitive.Root\n\nconst TooltipTrigger = TooltipPrimitive.Trigger\n\nconst TooltipContent = React.forwardRef<\n  React.ElementRef<typeof TooltipPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof TooltipPrimitive.Content>\n>(({ className, sideOffset = 4, ...props }, ref) => (\n  <TooltipPrimitive.Content\n    ref={ref}\n    sideOffset={sideOffset}\n    className={cn(\n      \"z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2\",\n      className\n    )}\n    {...props}\n  />\n))\nTooltipContent.displayName = TooltipPrimitive.Content.displayName\n\nexport { Tooltip, TooltipTrigger, TooltipContent, TooltipProvider }\n",
  "src/firebase/client-provider.tsx": "'use client';\n\nimport React, { useEffect, useState, type ReactNode } from 'react';\nimport { FirebaseProvider } from '@/firebase/provider';\nimport { initializeFirebase } from '@/firebase';\nimport type { FirebaseApp } from 'firebase/app';\nimport type { Auth } from 'firebase/auth';\nimport type { Firestore } from 'firebase/firestore';\nimport { Loader2 } from 'lucide-react';\n\ninterface FirebaseClientProviderProps {\n  children: ReactNode;\n}\n\ntype FirebaseServices = {\n  firebaseApp: FirebaseApp;\n  auth: Auth;\n  firestore: Firestore;\n};\n\n// Singleton promise to ensure Firebase initializes only once\nlet firebaseInitializationPromise: Promise<FirebaseServices> | null = null;\n\nexport function FirebaseClientProvider({ children }: FirebaseClientProviderProps) {\n  const [firebaseServices, setFirebaseServices] = useState<FirebaseServices | null>(null);\n  const [isLoading, setIsLoading] = useState(true);\n\n  useEffect(() => {\n    if (firebaseInitializationPromise === null) {\n      firebaseInitializationPromise = new Promise((resolve, reject) => {\n        const services = initializeFirebase();\n        if (services) {\n          resolve(services);\n        } else {\n          // This case should ideally not be hit in the browser.\n          // It's a safeguard.\n          reject(new Error(\"Firebase initialization failed on the client.\"));\n        }\n      });\n    }\n\n    firebaseInitializationPromise.then(services => {\n      setFirebaseServices(services);\n      setIsLoading(false);\n    }).catch(error => {\n      console.error(error);\n      setIsLoading(false);\n    });\n  }, []); \n\n  if (isLoading) {\n    return (\n      <div className=\"flex h-screen w-screen items-center justify-center bg-background\">\n        <Loader2 className=\"h-8 w-8 animate-spin\" />\n      </div>\n    );\n  }\n\n  if (!firebaseServices) {\n    return (\n       <div className=\"flex h-screen w-screen items-center justify-center bg-background text-destructive-foreground\">\n        <p>Could not connect to Firebase. Please try again later.</p>\n      </div>\n    ); \n  }\n\n  return (\n    <FirebaseProvider\n      firebaseApp={firebaseServices.firebaseApp}\n      auth={firebaseServices.auth}\n      firestore={firebaseServices.firestore}\n    >\n      {children}\n    </FirebaseProvider>\n  );\n}\n",
  "src/firebase/config.ts": "export const firebaseConfig = {\n  \"projectId\": \"studio-9731020287-1911d\",\n  \"appId\": \"1:708890745767:web:4509ba162828ea8754f482\",\n  \"apiKey\": \"AIzaSyA06h7SNJPcOr-mdP5DJNp7rxk5LhBvlCg\",\n  \"authDomain\": \"studio-9731020287-1911d.firebaseapp.com\",\n  \"measurementId\": \"\",\n  \"messagingSenderId\": \"708890745767\"\n};\n",
  "src/firebase/error-emitter.ts": "\n'use client';\nimport { FirestorePermissionError } from '@/firebase/errors';\n\n/**\n * Defines the shape of all possible events and their corresponding payload types.\n * This centralizes event definitions for type safety across the application.\n */\nexport interface AppEvents {\n  'permission-error': FirestorePermissionError;\n}\n\n// A generic type for a callback function.\ntype Callback<T> = (data: T) => void;\n\n/**\n * A strongly-typed pub/sub event emitter.\n * It uses a generic type T that extends a record of event names to payload types.\n */\nfunction createEventEmitter<T extends Record<string, any>>() {\n  // The events object stores arrays of callbacks, keyed by event name.\n  // The types ensure that a callback for a specific event matches its payload type.\n  const events: { [K in keyof T]?: Array<Callback<T[K]>> } = {};\n\n  return {\n    /**\n     * Subscribe to an event.\n     * @param eventName The name of the event to subscribe to.\n     * @param callback The function to call when the event is emitted.\n     */\n    on<K extends keyof T>(eventName: K, callback: Callback<T[K]>) {\n      if (!events[eventName]) {\n        events[eventName] = [];\n      }\n      events[eventName]?.push(callback);\n    },\n\n    /**\n     * Unsubscribe from an event.\n     * @param eventName The name of the event to unsubscribe from.\n     * @param callback The specific callback to remove.\n     */\n    off<K extends keyof T>(eventName: K, callback: Callback<T[K]>) {\n      if (!events[eventName]) {\n        return;\n      }\n      events[eventName] = events[eventName]?.filter(cb => cb !== callback);\n    },\n\n    /**\n     * Publish an event to all subscribers.\n     * @param eventName The name of the event to emit.\n     * @param data The data payload that corresponds to the event's type.\n     */\n    emit<K extends keyof T>(eventName: K, data: T[K]) {\n      if (!events[eventName]) {\n        return;\n      }\n      events[eventName]?.forEach(callback => callback(data));\n    },\n  };\n}\n\n// Create and export a singleton instance of the emitter, typed with our AppEvents interface.\nexport const errorEmitter = createEventEmitter<AppEvents>();\n",
  "src/firebase/errors.ts": "\n'use client';\nimport { getAuth, type User } from 'firebase/auth';\n\nexport type SecurityRuleContext = {\n  path: string;\n  operation: 'get' | 'list' | 'create' | 'update' | 'delete' | 'write';\n  requestResourceData?: any;\n};\n\ninterface FirebaseAuthToken {\n  name: string | null;\n  email: string | null;\n  email_verified: boolean;\n  phone_number: string | null;\n  sub: string;\n  firebase: {\n    identities: Record<string, string[]>;\n    sign_in_provider: string;\n    tenant: string | null;\n  };\n}\n\ninterface FirebaseAuthObject {\n  uid: string;\n  token: FirebaseAuthToken;\n}\n\ninterface SecurityRuleRequest {\n  auth: FirebaseAuthObject | null;\n  method: string;\n  path: string;\n  resource?: {\n    data: any;\n  };\n}\n\n/**\n * Builds a security-rule-compliant auth object from the Firebase User.\n * @param currentUser The currently authenticated Firebase user.\n * @returns An object that mirrors request.auth in security rules, or null.\n */\nfunction buildAuthObject(currentUser: User | null): FirebaseAuthObject | null {\n  if (!currentUser) {\n    return null;\n  }\n\n  const token: FirebaseAuthToken = {\n    name: currentUser.displayName,\n    email: currentUser.email,\n    email_verified: currentUser.emailVerified,\n    phone_number: currentUser.phoneNumber,\n    sub: currentUser.uid,\n    firebase: {\n      identities: currentUser.providerData.reduce((acc, p) => {\n        if (p.providerId) {\n          acc[p.providerId] = [p.uid];\n        }\n        return acc;\n      }, {} as Record<string, string[]>),\n      sign_in_provider: currentUser.providerData[0]?.providerId || 'custom',\n      tenant: currentUser.tenantId,\n    },\n  };\n\n  return {\n    uid: currentUser.uid,\n    token: token,\n  };\n}\n\n/**\n * Builds the complete, simulated request object for the error message.\n * It safely tries to get the current authenticated user.\n * @param context The context of the failed Firestore operation.\n * @returns A structured request object.\n */\nfunction buildRequestObject(context: SecurityRuleContext): SecurityRuleRequest {\n  let authObject: FirebaseAuthObject | null = null;\n  try {\n    // Safely attempt to get the current user.\n    const firebaseAuth = getAuth();\n    const currentUser = firebaseAuth.currentUser;\n    if (currentUser) {\n      authObject = buildAuthObject(currentUser);\n    }\n  } catch {\n    // This will catch errors if the Firebase app is not yet initialized.\n    // In this case, we'll proceed without auth information.\n  }\n\n  return {\n    auth: authObject,\n    method: context.operation,\n    path: `/databases/(default)/documents/${context.path}`,\n    resource: context.requestResourceData ? { data: context.requestResourceData } : undefined,\n  };\n}\n\n/**\n * Builds the final, formatted error message for the LLM.\n * @param requestObject The simulated request object.\n * @returns A string containing the error message and the JSON payload.\n */\nfunction buildErrorMessage(requestObject: SecurityRuleRequest): string {\n  return `Missing or insufficient permissions: The following request was denied by Firestore Security Rules:\n${JSON.stringify(requestObject, null, 2)}`;\n}\n\n/**\n * A custom error class designed to be consumed by an LLM for debugging.\n * It structures the error information to mimic the request object\n * available in Firestore Security Rules.\n */\nexport class FirestorePermissionError extends Error {\n  public readonly request: SecurityRuleRequest;\n\n  constructor(context: SecurityRuleContext) {\n    const requestObject = buildRequestObject(context);\n    super(buildErrorMessage(requestObject));\n    this.name = 'FirestoreError';\n    this.request = requestObject;\n  }\n}\n",
  "src/firebase/firestore/use-collection.tsx": "\n'use client';\n\nimport { useState, useEffect } from 'react';\nimport {\n  Query,\n  onSnapshot,\n  DocumentData,\n  FirestoreError,\n  QuerySnapshot,\n  CollectionReference,\n} from 'firebase/firestore';\nimport { errorEmitter } from '@/firebase/error-emitter';\nimport { FirestorePermissionError } from '@/firebase/errors';\n\n/** Utility type to add an 'id' field to a given type T. */\nexport type WithId<T> = T & { id: string };\n\n/**\n * Interface for the return value of the useCollection hook.\n * @template T Type of the document data.\n */\nexport interface UseCollectionResult<T> {\n  data: WithId<T>[] | null; // Document data with ID, or null.\n  isLoading: boolean;       // True if loading.\n  error: FirestoreError | Error | null; // Error object, or null.\n}\n\n/* Internal implementation of Query:\n  https://github.com/firebase/firebase-js-sdk/blob/c5f08a9bc5da0d2b0207802c972d53724ccef055/packages/firestore/src/lite-api/reference.ts#L143\n*/\nexport interface InternalQuery extends Query<DocumentData> {\n  _query: {\n    path: {\n      canonicalString(): string;\n      toString(): string;\n    }\n  }\n}\n\n/**\n * React hook to subscribe to a Firestore collection or query in real-time.\n * Handles nullable references/queries.\n * \n *\n * IMPORTANT! YOU MUST MEMOIZE the inputted memoizedTargetRefOrQuery or BAD THINGS WILL HAPPEN\n * use useMemoFirebase to memoize it per React guidence.  Also make sure that it's dependencies are stable\n * references\n *  \n * @template T Optional type for document data. Defaults to any.\n * @param {CollectionReference<DocumentData> | Query<DocumentData> | null | undefined} memoizedTargetRefOrQuery -\n * The Firestore CollectionReference or Query. Waits if null/undefined.\n * @returns {UseCollectionResult<T>} Object with data, isLoading, error.\n */\nexport function useCollection<T = any>(\n    memoizedTargetRefOrQuery: ((CollectionReference<DocumentData> | Query<DocumentData>) & {__memo?: boolean})  | null | undefined,\n): UseCollectionResult<T> {\n  type ResultItemType = WithId<T>;\n  type StateDataType = ResultItemType[] | null;\n\n  const [data, setData] = useState<StateDataType>(null);\n  const [isLoading, setIsLoading] = useState<boolean>(true); // Start loading true\n  const [error, setError] = useState<FirestoreError | Error | null>(null);\n\n  useEffect(() => {\n    // If the reference is not ready, reset state and do nothing.\n    if (!memoizedTargetRefOrQuery) {\n      setData(null);\n      setIsLoading(false); // Not loading if there's no ref\n      setError(null);\n      return;\n    }\n\n    // Enforce that the reference is memoized\n    if (!memoizedTargetRefOrQuery.__memo) {\n      throw new Error('The query or reference passed to useCollection must be memoized with useMemoFirebase.');\n    }\n\n    setIsLoading(true);\n    setError(null);\n\n    const unsubscribe = onSnapshot(\n      memoizedTargetRefOrQuery,\n      (snapshot: QuerySnapshot<DocumentData>) => {\n        const results: ResultItemType[] = snapshot.docs.map(doc => ({\n          ...(doc.data() as T),\n          id: doc.id\n        }));\n        setData(results);\n        setError(null);\n        setIsLoading(false);\n      },\n      (error: FirestoreError) => {\n        const path: string =\n          memoizedTargetRefOrQuery.type === 'collection'\n            ? (memoizedTargetRefOrQuery as CollectionReference).path\n            : (memoizedTargetRefOrQuery as unknown as InternalQuery)._query.path.canonicalString();\n\n        const contextualError = new FirestorePermissionError({\n          operation: 'list',\n          path,\n        });\n\n        setError(contextualError);\n        setData(null);\n        setIsLoading(false);\n\n        errorEmitter.emit('permission-error', contextualError);\n      }\n    );\n\n    return () => unsubscribe();\n  }, [memoizedTargetRefOrQuery]);\n\n  return { data, isLoading, error };\n}\n",
  "src/firebase/firestore/use-doc.tsx": "\n'use client';\n    \nimport { useState, useEffect } from 'react';\nimport {\n  DocumentReference,\n  onSnapshot,\n  DocumentData,\n  FirestoreError,\n  DocumentSnapshot,\n} from 'firebase/firestore';\nimport { errorEmitter } from '@/firebase/error-emitter';\nimport { FirestorePermissionError } from '@/firebase/errors';\n\n/** Utility type to add an 'id' field to a given type T. */\ntype WithId<T> = T & { id: string };\n\n/**\n * Interface for the return value of the useDoc hook.\n * @template T Type of the document data.\n */\nexport interface UseDocResult<T> {\n  data: WithId<T> | null; // Document data with ID, or null.\n  isLoading: boolean;       // True if loading.\n  error: FirestoreError | Error | null; // Error object, or null.\n}\n\n/**\n * React hook to subscribe to a single Firestore document in real-time.\n * Handles nullable references.\n * \n * IMPORTANT! YOU MUST MEMOIZE the inputted memoizedDocRef or BAD THINGS WILL HAPPEN\n * use useMemoFirebase to memoize it per React guidence.  Also make sure that it's dependencies are stable\n * references\n *\n *\n * @template T Optional type for document data. Defaults to any.\n * @param {DocumentReference<DocumentData> | null | undefined} memoizedDocRef -\n * The Firestore DocumentReference. Waits if null/undefined.\n * @returns {UseDocResult<T>} Object with data, isLoading, error.\n */\nexport function useDoc<T = any>(\n  memoizedDocRef: (DocumentReference<DocumentData> & { __memo?: boolean }) | null | undefined,\n): UseDocResult<T> {\n  type StateDataType = WithId<T> | null;\n\n  const [data, setData] = useState<StateDataType>(null);\n  const [isLoading, setIsLoading] = useState<boolean>(true); // Start loading true\n  const [error, setError] = useState<FirestoreError | Error | null>(null);\n\n  useEffect(() => {\n    // If the reference is not ready, reset state and do nothing.\n    if (!memoizedDocRef) {\n      setData(null);\n      setIsLoading(false); // Not loading if there's no ref\n      setError(null);\n      return;\n    }\n    \n    // Enforce that the reference is memoized\n    if (!memoizedDocRef.__memo) {\n      throw new Error('The DocumentReference passed to useDoc must be memoized with useMemoFirebase.');\n    }\n\n    setIsLoading(true);\n    setError(null);\n\n    const unsubscribe = onSnapshot(\n      memoizedDocRef,\n      (snapshot: DocumentSnapshot<DocumentData>) => {\n        if (snapshot.exists()) {\n          setData({ ...(snapshot.data() as T), id: snapshot.id });\n        } else {\n          setData(null); // Document does not exist\n        }\n        setError(null);\n        setIsLoading(false);\n      },\n      (error: FirestoreError) => {\n        const contextualError = new FirestorePermissionError({\n          operation: 'get',\n          path: memoizedDocRef.path,\n        })\n\n        setError(contextualError);\n        setData(null);\n        setIsLoading(false);\n\n        errorEmitter.emit('permission-error', contextualError);\n      }\n    );\n\n    return () => unsubscribe();\n  }, [memoizedDocRef]);\n\n  return { data, isLoading, error };\n}\n",
  "src/firebase/index.ts": "\nimport { firebaseConfig } from '@/firebase/config';\nimport { initializeApp, getApps, getApp, type FirebaseApp } from 'firebase/app';\nimport { getAuth, type Auth } from 'firebase/auth';\nimport { getFirestore, type Firestore } from 'firebase/firestore';\n\n// A memoized object to hold the Firebase services.\nlet firebaseServices: { firebaseApp: FirebaseApp; auth: Auth; firestore: Firestore } | null = null;\n\n// This function initializes Firebase and returns the services.\n// It's designed to be idempotent, meaning it will only initialize the app once.\nexport function initializeFirebase() {\n  if (typeof window === 'undefined') {\n    // On the server, we don't initialize Firebase.\n    // The client-provider will handle this.\n    return null;\n  }\n  \n  if (firebaseServices) {\n    return firebaseServices;\n  }\n\n  const app = getApps().length > 0 ? getApp() : initializeApp(firebaseConfig);\n  const auth = getAuth(app);\n  const firestore = getFirestore(app);\n\n  firebaseServices = { firebaseApp: app, auth, firestore };\n  return firebaseServices;\n}\n\n// Re-export other necessary modules.\nexport * from './provider';\nexport * from './client-provider';\nexport * from './firestore/use-collection';\nexport * from './firestore/use-doc';\nexport * from './non-blocking-updates';\nexport * from './non-blocking-login';\nexport * from './errors';\nexport * from './error-emitter';\n",
  "src/firebase/non-blocking-login.tsx": "'use client';\nimport {\n  Auth, // Import Auth type for type hinting\n  signInAnonymously,\n  createUserWithEmailAndPassword,\n  signInWithEmailAndPassword,\n  // Assume getAuth and app are initialized elsewhere\n} from 'firebase/auth';\n\n/** Initiate anonymous sign-in (non-blocking). */\nexport function initiateAnonymousSignIn(authInstance: Auth): void {\n  // CRITICAL: Call signInAnonymously directly. Do NOT use 'await signInAnonymously(...)'.\n  signInAnonymously(authInstance);\n  // Code continues immediately. Auth state change is handled by onAuthStateChanged listener.\n}\n\n/** Initiate email/password sign-up (non-blocking). */\nexport function initiateEmailSignUp(authInstance: Auth, email: string, password: string): void {\n  // CRITICAL: Call createUserWithEmailAndPassword directly. Do NOT use 'await createUserWithEmailAndPassword(...)'.\n  createUserWithEmailAndPassword(authInstance, email, password);\n  // Code continues immediately. Auth state change is handled by onAuthStateChanged listener.\n}\n\n/** Initiate email/password sign-in (non-blocking). */\nexport function initiateEmailSignIn(authInstance: Auth, email: string, password: string): void {\n  // CRITICAL: Call signInWithEmailAndPassword directly. Do NOT use 'await signInWithEmailAndPassword(...)'.\n  signInWithEmailAndPassword(authInstance, email, password);\n  // Code continues immediately. Auth state change is handled by onAuthStateChanged listener.\n}\n",
  "src/firebase/non-blocking-updates.tsx": "\n'use client';\n    \nimport {\n  setDoc,\n  addDoc,\n  updateDoc,\n  deleteDoc,\n  CollectionReference,\n  DocumentReference,\n  SetOptions,\n} from 'firebase/firestore';\nimport { errorEmitter } from '@/firebase/error-emitter';\nimport {FirestorePermissionError} from '@/firebase/errors';\n\n/**\n * Initiates a setDoc operation for a document reference.\n * Does NOT await the write operation internally.\n */\nexport function setDocumentNonBlocking(docRef: DocumentReference, data: any, options?: SetOptions) {\n  setDoc(docRef, data, { ...options }).catch(error => {\n    errorEmitter.emit(\n      'permission-error',\n      new FirestorePermissionError({\n        path: docRef.path,\n        operation: options && 'merge' in options ? 'update' : 'create',\n        requestResourceData: data,\n      })\n    )\n  })\n  // Execution continues immediately\n}\n\n\n/**\n * Initiates an addDoc operation for a collection reference.\n * Does NOT await the write operation internally.\n * Returns the Promise for the new doc ref, but typically not awaited by caller.\n */\nexport function addDocumentNonBlocking(colRef: CollectionReference, data: any) {\n  const promise = addDoc(colRef, data)\n    .catch(error => {\n      errorEmitter.emit(\n        'permission-error',\n        new FirestorePermissionError({\n          path: colRef.path,\n          operation: 'create',\n          requestResourceData: data,\n        })\n      )\n    });\n  return promise;\n}\n\n\n/**\n * Initiates an updateDoc operation for a document reference.\n * Does NOT await the write operation internally.\n */\nexport function updateDocumentNonBlocking(docRef: DocumentReference, data: any) {\n  updateDoc(docRef, data)\n    .catch(error => {\n      errorEmitter.emit(\n        'permission-error',\n        new FirestorePermissionError({\n          path: docRef.path,\n          operation: 'update',\n          requestResourceData: data,\n        })\n      )\n    });\n}\n\n\n/**\n * Initiates a deleteDoc operation for a document reference.\n * Does NOT await the write operation internally.\n */\nexport function deleteDocumentNonBlocking(docRef: DocumentReference) {\n  deleteDoc(docRef)\n    .catch(error => {\n      errorEmitter.emit(\n        'permission-error',\n        new FirestorePermissionError({\n          path: docRef.path,\n          operation: 'delete',\n        })\n      )\n    });\n}\n",
  "src/firebase/provider.tsx": "\n'use client';\n\nimport React, { DependencyList, createContext, useContext, ReactNode, useMemo, useState, useEffect } from 'react';\nimport { FirebaseApp } from 'firebase/app';\nimport { Firestore } from 'firebase/firestore';\nimport { Auth, User, onAuthStateChanged } from 'firebase/auth';\nimport { FirebaseErrorListener } from '@/components/FirebaseErrorListener';\nimport { Loader2 } from 'lucide-react';\n\ninterface FirebaseProviderProps {\n  children: ReactNode;\n  firebaseApp: FirebaseApp;\n  firestore: Firestore;\n  auth: Auth;\n}\n\n// Internal state for user authentication\ninterface UserAuthState {\n  user: User | null;\n  isUserLoading: boolean;\n  userError: Error | null;\n}\n\n// Combined state for the Firebase context\nexport interface FirebaseContextState {\n  firebaseApp: FirebaseApp;\n  firestore: Firestore;\n  auth: Auth;\n  user: User | null;\n  isUserLoading: boolean;\n  userError: Error | null;\n}\n\n// Return type for useFirebase()\nexport interface FirebaseServicesAndUser extends FirebaseContextState {\n  firebaseApp: FirebaseApp;\n  firestore: Firestore;\n  auth: Auth;\n}\n\n\n// Return type for useUser() - specific to user auth state\nexport interface UserHookResult { \n  user: User | null;\n  isUserLoading: boolean;\n  userError: Error | null;\n}\n\n// React Context\nexport const FirebaseContext = createContext<FirebaseContextState | undefined>(undefined);\n\n/**\n * FirebaseProvider manages and provides Firebase services and user authentication state.\n */\nexport const FirebaseProvider: React.FC<FirebaseProviderProps> = ({\n  children,\n  firebaseApp,\n  firestore,\n  auth,\n}) => {\n  const [userAuthState, setUserAuthState] = useState<UserAuthState>({\n    user: null, // Start with null user, let onAuthStateChanged determine the state\n    isUserLoading: true, // Start loading until first auth event is confirmed\n    userError: null,\n  });\n\n  // Effect to subscribe to Firebase auth state changes\n  useEffect(() => {\n    const unsubscribe = onAuthStateChanged(\n      auth,\n      (firebaseUser) => { // Auth state determined\n        setUserAuthState({ user: firebaseUser, isUserLoading: false, userError: null });\n      },\n      (error) => { // Auth listener error\n        console.error(\"FirebaseProvider: onAuthStateChanged error:\", error);\n        setUserAuthState({ user: null, isUserLoading: false, userError: error });\n      }\n    );\n    return () => unsubscribe(); // Cleanup\n  }, [auth]);\n\n  // Memoize the context value\n  const contextValue = useMemo((): FirebaseContextState => ({\n    firebaseApp,\n    firestore,\n    auth,\n    ...userAuthState,\n  }), [firebaseApp, firestore, auth, userAuthState]);\n\n  return (\n    <FirebaseContext.Provider value={contextValue}>\n      <FirebaseErrorListener />\n      {children}\n    </FirebaseContext.Provider>\n  );\n};\n\n\nfunction useFirebaseContext() {\n    const context = useContext(FirebaseContext);\n    if (context === undefined) {\n        throw new Error('useFirebaseContext must be used within a FirebaseProvider.');\n    }\n    return context;\n}\n\n\n/**\n * Hook to access core Firebase services and user authentication state.\n * Throws error if core services are not available or used outside provider.\n */\nexport const useFirebase = (): FirebaseServicesAndUser => {\n  const context = useFirebaseContext();\n\n  if (!context.firebaseApp || !context.firestore || !context.auth) {\n    throw new Error('Firebase core services not available. Check FirebaseProvider setup.');\n  }\n\n  return {\n    ...context,\n    firebaseApp: context.firebaseApp,\n    firestore: context.firestore,\n    auth: context.auth,\n  };\n};\n\n/** Hook to access Firebase Auth instance. */\nexport const useAuth = (): Auth => {\n  const { auth } = useFirebase();\n  return auth;\n};\n\n/** Hook to access Firestore instance. */\nexport const useFirestore = (): Firestore => {\n  const { firestore } = useFirebase();\n  return firestore;\n};\n\n/** Hook to access Firebase App instance. */\nexport const useFirebaseApp = (): FirebaseApp => {\n  const { firebaseApp } = useFirebase();\n  return firebaseApp;\n};\n\ntype MemoFirebase <T> = T & {__memo?: boolean};\n\n/**\n * A wrapper around React's `useMemo` to stabilize Firestore query and document references.\n * This hook \"tags\" the memoized value, allowing `useCollection` and `useDoc` to\n * verify that the reference has been properly memoized, preventing infinite loops.\n *\n * @param factory The function that creates the Firebase reference or query.\n * @param deps The dependency array for `useMemo`.\n * @returns The memoized Firebase reference or query.\n */\nexport function useMemoFirebase<T>(factory: () => T, deps: DependencyList): T {\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  const memoized = useMemo(factory, deps);\n  \n  if (memoized && typeof memoized === 'object') {\n    (memoized as MemoFirebase<T>).__memo = true;\n  }\n  \n  return memoized;\n}\n\n/**\n * Hook specifically for accessing the authenticated user's state.\n * This provides the User object, loading status, and any auth errors.\n * @returns {UserHookResult} Object with user, isUserLoading, userError.\n */\nexport const useUser = (): UserHookResult => {\n  const { user, isUserLoading, userError } = useFirebaseContext();\n  return { user, isUserLoading, userError };\n};\n",
  "src/hooks/use-mobile.tsx": "import * as React from \"react\"\n\nconst MOBILE_BREAKPOINT = 768\n\nexport function useIsMobile() {\n  const [isMobile, setIsMobile] = React.useState<boolean | undefined>(undefined)\n\n  React.useEffect(() => {\n    const mql = window.matchMedia(`(max-width: ${MOBILE_BREAKPOINT - 1}px)`)\n    const onChange = () => {\n      setIsMobile(window.innerWidth < MOBILE_BREAKPOINT)\n    }\n    mql.addEventListener(\"change\", onChange)\n    setIsMobile(window.innerWidth < MOBILE_BREAKPOINT)\n    return () => mql.removeEventListener(\"change\", onChange)\n  }, [])\n\n  return !!isMobile\n}\n",
  "src/hooks/use-toast.ts": "\"use client\"\n\n// Inspired by react-hot-toast library\nimport * as React from \"react\"\n\nimport type {\n  ToastActionElement,\n  ToastProps,\n} from \"@/components/ui/toast\"\n\nconst TOAST_LIMIT = 1\nconst TOAST_REMOVE_DELAY = 1000000\n\ntype ToasterToast = ToastProps & {\n  id: string\n  title?: React.ReactNode\n  description?: React.ReactNode\n  action?: ToastActionElement\n}\n\nconst actionTypes = {\n  ADD_TOAST: \"ADD_TOAST\",\n  UPDATE_TOAST: \"UPDATE_TOAST\",\n  DISMISS_TOAST: \"DISMISS_TOAST\",\n  REMOVE_TOAST: \"REMOVE_TOAST\",\n} as const\n\nlet count = 0\n\nfunction genId() {\n  count = (count + 1) % Number.MAX_SAFE_INTEGER\n  return count.toString()\n}\n\ntype ActionType = typeof actionTypes\n\ntype Action =\n  | {\n      type: ActionType[\"ADD_TOAST\"]\n      toast: ToasterToast\n    }\n  | {\n      type: ActionType[\"UPDATE_TOAST\"]\n      toast: Partial<ToasterToast>\n    }\n  | {\n      type: ActionType[\"DISMISS_TOAST\"]\n      toastId?: ToasterToast[\"id\"]\n    }\n  | {\n      type: ActionType[\"REMOVE_TOAST\"]\n      toastId?: ToasterToast[\"id\"]\n    }\n\ninterface State {\n  toasts: ToasterToast[]\n}\n\nconst toastTimeouts = new Map<string, ReturnType<typeof setTimeout>>()\n\nconst addToRemoveQueue = (toastId: string) => {\n  if (toastTimeouts.has(toastId)) {\n    return\n  }\n\n  const timeout = setTimeout(() => {\n    toastTimeouts.delete(toastId)\n    dispatch({\n      type: \"REMOVE_TOAST\",\n      toastId: toastId,\n    })\n  }, TOAST_REMOVE_DELAY)\n\n  toastTimeouts.set(toastId, timeout)\n}\n\nexport const reducer = (state: State, action: Action): State => {\n  switch (action.type) {\n    case \"ADD_TOAST\":\n      return {\n        ...state,\n        toasts: [action.toast, ...state.toasts].slice(0, TOAST_LIMIT),\n      }\n\n    case \"UPDATE_TOAST\":\n      return {\n        ...state,\n        toasts: state.toasts.map((t) =>\n          t.id === action.toast.id ? { ...t, ...action.toast } : t\n        ),\n      }\n\n    case \"DISMISS_TOAST\": {\n      const { toastId } = action\n\n      // ! Side effects ! - This could be extracted into a dismissToast() action,\n      // but I'll keep it here for simplicity\n      if (toastId) {\n        addToRemoveQueue(toastId)\n      } else {\n        state.toasts.forEach((toast) => {\n          addToRemoveQueue(toast.id)\n        })\n      }\n\n      return {\n        ...state,\n        toasts: state.toasts.map((t) =>\n          t.id === toastId || toastId === undefined\n            ? {\n                ...t,\n                open: false,\n              }\n            : t\n        ),\n      }\n    }\n    case \"REMOVE_TOAST\":\n      if (action.toastId === undefined) {\n        return {\n          ...state,\n          toasts: [],\n        }\n      }\n      return {\n        ...state,\n        toasts: state.toasts.filter((t) => t.id !== action.toastId),\n      }\n  }\n}\n\nconst listeners: Array<(state: State) => void> = []\n\nlet memoryState: State = { toasts: [] }\n\nfunction dispatch(action: Action) {\n  memoryState = reducer(memoryState, action)\n  listeners.forEach((listener) => {\n    listener(memoryState)\n  })\n}\n\ntype Toast = Omit<ToasterToast, \"id\">\n\nfunction toast({ ...props }: Toast) {\n  const id = genId()\n\n  const update = (props: ToasterToast) =>\n    dispatch({\n      type: \"UPDATE_TOAST\",\n      toast: { ...props, id },\n    })\n  const dismiss = () => dispatch({ type: \"DISMISS_TOAST\", toastId: id })\n\n  dispatch({\n    type: \"ADD_TOAST\",\n    toast: {\n      ...props,\n      id,\n      open: true,\n      onOpenChange: (open) => {\n        if (!open) dismiss()\n      },\n    },\n  })\n\n  return {\n    id: id,\n    dismiss,\n    update,\n  }\n}\n\nfunction useToast() {\n  const [state, setState] = React.useState<State>(memoryState)\n\n  React.useEffect(() => {\n    listeners.push(setState)\n    return () => {\n      const index = listeners.indexOf(setState)\n      if (index > -1) {\n        listeners.splice(index, 1)\n      }\n    }\n  }, [state])\n\n  return {\n    ...state,\n    toast,\n    dismiss: (toastId?: string) => dispatch({ type: \"DISMISS_TOAST\", toastId }),\n  }\n}\n\nexport { useToast, toast }\n",
  "src/lib/placeholder-images.json": "{\n  \"placeholderImages\": [\n    {\n      \"id\": \"product1\",\n      \"description\": \"A modern smart watch on a stand\",\n      \"imageUrl\": \"https://images.unsplash.com/photo-1579586337278-3befd40fd17a?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3NDE5ODJ8MHwxfHNlYXJjaHwxfHxzbWFydCUyMHdhdGNofGVufDB8fHx8MTc2MTQwMzA0Mnww&ixlib=rb-4.1.0&q=80&w=1080\",\n      \"imageHint\": \"smart watch\"\n    },\n    {\n      \"id\": \"product2\",\n      \"description\": \"High-quality wireless headphones\",\n      \"imageUrl\": \"https://images.unsplash.com/photo-1598331668826-20cecc596b86?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3NDE5ODJ8MHwxfHNlYXJjaHw4fHx3aXJlbGVzcyUyMGhlYWRwaG9uZXN8ZW58MHx8fHwxNzYxMzUwMDI0fDA&ixlib=rb-4.1.0&q=80&w=1080\",\n      \"imageHint\": \"wireless headphones\"\n    },\n    {\n      \"id\": \"product3\",\n      \"description\": \"A sleek and powerful laptop\",\n      \"imageUrl\": \"https://images.unsplash.com/photo-1542393545-10f5cde2c810?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3NDE5ODJ8MHwxfHNlYXJjaHw3fHxsYXB0b3AlMjBjb21wdXRlcnxlbnwwfHx8fDE3NjEzMzMwMzR8MA&ixlib=rb-4.1.0&q=80&w=1080\",\n      \"imageHint\": \"laptop computer\"\n    },\n    {\n      \"id\": \"product4\",\n      \"description\": \"A professional-grade camera\",\n      \"imageUrl\": \"https://images.unsplash.com/photo-1541766066774-c86dcf76dff2?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3NDE5ODJ8MHwxfHNlYXJjaHw0fHxkaWdpdGFsJTIwY2FtZXJhfGVufDB8fHx8MTc2MTMyNTQwMXww&ixlib=rb-4.1.0&q=80&w=1080\",\n      \"imageHint\": \"digital camera\"\n    },\n    {\n      \"id\": \"product5\",\n      \"description\": \"A comfortable ergonomic office chair\",\n      \"imageUrl\": \"https://images.unsplash.com/photo-1688578735427-994ecdea3ea4?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3NDE5ODJ8MHwxfHNlYXJjaHwxfHxvZmZpY2UlMjBjaGFpcnxlbnwwfHx8fDE3NjE0MTYxNTl8MA&ixlib=rb-4.1.0&q=80&w=1080\",\n      \"imageHint\": \"office chair\"\n    },\n    {\n      \"id\": \"product6\",\n      \"description\": \"A virtual reality headset\",\n      \"imageUrl\": \"https://images.unsplash.com/photo-1622979135225-d2ba269cf1ac?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3NDE5ODJ8MHwxfHNlYXJjaHwxfHxWUiUyMGhlYWRzZXR8ZW58MHx8fHwxNzYxMzY0ODQ1fDA&ixlib=rb-4.1.0&q=80&w=1080\",\n      \"imageHint\": \"VR headset\"\n    },\n    {\n      \"id\": \"product7\",\n      \"description\": \"A smart home hub device\",\n      \"imageUrl\": \"https://images.unsplash.com/photo-1608377205619-03a0b4c4e270?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3NDE5ODJ8MHwxfHNlYXJjaHwzfHxzbWFydCUyMGhvbWV8ZW58MHx8fHwxNzYxMzU4NDA2fDA&ixlib=rb-4.1.0&q=80&w=1080\",\n      \"imageHint\": \"smart home\"\n    },\n    {\n      \"id\": \"product8\",\n      \"description\": \"An electric scooter for urban commuting\",\n      \"imageUrl\": \"https://images.unsplash.com/photo-1655101336147-10b23f1226ff?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3NDE5ODJ8MHwxfHNlYXJjaHw1fHxlbGVjdHJpYyUyMHNjb290ZXJ8ZW58MHx8fHwxNzYxNDMzMDE0fDA&ixlib=rb-4.1.0&q=80&w=1080\",\n      \"imageHint\": \"electric scooter\"\n    }\n  ]\n}",
  "src/lib/placeholder-images.ts": "import data from './placeholder-images.json';\n\nexport type ImagePlaceholder = {\n  id: string;\n  description: string;\n  imageUrl: string;\n  imageHint: string;\n};\n\nexport const PlaceHolderImages: ImagePlaceholder[] = data.placeholderImages;\n",
  "src/lib/utils.ts": "import { clsx, type ClassValue } from \"clsx\"\nimport { twMerge } from \"tailwind-merge\"\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs))\n}\n",
  "src/services/email-service.ts": "\n'use server';\n/**\n * @fileOverview An email sending service using SendGrid.\n * It reads the API key and 'from' email from environment variables.\n */\n\nimport sgMail from '@sendgrid/mail';\n\n// Set the API key from environment variables when the server starts.\nif (process.env.SENDGRID_API_KEY) {\n  sgMail.setApiKey(process.env.SENDGRID_API_KEY);\n}\n\ninterface EmailParams {\n  to: string;\n  subject: string;\n  body: string;\n}\n\n/**\n * Sends an email using SendGrid.\n * @param {EmailParams} params - The email parameters.\n * @returns {Promise<{success: boolean, message: string}>} - The result of the operation.\n */\nexport async function sendEmail(params: EmailParams): Promise<{ success: boolean; message: string }> {\n  const { to, subject, body } = params;\n  \n  // Check if the service is configured.\n  if (!process.env.SENDGRID_API_KEY || !process.env.SENDGRID_FROM_EMAIL) {\n    console.error(\"SendGrid API Key or From Email not configured in environment variables.\");\n    // In production, you might want a more user-friendly message.\n    // For the developer, this simulation is more informative.\n    return { \n        success: false, \n        message: 'Email service is not configured. Simulating success for development.' \n    };\n  }\n  \n  const msg = {\n    to: to,\n    from: process.env.SENDGRID_FROM_EMAIL, // Use the verified sender email from .env\n    subject: subject,\n    html: body, // SendGrid uses `html` for the body\n  };\n\n  try {\n    await sgMail.send(msg);\n    return { success: true, message: `Email successfully sent to ${to}` };\n  } catch (error: any) {\n    console.error('SendGrid Error:', error.response?.body || error);\n    return {\n      success: false,\n      message: `Failed to send email: ${error.message || 'An unknown error occurred'}`,\n    };\n  }\n}\n",
  "src/services/firestore-service.ts": "'use server';\n/**\n * @fileOverview A server-side service for interacting with Firestore.\n * This service uses the Firebase Admin SDK to perform backend operations.\n */\n\nimport { getFirestore, FieldValue } from 'firebase-admin/firestore';\nimport { initializeApp, getApps, App } from 'firebase-admin/app';\nimport { firebaseConfig } from '@/firebase/config';\n\n// Initialize Firebase Admin SDK\nfunction getFirebaseAdminApp(): App {\n  if (getApps().length > 0) {\n    return getApps()[0]!;\n  }\n  return initializeApp({\n    projectId: firebaseConfig.projectId\n  });\n}\n\n/**\n * Adds leads of a specific status to a given outreach sequence for a user.\n * @param {object} params - The parameters for the operation.\n * @param {string} params.userId - The ID of the user.\n * @param {string} params.sequenceName - The name of the outreach sequence.\n * @param {string} params.leadStatus - The status of leads to add.\n * @returns {Promise<{success: boolean, message: string, leadsAdded?: number}>} - The result of the operation.\n */\nexport async function addLeadsToSequence(params: {\n  userId: string;\n  sequenceName: string;\n  leadStatus: string;\n}): Promise<{ success: boolean; message: string; leadsAdded?: number }> {\n  const { userId, sequenceName, leadStatus } = params;\n  const db = getFirestore(getFirebaseAdminApp());\n\n  try {\n    // 1. Find the outreach sequence by name for the user\n    const sequenceQuery = db\n      .collection(`users/${userId}/outreachSequences`)\n      .where('name', '==', sequenceName)\n      .limit(1);\n      \n    const sequenceSnapshot = await sequenceQuery.get();\n\n    if (sequenceSnapshot.empty) {\n      return { success: false, message: `Outreach sequence named '${sequenceName}' not found.` };\n    }\n    const sequenceDoc = sequenceSnapshot.docs[0];\n    const sequenceId = sequenceDoc.id;\n    const sequenceData = sequenceDoc.data();\n    const existingLeadIds = new Set(sequenceData.leadIds || []);\n\n    // 2. Find all leads with the specified status for the user\n    const leadsQuery = db\n      .collection(`users/${userId}/leads`)\n      .where('status', '==', leadStatus);\n      \n    const leadsSnapshot = await leadsQuery.get();\n    \n    if (leadsSnapshot.empty) {\n        return { success: false, message: `No leads found with status '${leadStatus}'.` };\n    }\n\n    // 3. Filter out leads that are already in the sequence\n    const leadsToAdd = leadsSnapshot.docs.filter(doc => !existingLeadIds.has(doc.id));\n    \n    if (leadsToAdd.length === 0) {\n      return { success: true, message: `All leads with status '${leadStatus}' are already in the sequence.`, leadsAdded: 0 };\n    }\n\n    const leadIdsToAdd = leadsToAdd.map(doc => doc.id);\n\n    // 4. Add the new lead IDs to the sequence and update their status\n    const batch = db.batch();\n\n    // Update sequence\n    const newLeadIds = Array.from(new Set([...Array.from(existingLeadIds), ...leadIdsToAdd]));\n    batch.update(sequenceDoc.ref, { leadIds: newLeadIds });\n\n    // Update leads\n    for (const leadDoc of leadsToAdd) {\n      batch.update(leadDoc.ref, { status: 'Contacted' });\n    }\n\n    await batch.commit();\n\n    return { success: true, message: `Added ${leadsToAdd.length} leads.`, leadsAdded: leadsToAdd.length };\n\n  } catch (error: any) {\n    console.error(\"Error adding leads to sequence:\", error);\n    return { success: false, message: `An internal error occurred: ${error.message}` };\n  }\n}\n\n\ntype LeadData = {\n  firstName?: string;\n  lastName?: string;\n  company?: string;\n  domain?: string;\n  email?: string;\n  status?: string;\n};\n\n/**\n * Saves or updates a lead in the database.\n * If a leadId is provided, it updates the existing lead. Otherwise, it creates a new one.\n * @param {object} params - The parameters for the operation.\n * @param {string} params.userId - The ID of the user.\n * @param {LeadData} params.leadData - The data for the lead.\n * @param {string} [params.leadId] - The ID of the lead to update.\n * @returns {Promise<{leadId: string}>} - The ID of the created or updated lead.\n */\nexport async function saveLead(params: {\n  userId: string;\n  leadData: LeadData;\n  leadId?: string;\n}): Promise<{ leadId: string }> {\n  const { userId, leadData, leadId } = params;\n  const db = getFirestore(getFirebaseAdminApp());\n\n  try {\n    const leadsCollection = db.collection(`users/${userId}/leads`);\n    \n    if (leadId) {\n      // Update existing lead\n      const leadDocRef = leadsCollection.doc(leadId);\n      await leadDocRef.update({\n        ...leadData,\n        updatedAt: FieldValue.serverTimestamp(),\n      });\n      return { leadId };\n    } else {\n      // Create new lead\n      const leadDocRef = await leadsCollection.add({\n        ...leadData,\n        createdAt: FieldValue.serverTimestamp(),\n        updatedAt: FieldValue.serverTimestamp(),\n      });\n      return { leadId: leadDocRef.id };\n    }\n  } catch (error: any) {\n    console.error(\"Error saving lead:\", error);\n    throw new Error(`An internal error occurred while saving the lead: ${error.message}`);\n  }\n}\n",
  "tailwind.config.ts": "import type {Config} from 'tailwindcss';\n\nexport default {\n  darkMode: ['class'],\n  content: [\n    './src/pages/**/*.{js,ts,jsx,tsx,mdx}',\n    './src/components/**/*.{js,ts,jsx,tsx,mdx}',\n    './src/app/**/*.{js,ts,jsx,tsx,mdx}',\n  ],\n  theme: {\n    extend: {\n      fontFamily: {\n        body: ['Inter', 'sans-serif'],\n        headline: ['Space Grotesk', 'sans-serif'],\n        code: ['monospace'],\n      },\n      colors: {\n        background: 'hsl(var(--background))',\n        foreground: 'hsl(var(--foreground))',\n        card: {\n          DEFAULT: 'hsl(var(--card))',\n          foreground: 'hsl(var(--card-foreground))',\n        },\n        popover: {\n          DEFAULT: 'hsl(var(--popover))',\n          foreground: 'hsl(var(--popover-foreground))',\n        },\n        primary: {\n          DEFAULT: 'hsl(var(--primary))',\n          foreground: 'hsl(var(--primary-foreground))',\n        },\n        secondary: {\n          DEFAULT: 'hsl(var(--secondary))',\n          foreground: 'hsl(var(--secondary-foreground))',\n        },\n        muted: {\n          DEFAULT: 'hsl(var(--muted))',\n          foreground: 'hsl(var(--muted-foreground))',\n        },\n        accent: {\n          DEFAULT: 'hsl(var(--accent))',\n          foreground: 'hsl(var(--accent-foreground))',\n        },\n        destructive: {\n          DEFAULT: 'hsl(var(--destructive))',\n          foreground: 'hsl(var(--destructive-foreground))',\n        },\n        border: 'hsl(var(--border))',\n        input: 'hsl(var(--input))',\n        ring: 'hsl(var(--ring))',\n        chart: {\n          '1': 'hsl(var(--chart-1))',\n          '2': 'hsl(var(--chart-2))',\n          '3': 'hsl(var(--chart-3))',\n          '4': 'hsl(var(--chart-4))',\n          '5': 'hsl(var(--chart-5))',\n        },\n        sidebar: {\n          DEFAULT: 'hsl(var(--sidebar-background))',\n          foreground: 'hsl(var(--sidebar-foreground))',\n          primary: 'hsl(var(--sidebar-primary))',\n          'primary-foreground': 'hsl(var(--sidebar-primary-foreground))',\n          accent: 'hsl(var(--sidebar-accent))',\n          'accent-foreground': 'hsl(var(--sidebar-accent-foreground))',\n          border: 'hsl(var(--sidebar-border))',\n          ring: 'hsl(var(--sidebar-ring))',\n        },\n      },\n      borderRadius: {\n        lg: 'var(--radius)',\n        md: 'calc(var(--radius) - 2px)',\n        sm: 'calc(var(--radius) - 4px)',\n      },\n      keyframes: {\n        'accordion-down': {\n          from: {\n            height: '0',\n          },\n          to: {\n            height: 'var(--radix-accordion-content-height)',\n          },\n        },\n        'accordion-up': {\n          from: {\n            height: 'var(--radix-accordion-content-height)',\n          },\n          to: {\n            height: '0',\n          },\n        },\n      },\n      animation: {\n        'accordion-down': 'accordion-down 0.2s ease-out',\n        'accordion-up': 'accordion-up 0.2s ease-out',\n      },\n    },\n  },\n  plugins: [require('tailwindcss-animate')],\n} satisfies Config;\n",
  "tsconfig.json": "{\n  \"compilerOptions\": {\n    \"target\": \"ES2017\",\n    \"lib\": [\"dom\", \"dom.iterable\", \"esnext\"],\n    \"allowJs\": true,\n    \"skipLibCheck\": true,\n    \"strict\": true,\n    \"noEmit\": true,\n    \"esModuleInterop\": true,\n    \"module\": \"esnext\",\n    \"moduleResolution\": \"bundler\",\n    \"resolveJsonModule\": true,\n    \"isolatedModules\": true,\n    \"jsx\": \"preserve\",\n    \"incremental\": true,\n    \"plugins\": [\n      {\n        \"name\": \"next\"\n      }\n    ],\n    \"paths\": {\n      \"@/*\": [\"./src/*\"]\n    }\n  },\n  \"include\": [\"next-env.d.ts\", \"**/*.ts\", \"**/*.tsx\", \".next/types/**/*.ts\"],\n  \"exclude\": [\"node_modules\"]\n}\n"
}